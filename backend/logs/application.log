2025-12-29T15:29:58.185+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@38921022 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:29:58.186+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891787184 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:29:58.195+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.194+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75fb3027] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.198+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.201+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.201+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.220+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.220+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a33920]
2025-12-29T15:29:58.220+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@674456848 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:29:58.220+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.220+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.231+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.228+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.228+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.232+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a842f6]
2025-12-29T15:29:58.233+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7c3ec3] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.235+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.235+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.236+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561673333 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:29:58.237+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.242+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682145da] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:29:58.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d946df]
2025-12-29T15:29:58.245+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744097242 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:29:58.245+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6dd630]
2025-12-29T15:29:58.245+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:29:58.246+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.248+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:29:58.248+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.249+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3121b8cf] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.250+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 3(Long), 2(Long)
2025-12-29T15:29:58.251+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f60668] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.252+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1691728406 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:29:58.255+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1161397968 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:29:58.257+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:29:58.258+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:29:58.259+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:29:58.259+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.260+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:29:58.261+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T15:29:58.261+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 3(Long), 2(Long)
2025-12-29T15:29:58.261+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7c3ec3]
2025-12-29T15:29:58.261+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75fb3027]
2025-12-29T15:29:58.262+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682145da]
2025-12-29T15:29:58.264+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.264+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.264+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.265+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:29:58.265+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T15:29:58.266+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2efe71d3] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.267+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b833a5] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.267+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aaf869f] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.267+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3121b8cf]
2025-12-29T15:29:58.267+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f60668]
2025-12-29T15:29:58.268+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@39377129 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:29:58.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.268+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819171229 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:29:58.269+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220675973 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:29:58.269+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:29:58.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fed394d] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:29:58.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b6abd] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:29:58.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1506721182 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:29:58.278+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 3(Long), 2(Long)
2025-12-29T15:29:58.278+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.278+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009798591 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:29:58.278+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.280+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:29:58.282+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.282+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:29:58.283+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T15:29:58.283+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.283+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:29:58.285+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b833a5]
2025-12-29T15:29:58.285+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aaf869f]
2025-12-29T15:29:58.286+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.286+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2efe71d3]
2025-12-29T15:29:58.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.288+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:29:58.295+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fed394d]
2025-12-29T15:29:58.296+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:29:58.297+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.297+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e1c00] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.298+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=8, drafterId=2 (truncated)...]
2025-12-29T15:29:58.298+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:29:58.373+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=8, drafterId=2 (truncated)...]
2025-12-29T15:29:58.384+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:29:58.299+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b6abd]
2025-12-29T15:29:58.408+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.300+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a047a6b] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.301+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1007301915 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:29:58.302+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:29:58.410+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5195fc8e] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.413+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470751249 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:29:58.419+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.413+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.417+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@183519875 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:29:58.627+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.424+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.620+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.628+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.647+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.647+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.648+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.651+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a047a6b]
2025-12-29T15:29:58.652+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5195fc8e]
2025-12-29T15:29:58.660+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e1c00]
2025-12-29T15:29:58.660+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.675+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.676+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:29:58.680+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d076b6d] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.681+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23510d1d] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.685+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=8, drafterId=2 (truncated)...]
2025-12-29T15:29:58.686+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425637764 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:29:58.694+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1574892661 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:29:58.695+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:29:58.695+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:29:58.714+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:29:58.699+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:29:58.719+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:29:58.942+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:29:58.968+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d076b6d]
2025-12-29T15:29:58.971+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:29:58.975+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.975+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23510d1d]
2025-12-29T15:29:58.975+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48121079] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.976+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:29:58.981+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@243815957 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:29:58.982+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd6856d] was not registered for synchronization because synchronization is not active
2025-12-29T15:29:58.982+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.983+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464092175 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:29:58.983+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.984+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:29:58.986+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:29:58.997+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:58.998+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:29:59.000+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48121079]
2025-12-29T15:29:59.000+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd6856d]
2025-12-29T15:29:59.000+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:29:59.001+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:29:59.002+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:29:59.005+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:29:59.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:29:59.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:30:25.289+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&drafterName=test_user1
2025-12-29T15:30:25.296+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&drafterName=test_user1
2025-12-29T15:30:25.300+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:30:25.319+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&drafterName=test_user1
2025-12-29T15:30:25.328+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&drafterName=test_user1", parameters={masked}
2025-12-29T15:30:25.331+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:30:25.338+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:25.343+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9d6e76] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:25.347+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1044440291 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:30:25.348+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:30:25.351+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2025-12-29T15:30:25.382+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 6
2025-12-29T15:30:25.383+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9d6e76]
2025-12-29T15:30:25.384+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:25.385+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e88289] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:25.393+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743595936 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:30:25.393+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:30:25.394+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:30:25.397+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:30:25.397+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e88289]
2025-12-29T15:30:25.398+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:25.399+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8f1d9] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:25.400+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984284515 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:30:25.401+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:30:25.402+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:30:25.409+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T15:30:25.410+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8f1d9]
2025-12-29T15:30:25.411+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:25.411+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be920d3] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:25.412+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2079279182 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:30:25.412+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:30:25.413+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2025-12-29T15:30:25.421+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 6
2025-12-29T15:30:25.428+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be920d3]
2025-12-29T15:30:25.444+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:25.444+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@101d884] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:25.446+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931251663 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:30:25.446+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:30:25.447+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:30:25.451+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:30:25.452+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@101d884]
2025-12-29T15:30:25.452+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:25.456+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea1f99d] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:25.458+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292280117 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:30:25.460+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:30:25.461+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:30:25.464+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T15:30:25.465+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea1f99d]
2025-12-29T15:30:25.466+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:25.466+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fa82ed] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:25.467+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694953726 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:30:25.467+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:30:25.468+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:30:25.470+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:30:25.473+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fa82ed]
2025-12-29T15:30:25.475+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:30:25.476+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:30:25.477+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:30:26.821+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:30:26.825+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:30:26.827+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:30:26.828+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:30:26.830+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:30:26.830+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:30:26.835+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:26.842+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a886ad2] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:26.854+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@375757777 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:30:26.860+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:30:26.862+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:30:26.869+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:30:26.879+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a886ad2]
2025-12-29T15:30:26.882+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:26.883+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3342e49f] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:26.884+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648396668 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:30:26.885+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:30:26.885+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:30:26.890+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:30:26.891+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3342e49f]
2025-12-29T15:30:26.894+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:26.895+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81ad574] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:26.895+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744013556 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:30:26.896+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:30:26.898+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:30:26.902+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:30:26.907+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81ad574]
2025-12-29T15:30:26.908+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:26.908+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8ec294] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:26.909+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1163986404 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:30:26.910+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:30:26.910+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:30:26.913+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:30:26.914+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8ec294]
2025-12-29T15:30:26.916+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:26.916+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6632ac20] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:26.917+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197478416 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:30:26.917+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:30:26.918+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:30:26.921+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:30:26.923+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6632ac20]
2025-12-29T15:30:26.924+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:26.925+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5795c47f] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:26.926+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615850241 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:30:26.926+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:30:26.927+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:30:26.931+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:30:26.932+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5795c47f]
2025-12-29T15:30:26.935+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:30:26.936+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7235512e] was not registered for synchronization because synchronization is not active
2025-12-29T15:30:26.942+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@200983851 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:30:26.943+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:30:26.944+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:30:26.947+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:30:26.952+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7235512e]
2025-12-29T15:30:26.956+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:30:26.959+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:30:26.962+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:26.497+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:26.498+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:26.501+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:26.970+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:26.986+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:26.988+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:27.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:27.011+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:27.401+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:27.442+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:27.464+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89703fa] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:27.509+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:27.571+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:27.669+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@234740575 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:27.690+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:27.695+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:27.708+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:27.709+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:27.741+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:27.725+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:27.740+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:27.742+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:27.743+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:27.796+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:27.903+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 3
2025-12-29T15:33:27.916+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:27.940+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce0922b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:27.942+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89703fa]
2025-12-29T15:33:27.942+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751c890b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:27.946+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:27.947+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1408662588 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:27.948+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69587339] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:27.950+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:27.951+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:27.954+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@908034346 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:27.955+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:27.956+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188840845 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:27.957+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:27.959+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:27.961+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:27.961+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:27.962+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751c890b]
2025-12-29T15:33:27.972+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:27.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601813d0] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:27.979+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1910344201 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:27.980+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:27.980+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:27.983+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:27.983+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:27.986+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69587339]
2025-12-29T15:33:27.987+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce0922b]
2025-12-29T15:33:27.989+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:27.990+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:27.991+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34960ee4] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:27.991+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b002c39] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:27.996+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1396932577 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:27.997+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120841287 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:27.997+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:27.998+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:27.999+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 3(Long), 2(Long)
2025-12-29T15:33:28.006+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:28.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:28.012+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601813d0]
2025-12-29T15:33:28.013+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:28.016+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b002c39]
2025-12-29T15:33:28.013+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T15:33:28.014+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:28.019+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:28.020+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34960ee4]
2025-12-29T15:33:28.022+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa06c72] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:28.023+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7ee933] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:28.024+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:28.026+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973498981 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:28.028+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@838166401 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:28.029+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a2d9dd] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:28.030+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:28.032+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:28.036+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@113706563 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:28.037+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:28.039+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:28.039+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:28.040+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:28.046+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:28.046+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:28.047+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:28.048+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7ee933]
2025-12-29T15:33:28.053+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa06c72]
2025-12-29T15:33:28.053+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a2d9dd]
2025-12-29T15:33:28.055+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:28.058+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d44047c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:28.059+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@836714902 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:28.057+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:28.060+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6681ff01] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:28.058+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:28.060+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:28.060+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2145115231 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:28.061+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=8, drafterId=2 (truncated)...]
2025-12-29T15:33:28.061+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:28.063+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:28.066+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:28.073+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:28.105+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:28.125+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d44047c]
2025-12-29T15:33:28.128+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:28.130+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:28.136+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736a00c0] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:28.136+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6681ff01]
2025-12-29T15:33:28.137+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1311804725 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:28.139+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:28.140+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:28.154+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601019ef] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:28.155+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:28.156+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@159423259 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:28.157+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:28.158+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:28.176+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:28.185+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736a00c0]
2025-12-29T15:33:28.190+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:28.193+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:28.194+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601019ef]
2025-12-29T15:33:28.194+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:28.199+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:28.205+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:28.211+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:28.222+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:30.608+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:30.618+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-29T15:33:30.624+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:30.629+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-29T15:33:30.631+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:30.780+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:30.788+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:30.819+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T15:33:30.819+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:30.822+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:30.824+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T15:33:30.824+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:30.827+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-29T15:33:30.847+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T15:33:30.848+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T15:33:30.830+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:30.836+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:30.851+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:30.843+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/approvers
2025-12-29T15:33:30.852+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T15:33:30.853+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T15:33:30.853+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T15:33:30.847+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:30.850+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T15:33:30.851+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:30.855+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:30.852+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:30.856+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ef08b27] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:30.854+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:30.857+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e2c98b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:30.854+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:30.858+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:30.859+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:30.860+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:30.861+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60f36d0c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:30.855+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:30.856+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:30.862+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a615a6] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:30.863+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:30.863+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f7202] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:30.910+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753801687 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:30.911+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@708851027 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:30.911+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@540990770 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:30.912+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773641772 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:30.913+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219796701 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:30.943+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:30.943+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T15:33:30.943+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T15:33:30.955+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:30.969+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:30.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:30.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T15:33:30.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T15:33:30.979+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:30.983+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:30.994+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:30.994+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:30.994+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 3
2025-12-29T15:33:30.995+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T15:33:30.996+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T15:33:31.004+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f7202]
2025-12-29T15:33:31.005+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60f36d0c]
2025-12-29T15:33:31.006+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ef08b27]
2025-12-29T15:33:31.006+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a615a6]
2025-12-29T15:33:31.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e2c98b]
2025-12-29T15:33:31.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.010+09:00  INFO 51832 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T15:33:31.011+09:00  INFO 51832 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T15:33:31.023+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@157eff5] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.024+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab7ea12] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.024+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67eefaa] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.025+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:31.027+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:31.031+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T15:33:31.027+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684864707 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:31.028+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086762231 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:31.029+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351148780 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:31.031+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T15:33:31.036+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:31.036+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:31.043+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:31.036+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:31.038+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:31.041+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:31.045+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:31.047+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:31.060+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:31.073+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@157eff5]
2025-12-29T15:33:31.074+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.081+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:31.081+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:31.089+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278d5e07] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.090+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab7ea12]
2025-12-29T15:33:31.102+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.090+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67eefaa]
2025-12-29T15:33:31.098+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@421209412 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:31.103+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@659193e8] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.106+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.107+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:31.109+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087574578 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:31.109+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59febc] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.110+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:31.111+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:31.115+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179002818 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:31.121+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:31.122+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:31.127+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 3(Long), 2(Long)
2025-12-29T15:33:31.158+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T15:33:31.158+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:31.161+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:31.169+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59febc]
2025-12-29T15:33:31.170+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@659193e8]
2025-12-29T15:33:31.171+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278d5e07]
2025-12-29T15:33:31.178+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.179+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.194+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.195+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3270e979] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.197+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67eb674f] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.201+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23de6ae8] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.203+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@115887509 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:31.209+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@244098697 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:31.210+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@776779714 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:31.211+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:31.211+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:31.212+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:31.214+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:31.222+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:31.223+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:31.263+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:31.264+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:31.265+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:31.272+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23de6ae8]
2025-12-29T15:33:31.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67eb674f]
2025-12-29T15:33:31.278+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.279+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d395b1] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3270e979]
2025-12-29T15:33:31.280+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:31.275+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:31.280+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1304315355 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:31.281+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=8, drafterId=2 (truncated)...]
2025-12-29T15:33:31.290+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0fe51a] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:31.307+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@215371097 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:31.290+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:31.298+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:31.307+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:31.308+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:31.326+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:31.355+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:31.355+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:31.358+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d395b1]
2025-12-29T15:33:31.360+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0fe51a]
2025-12-29T15:33:31.361+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:31.362+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:31.362+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:31.363+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:31.364+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:31.379+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:33.633+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:33.640+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/expenses/8
2025-12-29T15:33:33.642+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:33.644+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/expenses/8
2025-12-29T15:33:33.647+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/expenses/8", parameters={}
2025-12-29T15:33:33.658+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#updateExpense(Long, ExpenseReportDto)
2025-12-29T15:33:33.713+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=2, reportDate=2025-12-29, title=test, totalAmount=1 (truncated)...]
2025-12-29T15:33:33.866+09:00  INFO 51832 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 지출결의서 수정 요청 - expenseId: 8, currentUserId: 2, title: test, totalAmount: 1111
2025-12-29T15:33:33.888+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:33.889+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:33.890+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074737312 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will be managed by Spring
2025-12-29T15:33:33.890+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:33.892+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:33.896+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:33.897+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:33.898+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb] from current transaction
2025-12-29T15:33:33.898+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:33:33.904+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:33:33.924+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:33:33.925+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:33.926+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb] from current transaction
2025-12-29T15:33:33.926+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.updateExpenseReport            : ==>  Preparing: UPDATE expense_report_tb SET title = ?, report_date = ?, total_amount = ?, payment_req_date = ?, is_secret = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:33.928+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.updateExpenseReport            : ==> Parameters: test(String), 2025-12-29(LocalDate), 1111(Long), 2025-12-29(LocalDate), false(Boolean), 8(Long), 1(Long)
2025-12-29T15:33:33.946+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.updateExpenseReport            : <==    Updates: 1
2025-12-29T15:33:33.946+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:33.947+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb] from current transaction
2025-12-29T15:33:33.947+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.deleteExpenseDetails           : ==>  Preparing: DELETE FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:33.948+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.deleteExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:33.954+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.deleteExpenseDetails           : <==    Updates: 1
2025-12-29T15:33:33.955+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:33.955+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 수정 시작 - 항목 수: 1
2025-12-29T15:33:33.956+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb] from current transaction
2025-12-29T15:33:33.956+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-29T15:33:33.957+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 8(Long), 식대(String), test(String), 1111(Long), (String), 1(Long)
2025-12-29T15:33:33.963+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-29T15:33:33.964+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:33.965+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 수정 완료
2025-12-29T15:33:33.991+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb] from current transaction
2025-12-29T15:33:33.994+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.deleteApprovalLines            : ==>  Preparing: DELETE FROM approval_line_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:33.995+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.deleteApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:33.997+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.deleteApprovalLines            : <==    Updates: 1
2025-12-29T15:33:33.998+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:33.998+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 결재 라인 수정 시작 - 라인 수: 1
2025-12-29T15:33:34.001+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb] from current transaction
2025-12-29T15:33:34.002+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T15:33:34.005+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 8(Long), 2(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-29T15:33:34.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-29T15:33:34.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:34.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 결재 라인 수정 완료
2025-12-29T15:33:34.008+09:00  INFO 51832 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 지출결의서 수정 완료 - expenseReportId: 8
2025-12-29T15:33:34.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:34.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:34.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a79ebb]
2025-12-29T15:33:34.020+09:00  INFO 51832 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 지출결의서 수정 완료 - expenseId: 8
2025-12-29T15:33:34.021+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:34.021+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 수정 성공, data=8)]
2025-12-29T15:33:34.022+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:34.958+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:34.960+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:34.961+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:34.993+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:34.994+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:35.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:35.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:35.018+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:35.011+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:35.013+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:35.053+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:35.026+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:35.055+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:35.114+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:35.122+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:35.124+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.123+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:35.125+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:35.125+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a36e51] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6deedd9e] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.127+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:35.133+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.155+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@82d560e] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.160+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1793503792 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:35.161+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1460853749 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:35.161+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:35.163+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:35.163+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2036542343 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:35.164+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.165+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:35.170+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:35.174+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.187+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:35.188+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 3
2025-12-29T15:33:35.191+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a36e51]
2025-12-29T15:33:35.190+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6deedd9e]
2025-12-29T15:33:35.192+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.192+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.193+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a46af31] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.193+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af24408] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.194+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1373830704 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:35.196+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2052920284 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:35.197+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:35.197+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:35.198+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:35.199+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.203+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:35.206+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@82d560e]
2025-12-29T15:33:35.209+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.210+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f3a988] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.210+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10297840 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:35.211+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:35.211+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.213+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:35.213+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:35.214+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:35.216+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a46af31]
2025-12-29T15:33:35.226+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af24408]
2025-12-29T15:33:35.228+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f3a988]
2025-12-29T15:33:35.229+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.229+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.230+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.230+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ed1420] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.231+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7568c0] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.237+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bb4f7c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.238+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1548551243 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:35.239+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@858761634 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:35.241+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134770090 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:35.241+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:35.241+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:35.242+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:35.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 3(Long), 2(Long)
2025-12-29T15:33:35.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.246+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T15:33:35.246+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:35.246+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:35.247+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7568c0]
2025-12-29T15:33:35.255+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ed1420]
2025-12-29T15:33:35.257+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bb4f7c]
2025-12-29T15:33:35.257+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.257+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.257+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.259+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@661c3316] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.259+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@178960fc] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.260+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db3fa89] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.261+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2042839046 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:35.262+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:35.261+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@128592293 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:35.262+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@379455289 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:35.263+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.271+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:35.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:35.272+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:35.276+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:35.276+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:35.277+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:35.280+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@661c3316]
2025-12-29T15:33:35.281+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@178960fc]
2025-12-29T15:33:35.284+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:35.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db3fa89]
2025-12-29T15:33:35.286+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:35.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:35.288+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ed43cb] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.288+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=8, drafterId=2 (truncated)...]
2025-12-29T15:33:35.288+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6790b360] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:35.289+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315851619 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:35.293+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:35.293+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:35.290+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:35.291+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891648681 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:35.297+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:35.298+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:35.308+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:35.308+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:35.309+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6790b360]
2025-12-29T15:33:35.310+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ed43cb]
2025-12-29T15:33:35.314+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:35.329+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:35.331+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:35.346+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:35.349+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:35.355+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:39.201+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8/approve
2025-12-29T15:33:39.209+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/8/approve
2025-12-29T15:33:39.213+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8/approve
2025-12-29T15:33:39.275+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/8/approve
2025-12-29T15:33:39.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/8/approve", parameters={}
2025-12-29T15:33:39.289+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-29T15:33:39.291+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=2, stepOrder=null, status=null (truncated)...]
2025-12-29T15:33:39.310+09:00  INFO 51832 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 8, approverId: 2
2025-12-29T15:33:39.328+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:39.328+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.330+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@589468043 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will be managed by Spring
2025-12-29T15:33:39.330+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:39.333+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:39.348+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:39.354+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.354+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8] from current transaction
2025-12-29T15:33:39.355+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-29T15:33:39.355+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAMC0lEQVR4AezdO44TaRcGYGuCiZFYABGLQAR0ACkZKRHbIGIbRMTsACRE0glL6IgAkRAQd/L/83qmGvfdZdfluzxoTNnuctU5z2m9Kn1d9Px1fn7+Pw8Gvgd8D/geKO974K+NPwQIECBQpICALnIsiiJA4F6BDnYQ0B0MWYsECNQpIKDrnJuqCRDoQEBAdzBkLfYooOcWBAR0C1PUAwECTQoI6CbHqikCBFoQENAtTFEPYwXsT6AKAQFdxZgUSYBAjwICusep65kAgSoEBHQVY1q2SGcjQKAMAQFdxhxUQYAAgWsCAvoaiTcIECBQhoCAHjsH+xMgQGAhAQG9ELTTECBAYKyAgB4rZn8CBAgsJDBxQC9UtdMQIECgAwEB3cGQtUiAQJ0CArrOuamaAIGJBUo8nIAucSpqIkCAwD8CAvofBP8RIECgRAEBXeJU1ESgNAH1rCIgoFdhd1ICBAjcLyCg7zeyBwECBFYRENCrsDtpWwK6ITCPgICex9VRCRAgcLSAgD6a0AEIECAwj4CAnsfVUf8IeEaAwIECAvpAOB8jUKvA9+/fay29u7oFdHcj13CvAh8+fNg8fvx48+bNm42QruO7QECvPCenJzC3QML4xYsXF8H89evXTR5zn9fxjxcQ0McbOgKBIgWGYM5V824gv379epNHkUUr6pKAgL7E4QWB+gUSzFnGuBrMjx492rx//377qL/LPjooO6D7mIEuCUwmMARz1pt3D5pgPjs7c+W8i1LBcwFdwZCUSOA+gQTy33//vcl2d9+3b99uzs/PBfOmzj8Cus65qZrAViDLGcMPALdv/PdX1phzxZyA/u8tm2UFJjmbgJ6E0UEILC9wenq6OTk5uXRHRtaZP336tF1nzvPlq3LGKQUE9JSajkVgIYHclZFw/vHjx8UZh6vmZ8+eXbznSd0CArru+am+Q4H8IDDLGrut54eAeey+V/Jzte0nIKD3c7IXgSIEEs67PwjMMkaWNHL1XESBiphUQEBPyulgBOYTyLLG1XD+/PnzxpLGfOZrH1lArz0B5ydwVeCG1wnn3WWNhHLCOVfQN+zurUYEBHQjg9RG2wJZ2hg6TChnvTnb4T3bNgUEdJtz1VVDAgnn3O88tCScB4n2twK6/Rk31mFf7WRpY3fdOf/wJMsbfSn0262A7nf2Oi9cIOF8dd05AV142cqbUEBAT4jpUASmEsiSxqtXry4Ol/Xm3E538YYnXQgI6LbGrJsGBBLOz58/3/z+/XvbzcOHDze5Y2P7wl9dCQjorsat2dIFsqyR3+OckE6tWW/++fPnJlfQee3Rl4CA7mveui1Y4N27d5ura86WNQoe2AKldRXQC3g6BYGDBBLOeQwfzj/dFs6DRr9bAd3v7HVeiECumnfDOcsaude5kPKUsaKAgF4R36n7Fsg6c8I5686DRK6a8xhe2/Yt8Ceg+3bQPYFFBRLOuVNjCOf8EDDBnKvnRQtxsqIFBHTR41FcqwJPnjzZJKTTX0I5t9Flm9ceBAYBAT1I2BJYSCC30f369Wt7tqdPn25y5Zwr6O0b/jpEoNnPCOhmR6ux0gRyxZw152xTW+7U+PLlS556ELhRQEDfyOJNAtML5LfSDWvOWc5wp8b0xq0dUUC3NlH9FClwNZyzrLFUoc5Tr4CArnd2Kq9EIPc4D78yNGvNrpwrGVwBZQroAoaghHYFsqSRgB46TDgnpIfXtgTuEhDQd+n4WvsCM3aYHwbmh4LDKRLOWXseXtsSuE9AQN8n5OsEDhTIvc7DR3PHRh7Da1sC+wgI6H2U7ENgpMDuvc4vX77c5Op54w+BkQICeiRYX7vrdqxAljUSztnms1nS+PjxY556EBgtIKBHk/kAgZsFEsr5/RrZZo/8MNCVcyQ8DhUQ0IfK+RyBHYGEcu51znZ4O79fIyE9vLYlMFZAQI8V+7O/ZwS2Aqenp5ssa+SWuryRUD47O/O/qQqGx1ECAvooPh/uXSChfHJycsGQcHblfMHhyZECAvpIQB/vVyDhvHuf84MHD7b/9+2EdL8qOp9SYLaAnrJIxyJQmkD+6fZuOCeUv337ZlmjtEFVXo+ArnyAyl9eIP90Oz8QHM6ccLasMWjYTikgoKfUdKzmBRLMCeih0dznLJwHjVa25fQhoMuZhUoKF8idGlnaGMpMOOfXhuYKenjPlsCUAgJ6Sk3HalYgwbx7j3N+r0bCudmGNVaEgIAuYgyKKF0gV8u5Us4j/zowj9Jrnqk+h11QQEAviO1U9QokmLPWnH+AkqvnejtReU0CArqmaal1VYGE9KoFOHl3AgK6u5FreE4BxyYwpYCAnlLTsQgQIDChgICeENOhCBAgMKWAgJ5S07HuFvBVAgRGCQjoUVx2JkCAwHICAno5a2ciQIDAKAEBPYprzp0dmwABApcFBPRlD68IECBQjICALmYUCiFAgMBlgVoC+nLVXhEgQKADAQHdwZC1SIBAnQICus65qZoAgVoEjqhTQB+B56MECBCYU0BAz6nr2AQIEDhCQEAfgeejBAgcK+DzdwkI6Lt0fI0AAQIrCgjoFfGdmgABAncJCOi7dHyNwLoCzt65gIDu/BtA+wQIlCsgoMudjcoIEOhcQEB3/g1Qc/tqJ9C6gIBufcL6I0CgWgEBXe3oFE6AQOsCArrVCeuLAIHqBQR09SPUAAECrQoI6FYnqy8CBKoX6DSgq5+bBggQ6EBAQHcwZC0SIFCngICuc26qJkCgA4GbArqDtrVIgACB8gUEdPkzUiEBAp0KCOhOB69tAk0KNNaUgG5soNohQKAdAQHdzix1QoBAYwICurGBaofA7QK+UpuAgK5tYuolQKAbAQHdzag1SoBAbQICuraJqXcuAcclUJyAgC5uJAoiQIDAvwIC+l8HfxMgQKA4AQFd3EjKLEhVBAgsLyCglzd3RgIECOwlIKD3YrITAQIElhcQ0FOYOwYBAgRmEBDQM6A6JAECBKYQENBTKDoGAQIEZhBYIKBnqNohCRAg0IGAgO5gyFokQKBOAQFd59xUTYDAAgJrn0JArz0B5ydAgMAtAgL6FhhvEyBAYG0BAb32BJyfQK0C6p5dQEDPTuwEBAgQOExAQB/m5lMECBCYXUBAz07sBH0K6JrA8QIC+nhDRyBAgMAsAgJ6FlYHJUCAwPECAvp4Q0cYL+ATBAjsISCg90CyCwECBNYQENBrqDsnAQIE9hAQ0HsgLb2L8xEgQCACAjoKHgQIEChQQEAXOBQlESBAIAL1BXSq9iBAgEAHAgK6gyFrkQCBOgUEdJ1zUzUBAvUJjK5YQI8m8wECBAgsIyCgl3F2FgIECIwWENCjyXyAAIE5BBzzuoCAvm7iHQIECBQhIKCLGIMiCBAgcF1AQF838Q6B8gRU1KWAgO5y7JomQKAGAQFdw5TUSIBAlwICusuxt9a0fgi0KSCg25yrrggQaEBAQDcwRC0QINCmgIBuc667XXlOgEClAgK60sEpmwCB9gUEdPsz1iEBApUKdB/Qlc5N2QQIdCAgoDsYshYJEKhTQEDXOTdVEyDQgcDdAd0BgBYJECBQqoCALnUy6iJAoHsBAd39twAAAk0KNNGUgG5ijJogQKBFAQHd4lT1RIBAEwICuokxaoLAOAF71yEgoOuYkyoJEOhQQEB3OHQtEyBQh4CArmNOqlxSwLkIFCIgoAsZhDIIECBwVUBAXxXxmgABAoUICOhCBlFPGSolQGApAQG9lLTzECBAYKSAgB4JZncCBAgsJSCgp5V2NAIECEwmIKAno3QgAgQITCsgoKf1dDQCBAhMJrBoQE9WtQMRIECgAwEB3cGQtUiAQJ0CArrOuamaAIFFBdY5mYBex91ZCRAgcK+AgL6XyA4ECBBYR0BAr+PurARaEtDLTAICeiZYhyVAgMCxAgL6WEGfJ0CAwEwCAnomWIclMAjYEjhUQEAfKudzBAgQmFlAQM8M7PAECBA4VEBAHyrnc9MIOAoBArcKCOhbaXyBAAEC6woI6HX9nZ0AAQK3CgjoW2lK+IIaCBDoWUBA9zx9vRMgULSAgC56PIojQKBngZoDuue56Z0AgQ4EBHQHQ9YiAQJ1CgjoOuemagIEahbYs3YBvSeU3QgQILC0wP8BAAD//6SCOHcAAAAGSURBVAMALc/gM59nXwoAAAAASUVORK5CYII=(String), 8(Long), 2(Long), 1(Long)
2025-12-29T15:33:39.372+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-29T15:33:39.373+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.373+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8] from current transaction
2025-12-29T15:33:39.374+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:39.375+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:39.379+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:39.390+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.392+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8] from current transaction
2025-12-29T15:33:39.392+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:39.393+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: APPROVED(String), 8(Long), 1(Long)
2025-12-29T15:33:39.402+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-29T15:33:39.408+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.409+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.410+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.411+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c91d8]
2025-12-29T15:33:39.571+09:00  INFO 51832 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 8
2025-12-29T15:33:39.574+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:39.594+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-29T15:33:39.595+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:42.576+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:42.576+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:42.577+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T15:33:42.580+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:42.581+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:42.645+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:42.649+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:42.651+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:42.655+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T15:33:42.724+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:42.777+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:42.795+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:42.804+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:42.879+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:42.881+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-29T15:33:42.888+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:42.892+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:42.894+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:42.908+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:42.902+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:42.903+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T15:33:42.906+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:42.907+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:42.909+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:42.911+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:42.914+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T15:33:42.915+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:42.918+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:42.919+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.921+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:42.921+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T15:33:42.922+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.928+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c52254c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.923+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.923+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1411c530] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.926+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.936+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fbdbaa] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.927+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.935+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db95a3d] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.939+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a19009] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.944+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@588460151 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:42.945+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372364830 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:42.945+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996507002 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:42.945+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:42.946+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:42.946+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:42.949+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@295564097 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:42.949+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:42.951+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1121127896 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:42.957+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:42.958+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:42.958+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T15:33:42.959+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:42.963+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:42.971+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fbdbaa]
2025-12-29T15:33:42.963+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:42.963+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T15:33:42.964+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:42.969+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:42.972+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.973+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c52254c]
2025-12-29T15:33:42.975+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1411c530]
2025-12-29T15:33:42.977+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b114930] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.977+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.980+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301478976 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:42.980+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65aeda2b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.981+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21114c1b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:42.984+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T15:33:42.988+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:42.989+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:42.989+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606759900 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:42.990+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117907994 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:42.991+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a19009]
2025-12-29T15:33:42.992+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db95a3d]
2025-12-29T15:33:42.992+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:42.992+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:42.992+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:42.997+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:42.993+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:42.994+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:42.995+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:42.997+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T15:33:43.003+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341c5494] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.005+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:43.006+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:43.006+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:43.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1327964368 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:43.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b114930]
2025-12-29T15:33:43.010+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21114c1b]
2025-12-29T15:33:43.010+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.011+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.011+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.012+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.013+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.013+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65aeda2b]
2025-12-29T15:33:43.014+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4366c520] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.020+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b87630] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.021+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.021+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@41897141 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.022+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@509773064 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:43.023+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8ee77c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.023+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:43.023+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:43.024+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417471396 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:43.026+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.026+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.026+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:43.028+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:43.038+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:43.039+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.039+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:43.040+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:43.040+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b87630]
2025-12-29T15:33:43.040+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341c5494]
2025-12-29T15:33:43.040+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4366c520]
2025-12-29T15:33:43.047+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8ee77c]
2025-12-29T15:33:43.055+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.055+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.056+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.057+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.057+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f041e61] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.058+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2fb5bc] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.058+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6869307e] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.060+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d33dab2] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.062+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@159116871 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:43.063+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482472089 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:43.063+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500410262 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.076+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:43.077+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.075+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:43.075+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@838492527 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:43.076+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:43.076+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:43.079+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.081+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.088+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T15:33:43.095+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:43.095+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.103+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:43.113+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:43.120+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6869307e]
2025-12-29T15:33:43.122+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.122+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2b7507] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.124+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1063275644 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.123+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:43.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.127+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:43.128+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.128+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:43.131+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.132+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:43.134+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:43.137+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:43.138+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d33dab2]
2025-12-29T15:33:43.139+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f041e61]
2025-12-29T15:33:43.139+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2fb5bc]
2025-12-29T15:33:43.140+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.140+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:43.140+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.140+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.141+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48cd3687] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.141+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:43.142+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781231ed] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.142+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d88a753] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.145+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T15:33:43.154+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@97447298 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:43.158+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:43.158+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@666558360 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:43.160+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1245540107 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:43.172+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.173+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.163+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/8
2025-12-29T15:33:43.163+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:43.171+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.171+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.174+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T15:33:43.176+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:43.178+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2b7507]
2025-12-29T15:33:43.179+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.180+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T15:33:43.184+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:43.191+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:43.193+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:43.190+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T15:33:43.201+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.205+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ecb992] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.207+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884929551 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.208+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T15:33:43.211+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.508+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T15:33:43.508+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.509+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:43.509+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.553+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ecb992]
2025-12-29T15:33:43.554+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d88a753]
2025-12-29T15:33:43.554+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48cd3687]
2025-12-29T15:33:43.555+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781231ed]
2025-12-29T15:33:43.555+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.555+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:43.556+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.556+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:43.557+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c39a4d] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.557+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:43.575+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba905ea] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.580+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:43.587+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1044291470 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.592+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T15:33:43.589+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:43.589+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1525775638 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:43.592+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:43.593+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.595+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.612+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.641+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.641+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T15:33:43.650+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba905ea]
2025-12-29T15:33:43.651+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c39a4d]
2025-12-29T15:33:43.652+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.653+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.655+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e1bc82] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.653+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd3f134] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.656+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1049577217 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.658+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120629041 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:43.658+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T15:33:43.659+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:43.660+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.679+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:43.692+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T15:33:43.694+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e1bc82]
2025-12-29T15:33:43.696+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.696+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20451256] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.697+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1821163376 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.698+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T15:33:43.698+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:43.705+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T15:33:43.705+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd3f134]
2025-12-29T15:33:43.706+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.707+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee78c75] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.711+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1559205580 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:43.713+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.717+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.720+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T15:33:43.724+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20451256]
2025-12-29T15:33:43.727+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:43.727+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.728+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67da40f4] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:43.729+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee78c75]
2025-12-29T15:33:43.729+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862609403 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:43.730+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:43.734+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:43.736+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:43.738+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:43.739+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:43.760+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:43.762+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67da40f4]
2025-12-29T15:33:43.762+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:43.763+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T15:33:43.779+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:46.550+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.552+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:33:46.558+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.561+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:33:46.562+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.685+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.690+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:33:46.695+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.697+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:33:46.707+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.777+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:33:46.786+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:33:46.751+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:46.788+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.770+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:33:46.775+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:46.785+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:46.787+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:33:46.790+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:46.792+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:33:46.792+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.793+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:46.801+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:46.802+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:46.804+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.794+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:33:46.794+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:46.795+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:33:46.808+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:33:46.811+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.819+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7ef4b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.800+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:46.806+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34037806] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.807+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.826+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be86c46] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.807+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.835+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5082743f] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.824+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:46.842+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.850+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29836c3f] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.856+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495758187 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:46.858+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:46.859+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:46.856+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197996197 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:46.857+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@433653530 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:46.857+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@687475981 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:46.862+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:46.862+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:46.867+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:46.869+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:46.872+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@826338338 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:46.874+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:46.872+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:46.872+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:46.873+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:46.878+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:46.881+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be86c46]
2025-12-29T15:33:46.889+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.891+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3edb3654] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.895+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:46.897+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@824263024 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:46.909+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:46.910+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:46.906+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:46.907+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:46.907+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:46.908+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34037806]
2025-12-29T15:33:46.912+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5082743f]
2025-12-29T15:33:46.913+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29836c3f]
2025-12-29T15:33:46.918+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7ef4b]
2025-12-29T15:33:46.921+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.922+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.923+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.925+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.927+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55afa1d7] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.930+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cf16de] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.937+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0b37b0] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.938+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271e3a5e] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.940+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@235085619 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:46.941+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423152666 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:46.944+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@669827903 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:46.952+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:46.945+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1960929382 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:46.953+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:46.945+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:46.946+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:46.953+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:46.957+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:46.960+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:46.961+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:46.976+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:46.995+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3edb3654]
2025-12-29T15:33:46.996+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:46.997+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5bdf30] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:46.999+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1297429945 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:47.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:47.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:47.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.010+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55afa1d7]
2025-12-29T15:33:47.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.021+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0b37b0]
2025-12-29T15:33:47.022+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.024+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f27f7f] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.012+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.015+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cf16de]
2025-12-29T15:33:47.021+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271e3a5e]
2025-12-29T15:33:47.025+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549939718 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:47.025+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155732a1] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.027+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.027+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.028+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:47.029+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:47.031+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1037994181 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:47.035+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76cb4e23] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.038+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5a1e09] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.039+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5bdf30]
2025-12-29T15:33:47.039+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:47.040+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:47.041+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@669241282 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:47.042+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@163578742 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:47.042+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.047+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a17d00e] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.045+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:47.045+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:47.046+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:47.059+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@784414243 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:47.061+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:47.062+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:47.062+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:47.072+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:47.074+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:47.079+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f27f7f]
2025-12-29T15:33:47.080+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.087+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2811fdd2] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.089+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@405300776 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:47.084+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:47.085+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:47.086+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:47.090+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:47.091+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76cb4e23]
2025-12-29T15:33:47.091+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155732a1]
2025-12-29T15:33:47.094+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:47.095+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5a1e09]
2025-12-29T15:33:47.096+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:47.097+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.098+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.100+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a17d00e]
2025-12-29T15:33:47.101+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.102+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80490f1] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.104+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b29676] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.104+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.104+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e24e6c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.105+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605187460 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:47.105+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@987528251 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:47.106+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af41181] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.106+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1447541007 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:47.107+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.108+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:47.108+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:47.109+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2114401649 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:47.111+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:47.112+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2811fdd2]
2025-12-29T15:33:47.113+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:47.113+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:47.113+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:47.114+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:47.114+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:47.119+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:47.119+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:47.125+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:47.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:47.130+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e24e6c]
2025-12-29T15:33:47.136+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.138+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465276f8] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.129+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80490f1]
2025-12-29T15:33:47.139+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227066224 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:47.142+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.170+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af41181]
2025-12-29T15:33:47.171+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.169+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b29676]
2025-12-29T15:33:47.169+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:47.170+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:47.173+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a9bc9e7] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.175+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:47.176+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:47.177+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:47.179+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1088005932 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:47.186+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:47.190+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:47.209+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:47.207+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:47.211+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:47.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.302+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465276f8]
2025-12-29T15:33:47.302+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.306+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d0840b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.310+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122031039 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:47.312+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:47.312+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:47.313+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:47.336+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a9bc9e7]
2025-12-29T15:33:47.340+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.342+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1d4f25] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.344+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037211536 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:47.346+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:47.354+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d0840b]
2025-12-29T15:33:47.357+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:47.353+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:47.359+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b36f40e] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:47.361+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408275391 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:47.361+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:47.362+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:47.368+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:47.374+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.375+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:47.377+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b36f40e]
2025-12-29T15:33:47.378+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1d4f25]
2025-12-29T15:33:47.378+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:47.380+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:47.380+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:33:47.381+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:33:47.385+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:47.388+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:54.157+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-29T15:33:54.157+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-29T15:33:54.157+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-29T15:33:54.157+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-29T15:33:54.157+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:54.173+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-29T15:33:54.195+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-29T15:33:54.197+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-29T15:33:54.202+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-29T15:33:54.206+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-29T15:33:54.210+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.212+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2b2b6f] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.173+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-29T15:33:54.173+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T15:33:54.178+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-29T15:33:54.241+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/me
2025-12-29T15:33:54.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-29T15:33:54.259+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-29T15:33:54.263+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-29T15:33:54.264+09:00  INFO 51832 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 2, companyId: 1
2025-12-29T15:33:54.271+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154378f1] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.191+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:54.224+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/me
2025-12-29T15:33:54.296+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-29T15:33:54.230+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/companies
2025-12-29T15:33:54.295+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:54.302+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-29T15:33:54.303+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T15:33:54.303+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:54.305+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:54.304+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-29T15:33:54.304+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T15:33:54.307+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:54.309+09:00  INFO 51832 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 2, companyId: 1
2025-12-29T15:33:54.311+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.323+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f77ada] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.310+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T15:33:54.310+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.328+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.329+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6657744b] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.343+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f95db1c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.387+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524764256 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:54.387+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53576229 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:54.387+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1511114623 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:54.405+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:54.405+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:54.403+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:54.404+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:33:54.409+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:54.410+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 2(Long), PENDING(String)
2025-12-29T15:33:54.440+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:54.440+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1131929986 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:54.479+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:54.441+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:54.483+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154378f1]
2025-12-29T15:33:54.441+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@343041427 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:54.457+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f77ada]
2025-12-29T15:33:54.461+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-29T15:33:54.480+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:54.485+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.486+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:33:54.487+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.488+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2b2b6f]
2025-12-29T15:33:54.585+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:54.501+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@287928e2] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.542+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:54.569+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:33:54.581+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c88d46f] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.587+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T15:33:54.589+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1253335758 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:54.589+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6657744b]
2025-12-29T15:33:54.605+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.606+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e3158d] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.607+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@441135409 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:54.594+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640865394 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:54.608+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:33:54.596+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:54.604+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:33:54.621+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:33:54.608+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:54.624+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:54.611+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:33:54.636+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:33:54.713+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f95db1c]
2025-12-29T15:33:54.714+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:54.746+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=2, userId=2, companyId=1 (truncated)...]
2025-12-29T15:33:54.747+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:54.747+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:33:54.747+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:33:54.840+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:54.927+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e3158d]
2025-12-29T15:33:54.940+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:54.936+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@287928e2]
2025-12-29T15:33:54.937+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c88d46f]
2025-12-29T15:33:54.944+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3e6fd3] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:54.944+09:00  INFO 51832 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 2, companyId: 1, role: USER
2025-12-29T15:33:54.946+09:00  INFO 51832 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 2, companyId: 1, role: USER
2025-12-29T15:33:54.947+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2105625732 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:54.968+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:54.952+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:54.968+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:54.970+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=2, username=test_user1, passw (truncated)...]
2025-12-29T15:33:54.969+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:54.970+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=2, username=test_user1, passw (truncated)...]
2025-12-29T15:33:54.972+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:54.974+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:54.995+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:55.003+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3e6fd3]
2025-12-29T15:33:55.005+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:55.005+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d8fd397] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:55.006+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135702786 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:55.013+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:55.014+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:55.047+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:55.053+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d8fd397]
2025-12-29T15:33:55.055+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:55.056+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:55.058+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:57.164+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.170+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:33:57.170+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:33:57.176+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.171+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.171+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.179+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:57.179+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.185+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:57.188+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:57.191+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.194+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326e280] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.196+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:33:57.200+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.206+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:33:57.208+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:33:57.209+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:33:57.210+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:33:57.208+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:57.216+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.217+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.217+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57eb68e7] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.218+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:57.224+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:57.225+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.243+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efdff81] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.247+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:33:57.246+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.264+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:33:57.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:33:57.275+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:33:57.277+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:33:57.277+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:33:57.278+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1225698436 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:57.279+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:57.278+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098113504 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:57.280+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:57.280+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:57.279+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:33:57.290+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:33:57.279+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:33:57.280+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:57.294+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.306+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bd9e97c] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.295+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.304+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1690154024 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:57.309+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a4486a] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.311+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:57.313+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:57.328+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:57.333+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:57.345+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57eb68e7]
2025-12-29T15:33:57.346+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.344+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326e280]
2025-12-29T15:33:57.347+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.347+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e73e54e] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.359+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@300679049 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:57.360+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.361+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.346+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65735e17] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.380+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@616107847 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:57.380+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6865819 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:57.397+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:33:57.380+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@503506568 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:57.407+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:57.382+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:57.410+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efdff81]
2025-12-29T15:33:57.411+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.411+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba5651] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.396+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.403+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:33:57.405+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.410+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:57.413+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@911054200 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:57.413+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.421+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e73e54e]
2025-12-29T15:33:57.425+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.429+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.433+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e480041] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.430+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.434+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@793821523 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:57.439+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:57.440+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:57.441+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.441+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:33:57.452+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bd9e97c]
2025-12-29T15:33:57.443+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:57.445+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a4486a]
2025-12-29T15:33:57.459+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.447+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65735e17]
2025-12-29T15:33:57.458+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.460+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1e923] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.461+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.462+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.464+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f227803] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.465+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:57.471+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@589144027 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:57.471+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58bba472] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.472+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba5651]
2025-12-29T15:33:57.473+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1797796676 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:57.475+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e480041]
2025-12-29T15:33:57.476+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.477+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@667409044 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:57.478+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.478+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.479+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.483+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242cf3e1] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.486+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172537133 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:33:57.479+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.479+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:57.480+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4689f6] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.481+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.489+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.490+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:57.491+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235049521 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:57.491+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.494+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:57.494+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:57.495+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.495+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.496+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58bba472]
2025-12-29T15:33:57.497+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:57.497+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.497+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f227803]
2025-12-29T15:33:57.497+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1e923]
2025-12-29T15:33:57.502+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.503+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242cf3e1]
2025-12-29T15:33:57.503+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.504+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.504+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60aff6d3] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.505+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:57.505+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:57.505+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2152a6bc] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.505+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df621b5] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.507+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697797760 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:57.507+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:57.507+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4689f6]
2025-12-29T15:33:57.509+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1565274357 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:57.509+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85342681 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:57.510+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:57.511+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:57.512+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.512+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:57.513+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:57.513+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:57.514+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fde7435] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.514+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:33:57.518+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:57.527+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1106860289 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:33:57.529+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.528+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:57.534+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.535+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60aff6d3]
2025-12-29T15:33:57.538+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.541+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@760a4e99] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.542+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1762404325 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:57.542+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.544+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.545+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:57.547+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:33:57.557+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df621b5]
2025-12-29T15:33:57.558+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.559+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2152a6bc]
2025-12-29T15:33:57.560+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.561+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fde7435]
2025-12-29T15:33:57.561+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.567+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@760a4e99]
2025-12-29T15:33:57.562+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.562+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707ec18d] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.565+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:57.571+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1278852542 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:57.568+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.570+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83cda09] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.572+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1013967604 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:57.572+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.571+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:57.571+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:33:57.571+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23663c66] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.575+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.576+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:57.577+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:33:57.582+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129814549 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:57.591+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:57.592+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:57.595+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.595+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:57.609+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23663c66]
2025-12-29T15:33:57.596+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:33:57.609+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83cda09]
2025-12-29T15:33:57.610+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.611+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707ec18d]
2025-12-29T15:33:57.612+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:57.614+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7edbaa80] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.616+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.616+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:33:57.617+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1825319985 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:33:57.617+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669ef259] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.618+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:57.621+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.624+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.623+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617569198 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:57.626+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.627+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.630+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.631+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7edbaa80]
2025-12-29T15:33:57.633+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:57.636+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.637+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:33:57.637+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669ef259]
2025-12-29T15:33:57.639+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:57.641+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.643+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35568473] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.646+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@617329850 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:57.646+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:33:57.652+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:33:57.660+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:33:57.662+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35568473]
2025-12-29T15:33:57.662+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:57.663+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99c2d0f] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:57.663+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@141051219 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:33:57.664+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:57.671+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:57.675+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:57.677+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99c2d0f]
2025-12-29T15:33:57.688+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:57.689+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:33:57.691+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:33:59.208+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-29T15:33:59.210+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-29T15:33:59.212+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/switch-company
2025-12-29T15:33:59.212+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-29T15:33:59.213+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-29T15:33:59.213+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-29T15:33:59.221+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=2, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwid (truncated)...]
2025-12-29T15:33:59.222+09:00  INFO 51832 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 2, companyId: 2
2025-12-29T15:33:59.225+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:59.227+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d571a5] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:59.230+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081971117 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:59.231+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:33:59.257+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:33:59.263+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:33:59.264+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d571a5]
2025-12-29T15:33:59.272+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:59.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f]
2025-12-29T15:33:59.275+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1414016507 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will be managed by Spring
2025-12-29T15:33:59.275+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:33:59.279+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:33:59.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:33:59.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f]
2025-12-29T15:33:59.289+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f] from current transaction
2025-12-29T15:33:59.290+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-29T15:33:59.290+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 2(Long), 2(Long), 2(Long)
2025-12-29T15:33:59.293+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-29T15:33:59.294+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f]
2025-12-29T15:33:59.295+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f] from current transaction
2025-12-29T15:33:59.295+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-29T15:33:59.296+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:33:59.301+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-29T15:33:59.304+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f]
2025-12-29T15:33:59.304+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f]
2025-12-29T15:33:59.304+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f]
2025-12-29T15:33:59.305+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eefac5f]
2025-12-29T15:33:59.312+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:33:59.314+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bf7039] was not registered for synchronization because synchronization is not active
2025-12-29T15:33:59.315+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@617263390 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:33:59.319+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:33:59.322+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:33:59.325+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:33:59.330+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bf7039]
2025-12-29T15:33:59.346+09:00  INFO 51832 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 2, companyId: 2
2025-12-29T15:33:59.353+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:33:59.355+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=2, username=test_user1, (truncated)...]
2025-12-29T15:33:59.359+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:01.521+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.567+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:34:01.570+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.570+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T15:34:01.572+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.578+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:34:01.644+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.675+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:34:01.675+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.676+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T15:34:01.691+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-29T15:34:01.689+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2025-12-29T15:34:01.696+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:34:01.697+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:34:01.701+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:34:01.692+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2025-12-29T15:34:01.694+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.706+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:01.707+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:01.703+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.706+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T15:34:01.708+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T15:34:01.708+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.709+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ac8915] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.708+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@789b133b] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.709+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T15:34:01.712+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.714+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.722+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:34:01.745+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331995592 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:01.745+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725134018 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:01.746+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b79ce07] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.757+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-29T15:34:01.757+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:01.757+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses
2025-12-29T15:34:01.758+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.758+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:01.779+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.780+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:01.783+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:34:01.787+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-29T15:34:01.788+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:34:01.789+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:01.791+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:34:01.793+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:34:01.792+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.793+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:01.795+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.796+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a43471] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.795+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:01.804+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:01.795+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.806+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5973a586] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.806+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.808+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117538003 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:01.811+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T15:34:01.809+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1870d205] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.812+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T15:34:01.837+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1568815521 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:01.842+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:01.837+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-29T15:34:01.838+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-29T15:34:01.842+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:01.843+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@789b133b]
2025-12-29T15:34:01.844+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ac8915]
2025-12-29T15:34:01.852+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:01.858+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-29T15:34:01.851+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.861+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40317e9a] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.860+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:01.869+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267275204 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:01.873+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:01.874+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:01.875+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T15:34:01.875+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1750465390 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:01.875+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@214783574 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:34:01.908+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:01.887+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.894+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b79ce07]
2025-12-29T15:34:01.911+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:01.895+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:01.898+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-29T15:34:01.898+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-29T15:34:01.920+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a43471]
2025-12-29T15:34:01.921+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:01.909+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:34:01.912+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-29T15:34:01.912+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-29T15:34:01.913+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:34:01.919+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40317e9a]
2025-12-29T15:34:01.926+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7be78] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:01.959+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598799423 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:01.945+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:01.952+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-29T15:34:01.955+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:01.958+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:01.975+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-29T15:34:01.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:01.960+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:01.969+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:01.992+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:01.970+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1870d205]
2025-12-29T15:34:01.991+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 2(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:02.090+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:02.172+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9bc52c2] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:02.174+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1246501871 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:02.130+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:02.138+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-29T15:34:02.166+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:02.194+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-29T15:34:02.196+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:02.176+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:02.208+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:34:02.192+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5973a586]
2025-12-29T15:34:02.234+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:02.240+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:02.323+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-29T15:34:02.371+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9bc52c2]
2025-12-29T15:34:02.323+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-29T15:34:02.391+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7be78]
2025-12-29T15:34:02.393+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:02.394+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-29T15:34:02.398+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:02.357+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-29T15:34:02.369+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-29T15:34:02.404+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:02.374+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:02.404+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:02.405+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-29T15:34:02.514+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:02.521+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:02.521+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:02.523+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:02.528+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@534ff8ce] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:02.584+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2117531963 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:02.597+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:02.606+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:34:02.628+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-29T15:34:02.659+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@534ff8ce]
2025-12-29T15:34:02.661+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:02.673+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-29T15:34:02.675+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:03.112+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:03.112+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T15:34:03.115+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-29T15:34:03.117+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/companies
2025-12-29T15:34:03.120+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T15:34:03.122+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T15:34:03.123+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T15:34:03.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:03.128+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db12b58] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:03.117+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:03.129+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:03.132+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:03.135+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:03.136+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc6bfc3] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:03.137+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1126855072 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:03.138+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T15:34:03.141+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T15:34:03.141+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332039961 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:03.142+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:03.144+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T15:34:03.144+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:34:03.144+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db12b58]
2025-12-29T15:34:03.146+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:03.147+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-29T15:34:03.147+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-29T15:34:03.148+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc6bfc3]
2025-12-29T15:34:03.148+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:03.150+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:03.152+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-29T15:34:03.153+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:03.305+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:03.307+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/expenses/pending-approvals
2025-12-29T15:34:03.308+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:03.308+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:03.308+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:03.309+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:03.309+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8830ec] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:03.312+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207694908 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:03.312+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:03.313+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 2(Long)
2025-12-29T15:34:03.316+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-29T15:34:03.316+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8830ec]
2025-12-29T15:34:03.317+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:03.317+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-29T15:34:03.320+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:07.001+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-29T15:34:07.004+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-29T15:34:07.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 2, uri: /api/users/switch-company
2025-12-29T15:34:07.007+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-29T15:34:07.008+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-29T15:34:07.009+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-29T15:34:07.010+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwid (truncated)...]
2025-12-29T15:34:07.011+09:00  INFO 51832 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 2, companyId: 1
2025-12-29T15:34:07.011+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:07.012+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eaa6b2e] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:07.014+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1777576731 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:07.016+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:34:07.022+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:34:07.034+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:34:07.045+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eaa6b2e]
2025-12-29T15:34:07.056+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:07.057+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5]
2025-12-29T15:34:07.059+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1766686939 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will be managed by Spring
2025-12-29T15:34:07.059+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T15:34:07.061+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T15:34:07.074+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T15:34:07.075+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5]
2025-12-29T15:34:07.075+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5] from current transaction
2025-12-29T15:34:07.075+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-29T15:34:07.076+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 2(Long), 1(Long), 2(Long)
2025-12-29T15:34:07.081+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 2
2025-12-29T15:34:07.088+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5]
2025-12-29T15:34:07.089+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5] from current transaction
2025-12-29T15:34:07.090+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-29T15:34:07.090+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 2(Long)
2025-12-29T15:34:07.105+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-29T15:34:07.105+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5]
2025-12-29T15:34:07.105+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5]
2025-12-29T15:34:07.106+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5]
2025-12-29T15:34:07.107+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329aff5]
2025-12-29T15:34:07.121+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:07.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb0e4c2] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:07.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158183156 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:07.129+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:07.130+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:07.135+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:07.139+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb0e4c2]
2025-12-29T15:34:07.141+09:00  INFO 51832 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 2, companyId: 1
2025-12-29T15:34:07.143+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:07.146+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=2, username=test_user1, (truncated)...]
2025-12-29T15:34:07.158+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:07.313+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:07.318+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T15:34:09.311+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.320+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:34:09.322+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.327+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T15:34:09.328+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.329+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T15:34:09.378+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.436+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.444+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.447+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:34:09.451+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.452+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T15:34:09.457+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:34:09.459+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:34:09.468+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:34:09.486+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:34:09.494+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:34:09.494+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-29T15:34:09.495+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.497+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T15:34:09.506+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.509+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:34:09.526+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:34:09.527+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:34:09.510+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:09.511+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T15:34:09.529+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T15:34:09.529+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T15:34:09.530+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:09.530+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9ce943] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:09.513+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:09.513+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T15:34:09.526+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:09.528+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:09.535+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7feff77b] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:09.528+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:09.543+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:09.534+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:09.534+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T15:34:09.535+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:09.544+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:09.544+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:09.544+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T15:34:09.555+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@988048439 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:09.606+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T15:34:09.557+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:09.557+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ecff3f9] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:09.560+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e396813] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:09.561+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1389062566 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:09.574+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:09.730+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T15:34:09.876+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c773a8b] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:09.942+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:09.943+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@65582979 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:09.953+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17be16d2] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:09.957+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830086056 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:09.960+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:09.960+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:09.961+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T15:34:09.963+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176405719 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:34:09.969+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:09.973+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:34:09.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:34:09.973+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@259359415 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:09.973+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9ce943]
2025-12-29T15:34:09.977+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:09.979+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:09.980+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:09.985+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:34:09.985+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:09.985+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T15:34:09.987+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:34:09.995+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:09.996+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7feff77b]
2025-12-29T15:34:10.003+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:10.010+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.043+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:34:10.043+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:34:10.043+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:34:10.056+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:34:10.072+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17be16d2]
2025-12-29T15:34:10.073+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.074+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be52453] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.056+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:34:10.079+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:10.083+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:10.092+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:10.094+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.095+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6089b4bb] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.058+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e402923] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.060+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c773a8b]
2025-12-29T15:34:10.110+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.110+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@286b7e7d] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.061+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ecff3f9]
2025-12-29T15:34:10.112+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.112+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1983d028] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.069+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e396813]
2025-12-29T15:34:10.113+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.078+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465497910 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:10.123+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.124+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.096+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@416860575 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:10.125+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:10.109+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@486703185 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:10.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.139+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.111+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@808387764 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:34:10.113+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1346117440 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:10.141+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.122+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d36e4a] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.126+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:34:10.141+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.142+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.176+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@84795047 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:10.177+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.177+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.253+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.254+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.262+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:34:10.272+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6089b4bb]
2025-12-29T15:34:10.272+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19dcff14] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.263+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be52453]
2025-12-29T15:34:10.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.274+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d954652] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.276+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869624335 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:10.277+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.279+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:34:10.266+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e402923]
2025-12-29T15:34:10.271+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.273+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@878558456 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:10.287+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.286+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.288+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.302+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.305+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6828764b] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.307+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1983d028]
2025-12-29T15:34:10.313+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.308+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939410268 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:10.311+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.311+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.312+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:34:10.313+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb641f6] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.319+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.322+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.322+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d36e4a]
2025-12-29T15:34:10.323+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@286b7e7d]
2025-12-29T15:34:10.323+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d954652]
2025-12-29T15:34:10.325+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@481546296 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:10.326+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19dcff14]
2025-12-29T15:34:10.326+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:34:10.327+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.329+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.330+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.330+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.330+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.334+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1666c9] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.334+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527948f1] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.334+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56898748] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.335+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:34:10.335+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6abb7e] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.336+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895283839 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:10.336+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554851413 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:34:10.338+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@835320861 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:10.339+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689305976 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:10.340+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:34:10.341+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.342+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.343+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:10.344+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:34:10.344+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.345+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6828764b]
2025-12-29T15:34:10.345+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:34:10.346+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:34:10.347+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:10.347+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb641f6]
2025-12-29T15:34:10.350+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:34:10.350+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.354+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.354+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:34:10.354+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40648b06] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.355+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:34:10.356+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d79f4b4] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.357+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1666c9]
2025-12-29T15:34:10.358+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809131375 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:10.358+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527948f1]
2025-12-29T15:34:10.358+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684649244 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:10.359+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:34:10.360+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:34:10.360+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.360+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T15:34:10.361+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.361+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.362+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6abb7e]
2025-12-29T15:34:10.363+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56898748]
2025-12-29T15:34:10.363+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@632eb733] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.363+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T15:34:10.364+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436d38c1] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.370+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1531694749 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd7ee98] will not be managed by Spring
2025-12-29T15:34:10.371+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.364+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.366+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.368+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.374+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fab5117] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.369+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@249800113 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:10.372+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.374+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe800fa] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.374+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T15:34:10.376+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694640749 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:10.380+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.376+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.381+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.378+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.378+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538371890 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:10.378+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40648b06]
2025-12-29T15:34:10.380+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.385+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.386+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d79f4b4]
2025-12-29T15:34:10.386+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.387+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.388+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436d38c1]
2025-12-29T15:34:10.392+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:10.395+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.395+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.396+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a687d53] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.397+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:10.405+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:34:10.405+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@632eb733]
2025-12-29T15:34:10.406+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320222627 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:10.406+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:34:10.407+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:10.408+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:10.408+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.409+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:10.409+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:34:10.409+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.410+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:10.413+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.416+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fab5117]
2025-12-29T15:34:10.416+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.417+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f750297] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.419+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517537159 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:10.419+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.420+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe800fa]
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a687d53]
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:34:10.423+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18af001] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.424+09:00 DEBUG 51832 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:10.424+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1751222150 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:10.425+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.425+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T15:34:10.430+09:00 DEBUG 51832 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:10.446+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:34:10.447+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f750297]
2025-12-29T15:34:10.452+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.452+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d6eead3] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.453+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1255682643 wrapping com.mysql.cj.jdbc.ConnectionImpl@138bd01d] will not be managed by Spring
2025-12-29T15:34:10.455+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.455+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.460+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:10.463+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:34:10.466+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:10.468+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:10.468+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:10.469+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.469+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35515de6] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.470+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581066869 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:10.471+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:10.471+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:34:10.479+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T15:34:10.480+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18af001]
2025-12-29T15:34:10.480+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.482+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fadfdd8] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.483+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@426841812 wrapping com.mysql.cj.jdbc.ConnectionImpl@7b8022ff] will not be managed by Spring
2025-12-29T15:34:10.483+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.484+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.510+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:34:10.510+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.511+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.513+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35515de6]
2025-12-29T15:34:10.518+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d6eead3]
2025-12-29T15:34:10.519+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fadfdd8]
2025-12-29T15:34:10.520+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.558+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14447520] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.571+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725988387 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:10.572+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.573+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.522+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:10.557+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:10.762+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:34:10.768+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.775+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T15:34:10.775+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14447520]
2025-12-29T15:34:10.778+09:00 DEBUG 51832 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:10.777+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:10.778+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.805+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a2f00a] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.809+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@385383531 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:10.811+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:10.812+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:34:10.893+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:34:10.907+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a2f00a]
2025-12-29T15:34:10.908+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:10.909+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e157839] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:10.922+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1484908369 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:10.924+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:10.926+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:10.967+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:10.978+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e157839]
2025-12-29T15:34:10.979+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:10.980+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:34:10.984+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:11.584+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:11.584+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T15:34:11.585+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-29T15:34:11.585+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:34:11.586+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T15:34:11.586+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:11.586+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T15:34:11.587+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T15:34:11.587+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:11.587+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.588+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:11.588+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322a47dd] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.588+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.590+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cac222e] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.592+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466056458 wrapping com.mysql.cj.jdbc.ConnectionImpl@2c7bf401] will not be managed by Spring
2025-12-29T15:34:11.594+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T15:34:11.593+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@335958682 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:11.600+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T15:34:11.602+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:11.609+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:34:11.614+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T15:34:11.619+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:34:11.620+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322a47dd]
2025-12-29T15:34:11.622+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cac222e]
2025-12-29T15:34:11.623+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:11.623+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.624+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44de60a6] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.624+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T15:34:11.625+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1106080904 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:11.625+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:11.626+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:11.627+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:11.634+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:11.634+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44de60a6]
2025-12-29T15:34:11.635+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.637+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8da1af] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.637+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1566652168 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:11.638+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:11.638+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:34:11.641+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:34:11.642+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8da1af]
2025-12-29T15:34:11.642+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.643+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b12f751] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.644+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544922437 wrapping com.mysql.cj.jdbc.ConnectionImpl@69143126] will not be managed by Spring
2025-12-29T15:34:11.644+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:11.644+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:11.646+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:11.647+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b12f751]
2025-12-29T15:34:11.648+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:11.649+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:34:11.651+09:00 DEBUG 51832 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:34:11.835+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:11.837+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T15:34:11.837+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T15:34:11.837+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T15:34:11.838+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T15:34:11.838+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.838+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cf1711] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.840+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1241062387 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:11.841+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T15:34:11.841+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T15:34:11.844+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T15:34:11.845+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cf1711]
2025-12-29T15:34:11.846+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.846+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79ba21c2] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.852+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@366666126 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:11.852+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:11.852+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:11.854+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:11.855+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79ba21c2]
2025-12-29T15:34:11.855+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.856+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495e4f99] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.857+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1640153921 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:11.857+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T15:34:11.858+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T15:34:11.860+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T15:34:11.860+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495e4f99]
2025-12-29T15:34:11.862+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T15:34:11.862+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d673d37] was not registered for synchronization because synchronization is not active
2025-12-29T15:34:11.863+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727955845 wrapping com.mysql.cj.jdbc.ConnectionImpl@315f2946] will not be managed by Spring
2025-12-29T15:34:11.863+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T15:34:11.864+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T15:34:11.872+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T15:34:11.872+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d673d37]
2025-12-29T15:34:11.873+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:34:11.873+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T15:34:11.874+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:46:36.076+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-29T15:46:36.191+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-29T15:46:36.387+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/logout
2025-12-29T15:46:36.391+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-29T15:46:36.393+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-29T15:46:36.403+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-29T15:46:36.422+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-29T15:46:36.432+09:00  INFO 51832 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=2
2025-12-29T15:46:36.437+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T15:46:36.439+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-29T15:46:36.441+09:00 DEBUG 51832 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T15:47:48.187+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:47:48.188+09:00 DEBUG 51832 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T15:47:48.191+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T15:47:48.196+09:00 DEBUG 51832 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T16:01:04.735+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/js/eas/eas.js
2025-12-29T16:01:04.737+09:00 DEBUG 51832 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T16:37:22.883+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-29T16:37:22.885+09:00 DEBUG 51832 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T16:50:01.582+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login.asp
2025-12-29T16:50:01.585+09:00 DEBUG 51832 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T17:13:14.869+09:00  INFO 46808 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 46808 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-29T17:13:14.874+09:00 DEBUG 46808 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-29T17:13:14.877+09:00  INFO 46808 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-29T17:13:18.619+09:00 DEBUG 46808 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-29T17:13:18.621+09:00 DEBUG 46808 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-29T17:13:19.262+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2025-12-29T17:13:19.270+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2025-12-29T17:13:19.272+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2025-12-29T17:13:19.274+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2025-12-29T17:13:19.275+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-29T17:13:19.278+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2025-12-29T17:13:19.394+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-29T17:13:19.427+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2025-12-29T17:13:19.456+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-29T17:13:19.458+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-29T17:13:19.461+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-29T17:13:19.462+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-29T17:13:19.473+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-29T17:13:19.487+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2025-12-29T17:13:19.510+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2025-12-29T17:13:19.523+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2025-12-29T17:13:19.541+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2025-12-29T17:13:19.543+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-29T17:13:19.548+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2025-12-29T17:13:19.560+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-29T17:13:19.564+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2025-12-29T17:13:19.574+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-29T17:13:19.577+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-29T17:13:19.579+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-29T17:13:19.582+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-29T17:13:19.588+09:00 DEBUG 46808 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-29T17:13:20.724+09:00  INFO 46808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-29T17:13:20.754+09:00  INFO 46808 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-29T17:13:20.755+09:00  INFO 46808 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-29T17:13:20.912+09:00  INFO 46808 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-29T17:13:20.916+09:00  INFO 46808 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5922 ms
2025-12-29T17:13:21.085+09:00 DEBUG 46808 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-29T17:13:21.168+09:00 DEBUG 46808 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-29T17:13:21.986+09:00 DEBUG 46808 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2025-12-29T17:13:22.006+09:00  WARN 46808 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountCodeController' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\controller\AccountCodeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\AccountCodeService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
2025-12-29T17:13:22.026+09:00  INFO 46808 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-29T17:13:22.065+09:00  INFO 46808 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-29T17:13:22.109+09:00 ERROR 46808 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountCodeController' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\controller\AccountCodeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\AccountCodeService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.8.jar:3.5.8]
	at com.innersignature.backend.BackendApplication.main(BackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountCodeService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\AccountCodeService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.2.14.jar:6.2.14]
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	... 57 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.14.jar:6.2.14]
	... 70 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:695) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:572) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionFactoryBean.getObject(SqlSessionFactoryBean.java:712) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration.sqlSessionFactory(MybatisAutoConfiguration.java:189) ~[mybatis-spring-boot-autoconfigure-3.0.5.jar:3.0.5]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172) ~[spring-beans-6.2.14.jar:6.2.14]
	... 73 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 62; columnNumber: 54; 요소 콘텐츠는 올바른 형식의 문자 데이터 또는 마크업으로 구성되어야 합니다.
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:262) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.<init>(XMLMapperBuilder.java:83) ~[mybatis-3.5.19.jar:3.5.19]
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:692) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 81 common frames omitted
Caused by: org.xml.sax.SAXParseException: 요소 콘텐츠는 올바른 형식의 문자 데이터 또는 마크업으로 구성되어야 합니다.
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2589) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2679) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247) ~[na:na]
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342) ~[na:na]
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:260) ~[mybatis-3.5.19.jar:3.5.19]
	... 84 common frames omitted

2025-12-29T17:15:25.866+09:00  INFO 58520 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 58520 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-29T17:15:25.875+09:00 DEBUG 58520 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-29T17:15:25.894+09:00  INFO 58520 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-29T17:15:27.924+09:00 DEBUG 58520 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-29T17:15:27.925+09:00 DEBUG 58520 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-29T17:15:28.294+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2025-12-29T17:15:28.301+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2025-12-29T17:15:28.301+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2025-12-29T17:15:28.302+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2025-12-29T17:15:28.303+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-29T17:15:28.303+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2025-12-29T17:15:28.304+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-29T17:15:28.306+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2025-12-29T17:15:28.308+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-29T17:15:28.310+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-29T17:15:28.310+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-29T17:15:28.312+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-29T17:15:28.317+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-29T17:15:28.322+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2025-12-29T17:15:28.328+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2025-12-29T17:15:28.332+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2025-12-29T17:15:28.336+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2025-12-29T17:15:28.342+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-29T17:15:28.344+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2025-12-29T17:15:28.345+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-29T17:15:28.355+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2025-12-29T17:15:28.357+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-29T17:15:28.359+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-29T17:15:28.360+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-29T17:15:28.367+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-29T17:15:28.368+09:00 DEBUG 58520 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-29T17:15:29.255+09:00  INFO 58520 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-29T17:15:29.295+09:00  INFO 58520 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-29T17:15:29.299+09:00  INFO 58520 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-29T17:15:29.449+09:00  INFO 58520 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-29T17:15:29.450+09:00  INFO 58520 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3463 ms
2025-12-29T17:15:29.562+09:00 DEBUG 58520 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-29T17:15:29.565+09:00 DEBUG 58520 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-29T17:15:30.027+09:00 DEBUG 58520 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2025-12-29T17:15:30.044+09:00 DEBUG 58520 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2025-12-29T17:15:30.084+09:00  WARN 58520 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountCodeController' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\controller\AccountCodeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\AccountCodeService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
2025-12-29T17:15:30.089+09:00  INFO 58520 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-29T17:15:30.120+09:00  INFO 58520 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-29T17:15:30.175+09:00 ERROR 58520 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountCodeController' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\controller\AccountCodeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\AccountCodeService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.8.jar:3.5.8]
	at com.innersignature.backend.BackendApplication.main(BackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountCodeService' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\service\AccountCodeService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'accountCodeMappingMapper' defined in file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.2.14.jar:6.2.14]
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	... 57 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.14.jar:6.2.14]
	... 70 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:695) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:572) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionFactoryBean.getObject(SqlSessionFactoryBean.java:712) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration.sqlSessionFactory(MybatisAutoConfiguration.java:189) ~[mybatis-spring-boot-autoconfigure-3.0.5.jar:3.0.5]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172) ~[spring-beans-6.2.14.jar:6.2.14]
	... 73 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'. Cause: java.lang.IllegalStateException: No typehandler found for property ruleConfig
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:125) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:98) ~[mybatis-3.5.19.jar:3.5.19]
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:693) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 81 common frames omitted
Caused by: java.lang.IllegalStateException: No typehandler found for property ruleConfig
	at org.apache.ibatis.mapping.ResultMapping$Builder.validate(ResultMapping.java:153) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.mapping.ResultMapping$Builder.build(ResultMapping.java:140) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.MapperBuilderAssistant.buildResultMapping(MapperBuilderAssistant.java:353) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildResultMappingFromContext(XMLMapperBuilder.java:356) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:239) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:214) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:206) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:121) ~[mybatis-3.5.19.jar:3.5.19]
	... 83 common frames omitted

2025-12-29T17:16:30.034+09:00  INFO 47988 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 47988 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-29T17:16:30.049+09:00 DEBUG 47988 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-29T17:16:30.051+09:00  INFO 47988 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-29T17:16:32.128+09:00 DEBUG 47988 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-29T17:16:32.130+09:00 DEBUG 47988 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-29T17:16:32.471+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2025-12-29T17:16:32.472+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2025-12-29T17:16:32.473+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2025-12-29T17:16:32.474+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2025-12-29T17:16:32.474+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-29T17:16:32.475+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2025-12-29T17:16:32.475+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-29T17:16:32.476+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2025-12-29T17:16:32.476+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-29T17:16:32.479+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-29T17:16:32.480+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-29T17:16:32.482+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-29T17:16:32.488+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-29T17:16:32.492+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2025-12-29T17:16:32.503+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2025-12-29T17:16:32.505+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2025-12-29T17:16:32.508+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2025-12-29T17:16:32.509+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-29T17:16:32.510+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2025-12-29T17:16:32.514+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-29T17:16:32.517+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2025-12-29T17:16:32.519+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-29T17:16:32.520+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-29T17:16:32.523+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-29T17:16:32.525+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-29T17:16:32.526+09:00 DEBUG 47988 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-29T17:16:33.609+09:00  INFO 47988 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-29T17:16:33.638+09:00  INFO 47988 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-29T17:16:33.638+09:00  INFO 47988 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-29T17:16:33.776+09:00  INFO 47988 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-29T17:16:33.779+09:00  INFO 47988 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3635 ms
2025-12-29T17:16:33.926+09:00 DEBUG 47988 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-29T17:16:33.929+09:00 DEBUG 47988 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-29T17:16:34.593+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2025-12-29T17:16:34.622+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2025-12-29T17:16:34.677+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2025-12-29T17:16:34.704+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2025-12-29T17:16:34.734+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-29T17:16:34.750+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2025-12-29T17:16:34.852+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-29T17:16:34.876+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2025-12-29T17:16:34.914+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-29T17:16:34.949+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-29T17:16:34.974+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-29T17:16:34.987+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-29T17:16:35.018+09:00 DEBUG 47988 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-29T17:16:36.287+09:00 DEBUG 47988 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 117 mappings in 'requestMappingHandlerMapping'
2025-12-29T17:16:36.515+09:00 DEBUG 47988 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-29T17:16:36.646+09:00  WARN 47988 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: dbb2e42c-3c72-4c76-935e-ce00393f2e39

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-29T17:16:36.749+09:00  INFO 47988 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-29T17:16:37.056+09:00 DEBUG 47988 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-29T17:16:37.267+09:00 DEBUG 47988 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-29T17:16:37.360+09:00 DEBUG 47988 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-29T17:16:37.382+09:00 DEBUG 47988 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-29T17:16:37.825+09:00  INFO 47988 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-29T17:16:37.851+09:00  INFO 47988 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.73 seconds (process running for 9.343)
2025-12-29T17:24:18.825+09:00  INFO 52248 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 52248 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-29T17:24:18.830+09:00 DEBUG 52248 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-29T17:24:18.832+09:00  INFO 52248 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-29T17:24:21.492+09:00 DEBUG 52248 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-29T17:24:21.494+09:00 DEBUG 52248 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-29T17:24:21.908+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2025-12-29T17:24:21.911+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2025-12-29T17:24:21.912+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2025-12-29T17:24:21.913+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2025-12-29T17:24:21.914+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-29T17:24:21.914+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2025-12-29T17:24:21.917+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-29T17:24:21.920+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2025-12-29T17:24:21.922+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-29T17:24:21.922+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-29T17:24:21.923+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-29T17:24:21.924+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-29T17:24:21.925+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-29T17:24:21.929+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2025-12-29T17:24:21.931+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2025-12-29T17:24:21.936+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2025-12-29T17:24:21.940+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2025-12-29T17:24:21.941+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-29T17:24:21.942+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2025-12-29T17:24:21.944+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-29T17:24:21.945+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2025-12-29T17:24:21.947+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-29T17:24:21.955+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-29T17:24:21.956+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-29T17:24:21.958+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-29T17:24:21.959+09:00 DEBUG 52248 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-29T17:24:22.945+09:00  INFO 52248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-29T17:24:22.995+09:00  INFO 52248 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-29T17:24:23.005+09:00  INFO 52248 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-29T17:24:23.164+09:00  INFO 52248 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-29T17:24:23.167+09:00  INFO 52248 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4107 ms
2025-12-29T17:24:23.309+09:00 DEBUG 52248 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-29T17:24:23.319+09:00 DEBUG 52248 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-29T17:24:24.075+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2025-12-29T17:24:24.121+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2025-12-29T17:24:24.146+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2025-12-29T17:24:24.193+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2025-12-29T17:24:24.230+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-29T17:24:24.255+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2025-12-29T17:24:24.356+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-29T17:24:24.372+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2025-12-29T17:24:24.385+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-29T17:24:24.420+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-29T17:24:24.453+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-29T17:24:24.474+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-29T17:24:24.525+09:00 DEBUG 52248 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-29T17:24:27.359+09:00 DEBUG 52248 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 118 mappings in 'requestMappingHandlerMapping'
2025-12-29T17:24:27.662+09:00 DEBUG 52248 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-29T17:24:27.870+09:00  WARN 52248 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 357399a6-37da-4156-b3e8-d508d809dae1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-29T17:24:27.908+09:00  INFO 52248 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-29T17:24:28.190+09:00 DEBUG 52248 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-29T17:24:28.476+09:00 DEBUG 52248 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-29T17:24:28.563+09:00 DEBUG 52248 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-29T17:24:28.571+09:00 DEBUG 52248 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-29T17:24:28.896+09:00  INFO 52248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-29T17:24:28.959+09:00  INFO 52248 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 11.51 seconds (process running for 12.284)
2025-12-29T17:30:25.596+09:00  INFO 52248 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-29T17:30:25.597+09:00  INFO 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-29T17:30:25.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-29T17:30:25.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-29T17:30:25.599+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-29T17:30:25.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@61554b6b
2025-12-29T17:30:25.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@362a6aa5
2025-12-29T17:30:25.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-29T17:30:25.604+09:00  INFO 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-29T17:30:25.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-29T17:30:25.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-29T17:30:25.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T17:30:25.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-29T17:30:25.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-29T17:30:25.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-29T17:30:25.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-29T17:30:25.803+09:00  INFO 52248 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-29T17:30:25.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:25.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@648dbe98] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:25.848+09:00  INFO 52248 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-29T17:30:26.885+09:00  INFO 52248 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e51c452
2025-12-29T17:30:26.893+09:00  INFO 52248 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-29T17:30:26.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1448291600 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:26.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-29T17:30:27.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-29T17:30:27.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-29T17:30:27.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@648dbe98]
2025-12-29T17:30:27.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:27.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ab95c9] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:27.817+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463007026 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:27.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:30:27.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-29T17:30:27.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-29T17:30:27.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ab95c9]
2025-12-29T17:30:28.040+09:00  INFO 52248 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 1
2025-12-29T17:30:28.045+09:00  INFO 52248 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2025-12-29T17:30:28.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:28.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-29T17:30:28.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:28.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:28.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:28.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:28.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:28.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:28.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:28.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:28.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a6b880] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:28.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762847573 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:28.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:28.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:28.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:28.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a6b880]
2025-12-29T17:30:28.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:28.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3604fc5f] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:28.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@601354608 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:28.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:28.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:28.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:28.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3604fc5f]
2025-12-29T17:30:28.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:28.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d259fec] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:28.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447412415 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:28.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:28.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:28.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:28.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:28.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d259fec]
2025-12-29T17:30:28.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:28.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b4da69] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780928462 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:29.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b4da69]
2025-12-29T17:30:29.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:29.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T17:30:29.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:29.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:29.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:29.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:29.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:29.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d2f1fc] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.082+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:29.099+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223821668 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:29.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:29.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:29.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:29.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed43c31] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T17:30:29.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1595613419 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:30:29.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:29.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:29.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d2f1fc]
2025-12-29T17:30:29.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:29.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-29T17:30:29.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.131+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7fa4ee] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.131+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:30:29.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845265595 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:30:29.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:30:29.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3433b485] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:29.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7fa4ee]
2025-12-29T17:30:29.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed43c31]
2025-12-29T17:30:29.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074400117 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:29.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:30:29.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc71ddb] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e992b9] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T17:30:29.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1565521003 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2066712729 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:29.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.164+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e992b9]
2025-12-29T17:30:29.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:29.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.168+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc71ddb]
2025-12-29T17:30:29.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44dedab6] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.168+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16fda764] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T17:30:29.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@580191857 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428770136 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3433b485]
2025-12-29T17:30:29.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:29.179+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:29.183+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:29.183+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:29.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:29.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:30:29.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:29.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44dedab6]
2025-12-29T17:30:29.214+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16fda764]
2025-12-29T17:30:29.221+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:29.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47122768] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c385b84] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1310012875 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@923075552 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47122768]
2025-12-29T17:30:29.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c385b84]
2025-12-29T17:30:29.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532407b7] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.256+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1153626116 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:29.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T17:30:29.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:29.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:29.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:29.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:30:29.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-29T17:30:29.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:29.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:29.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:29.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:30:29.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@532407b7]
2025-12-29T17:30:29.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.431+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:30:29.432+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb34f38] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:30:29.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@120242464 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:29.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.450+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:29.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11da377] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608503408 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:30:29.466+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T17:30:29.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:29.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T17:30:29.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:29.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T17:30:29.498+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:29.501+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:29.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:29.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:29.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:29.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:29.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:29.517+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.532+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T17:30:29.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11da377]
2025-12-29T17:30:29.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:29.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:29.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:29.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb34f38]
2025-12-29T17:30:29.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:29.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313c938a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:29.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:30:29.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af5842a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.548+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e72416c] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.549+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d18691] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.551+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335584729 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:29.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:29.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:29.565+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607284996 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.579+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:29.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32574372 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:29.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:29.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:29.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:29.582+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:29.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:29.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:29.605+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.618+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:29.620+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:29.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1462951503 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:29.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:29.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:29.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:29.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af5842a]
2025-12-29T17:30:29.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3b427d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:29.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:29.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:29.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@818002385 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e72416c]
2025-12-29T17:30:29.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313c938a]
2025-12-29T17:30:29.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650f653f] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:29.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:29.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421cfaf8] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.665+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675454816 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:29.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:29.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:29.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050262262 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:29.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d9e9d2] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:29.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d18691]
2025-12-29T17:30:29.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a8c9c94] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7917cd7d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1890564974 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:29.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:29.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:29.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1810523785 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:29.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:29.716+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3b427d]
2025-12-29T17:30:29.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421cfaf8]
2025-12-29T17:30:29.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650f653f]
2025-12-29T17:30:29.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629833322 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bafbe] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@638f11b1] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1180826626 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:29.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1834771925 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1832b1] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.798+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.800+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:29.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:29.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a8c9c94]
2025-12-29T17:30:29.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86022768 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:29.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:29.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.827+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d2b160] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@638f11b1]
2025-12-29T17:30:29.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7917cd7d]
2025-12-29T17:30:29.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bafbe]
2025-12-29T17:30:29.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:29.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d9e9d2]
2025-12-29T17:30:29.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e3a549] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1715795666 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:29.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.847+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2021274141 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:29.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691c481a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24beb540] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150f17c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774315105 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2015668278 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:29.864+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:29.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1832b1]
2025-12-29T17:30:29.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d2b160]
2025-12-29T17:30:29.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962914183 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:29.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:29.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:29.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5acbb6ca] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2130734748 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:29.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d75d126] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2177113 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:29.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:29.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:29.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:29.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e3a549]
2025-12-29T17:30:29.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:29.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:29.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691c481a]
2025-12-29T17:30:29.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:29.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:29.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba40cb] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:29.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:29.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5acbb6ca]
2025-12-29T17:30:29.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869453534 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:29.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d75d126]
2025-12-29T17:30:29.977+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:29.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:29.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:29.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:29.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:29.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ab693dc] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.980+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24beb540]
2025-12-29T17:30:29.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a07ac9] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90554792 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:29.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150f17c3]
2025-12-29T17:30:29.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:29.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2b12e8] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:29.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:29.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050124167 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:29.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:29.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2079429038 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:29.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:29.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:29.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:29.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:30.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:30.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a07ac9]
2025-12-29T17:30:30.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ab693dc]
2025-12-29T17:30:30.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba40cb]
2025-12-29T17:30:30.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:30.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:30.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:30.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:30.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fbda179] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:30.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:30.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033650781 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:30.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:30.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:30.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:30.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2b12e8]
2025-12-29T17:30:30.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa002db] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2059007893 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:30.044+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:30.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:30.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fbda179]
2025-12-29T17:30:30.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79892fad] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1537077132 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:30.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:30.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:30.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa002db]
2025-12-29T17:30:30.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2436cd61] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2069870054 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:30.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:30.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:30.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:30.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:30.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2436cd61]
2025-12-29T17:30:30.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79892fad]
2025-12-29T17:30:30.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ef6a1a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e147762] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117845667 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:30.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@777045834 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:30.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:30.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:30.078+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:30.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:30.082+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.082+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e147762]
2025-12-29T17:30:30.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ef6a1a]
2025-12-29T17:30:30.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:30.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:30.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:30.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:30.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:30.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:30.221+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:30.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:30.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:30.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:30.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:30.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65316221] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1811316983 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:30.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:30.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:30.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:30.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65316221]
2025-12-29T17:30:30.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2acb8acc] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149617630 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:30.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:30.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:30.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2acb8acc]
2025-12-29T17:30:30.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c0f1524] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256486275 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:30.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:30.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:30.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:30.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c0f1524]
2025-12-29T17:30:30.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:30.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636965bd] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:30.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@655096513 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:30.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:30.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:30.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:30.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636965bd]
2025-12-29T17:30:30.363+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:30.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:30.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:33.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:33.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3
2025-12-29T17:30:33.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3
2025-12-29T17:30:33.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:33.634+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/3
2025-12-29T17:30:33.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/3
2025-12-29T17:30:33.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3
2025-12-29T17:30:33.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:33.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/3
2025-12-29T17:30:33.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/3", parameters={}
2025-12-29T17:30:33.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:33.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:30:33.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3
2025-12-29T17:30:33.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:33.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/3
2025-12-29T17:30:33.664+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db429e7] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.667+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:33.668+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/3", parameters={}
2025-12-29T17:30:33.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@364bb06d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:30:33.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653d48ef] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90935142 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:33.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161496048 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:33.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:30:33.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:33.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:33.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@966972590 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:33.699+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:30:33.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:30:33.701+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db429e7]
2025-12-29T17:30:33.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:30:33.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:30:33.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465c9717] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653d48ef]
2025-12-29T17:30:33.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@364bb06d]
2025-12-29T17:30:33.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@426121255 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:33.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:30:33.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6021488e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394a692c] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@66508618 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:33.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1173675790 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:33.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:30:33.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:33.716+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:33.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:30:33.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:30:33.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465c9717]
2025-12-29T17:30:33.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:33.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6021488e]
2025-12-29T17:30:33.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394a692c]
2025-12-29T17:30:33.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a0f437] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63380f59] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1676027707 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:33.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@546dae5c] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@154619528 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:33.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:30:33.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040494324 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:33.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:30:33.733+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.733+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:33.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long), 2(Long)
2025-12-29T17:30:33.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-29T17:30:33.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@546dae5c]
2025-12-29T17:30:33.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:30:33.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:30:33.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8224618] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63380f59]
2025-12-29T17:30:33.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a0f437]
2025-12-29T17:30:33.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822347278 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:33.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:33.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400f61b3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.767+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449a2827] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.767+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:33.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937712180 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:33.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843533553 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:33.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:30:33.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:30:33.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:33.778+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:33.781+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8224618]
2025-12-29T17:30:33.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:33.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-29T17:30:33.798+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:33.800+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:30:33.800+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:30:33.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449a2827]
2025-12-29T17:30:33.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400f61b3]
2025-12-29T17:30:33.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:33.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239d0718] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f620877] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:33.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@919849052 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:33.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@341571281 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:33.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:33.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:33.815+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:33.815+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:33.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:33.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:33.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f620877]
2025-12-29T17:30:33.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239d0718]
2025-12-29T17:30:33.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:33.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:33.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=3, drafterId=2, re (truncated)...]
2025-12-29T17:30:33.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=3, drafterId=2, re (truncated)...]
2025-12-29T17:30:33.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:33.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:37.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3/approve
2025-12-29T17:30:37.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/3/approve
2025-12-29T17:30:37.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3/approve
2025-12-29T17:30:37.266+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/3/approve
2025-12-29T17:30:37.268+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/3/approve", parameters={}
2025-12-29T17:30:37.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-29T17:30:37.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=2, stepOrder=null, status=null (truncated)...]
2025-12-29T17:30:37.388+09:00  INFO 52248 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 3, approverId: 2
2025-12-29T17:30:37.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:37.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785]
2025-12-29T17:30:37.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815434350 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will be managed by Spring
2025-12-29T17:30:37.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:30:37.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:37.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:30:37.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785]
2025-12-29T17:30:37.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785] from current transaction
2025-12-29T17:30:37.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-29T17:30:37.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAALR0lEQVR4AezWK5JUSRQG4IoRbAPFEtAY2AEahSYCDAqFgQiWgGIJWDAsAY1iG21m5m/ImerqrqIe95GPj5jkvjNPfqf7Z/66urr622DgZ8DPgJ+B+n4G/tr4Q4AAAQJVCgjoKtuiKAIE/igwwAsCeoAm2yIBAm0KCOg2+6ZqAgQGEBDQAzTZFkcUsOceBAR0D120BwIEuhQQ0F221aYIEOhBQED30EV7OFXA+wSaEBDQTbRJkQQIjCggoEfsuj0TINCEgIBuok3LFmk1AgTqEBDQdfRBFQQIELglIKBvkbhBgACBOgQE9Kl98D4BAgQWEhDQC0FbhgABAqcKCOhTxbxPgACBhQQmDuiFqrYMAQIEBhAQ0AM02RYJEGhTQEC32TdVEyAwsUCN0wnoGruiJgIECPwrIKD/RfAfAQIEahQQ0DV2RU0EahNQzyoCAnoVdosSIEDgzwIC+s9G3iBAgMAqAgJ6FXaL9iVgNwTmERDQ87ialQABAhcLCOiLCU1AgACBeQQE9DyuZv1fwBkBAmcKCOgz4XxGgACBuQUE9NzC5idAgMCZAgL6TLipPjMPAQIE9gkI6H0y7hMgQGBlAQG9cgMsT4AAgX0CdQf0vqrdJ0CAwAACAnqAJtsiAQJtCgjoNvumagIE6haYpDoBPQmjSQgQIDC9gICe3tSMBAgQmERAQE/CaBICBE4R8O5xAgL6OCdvESBAYHEBAb04uQUJECBwnICAPs7JWwSWE7ASgd8CAvo3hAMBAgRqExDQtXVEPQQIEPgtIKB/Qzi0IqBOAuMICOhxem2nBAg0JiCgG2uYcgkQGEdAQPfVa7shQKAjAQHdUTNthQCBvgQEdF/9tBsCBDoSGCqgO+qbrRAgMICAgB6gybZIgECbAgK6zb6pmgCBAQT+D+gBNmuLBAgQaElAQLfULbUSIDCUgIAeqt02S6BLgW43JaC7ba2NESDQuoCAbr2D6idAoFsBAd1ta22MwC8Bf7crIKDb7Z3KCRDoXEBAd95g2yNAoF0BAd1u71Q+hYA5CFQsIKArbo7SCBAYW0BAj91/uydAoGIBAV1xc9YvTQUECKwpIKDX1Lc2AQIEDggI6AM4HhEgQGBNAQF9vr4vCRAgMKuAgJ6V1+QECBA4X0BAn2/nSwIECMwqMFtAz1q1yQkQIDCAgIAeoMm2SIBAmwICus2+qZoAgdkE6plYQNfTC5UQIEDghoCAvsHhggABAvUICOh6enGwkp8/f252Rz4o9759+7bJ+PTp0ybj7du3m4cPH24ePHiwefLkyX/Hcp77uyPPtsfz5883GZmrjMyddcq6OaYOYxgBG11QQEAviH3KUgm+e/fuXQfrbpCW6+3nJVgTqBkJ1O/fv1+HegnUHDMy910jz7ZHwjgjc5WRubNWqSHH3TqePn16Hex5N9/lWMbudbl/znF7rpxnlHlyvjuyl+wvxzLikHsZuZfrjHKe+xnlOs9yvW/kve1n29e759vX29/snmfN7XHKz5F32xYQ0JX2L7+kKa38Yua85lHqTN2fP3++/r/4BFBCMscydq/L/XOO23PlPKPMk/PdkfDOPy45lpF/YHIvI/dev369efz48fU/MDnmfkae5d2MXO8beW/72fb17vn29e43eZaR+6kj59lP1o91zT8LaptOQEBPZznpTI8ePdo8e/Zsc//+/U3O7xp5lrFZ8U/qSp0Zb9682Xz8+HHz/v3762POM758+bIpz3JdRu5llOscc11GrsvIvbvOM3e5n/Pt8ePHj82hcXV19d/znGek9nyT869fv25y3B55tm/kvYzyfPe8XOe4Pcr7OeZ+jmXkOnVkX9lnrtfu+Yo/bsMtLaArbXl+CfMLmV/U/HLeNfIsI7+0GTnPKO++e/du8+LFi+twTICWkbC7a9z1PDVklDkzf9YqI/fzPCNzZo6XL19e/+OS84yEeHmW6zJyL6Nc55jrMnJdRu7ddZ65y/2cb48YHhppfXme84xc55ixfZ7rjNzbN/I8ozzfPS/XOW6P8n6O2/fL+b775bljvwICuqPe5hc5o4TUq1evNh8+fLgO6ARoGQm7u8Zdz3fDL/N3RGYrBKoWENBVt6ez4myHAIGTBAT0SVxeJkCAwHICAno5aysRIEDgJAEBfRLXnC+bmwABAjcFBPRND1cECBCoRkBAV9MKhRAgQOCmQCsBfbNqVwQIEBhAQEAP0GRbJECgTQEB3WbfVE2AQCsCF9QpoC/A8ykBAgTmFBDQc+qamwABAhcICOgL8HxKgMClAr4/JCCgD+l4RoAAgRUFBPSK+JYmQIDAIQEBfUjHMwLrClh9cAEBPfgPgO0TIFCvgICutzcqI0BgcAEBPfgPQMvbVzuB3gUEdO8dtj8CBJoVENDNtk7hBAj0LiCge+2wfREg0LyAgG6+hTZAgECvAgK6187aFwECzQsMGtDN980GCBAYQEBAD9BkWyRAoE0BAd1m31RNgMAAAncF9ADbtkUCBAjULyCg6++RCgkQGFRAQA/aeNsm0KVAZ5sS0J011HYIEOhHQED300s7IUCgMwEB3VlDbYfAfgFPWhMQ0K11TL0ECAwjIKCHabWNEiDQmoCAbq1j6p1LwLwEqhMQ0NW1REEECBD4JSCgfzn4mwABAtUJCOjqWlJnQaoiQGB5AQG9vLkVCRAgcJSAgD6KyUsECBBYXkBAT2FuDgIECMwgIKBnQDUlAQIEphAQ0FMomoMAAQIzCCwQ0DNUbUoCBAgMICCgB2iyLRIg0KaAgG6zb6omQGABgbWXENBrd8D6BAgQ2CMgoPfAuE2AAIG1BQT02h2wPoFWBdQ9u4CAnp3YAgQIEDhPQECf5+YrAgQIzC4goGcntsCYAnZN4HIBAX25oRkIECAwi4CAnoXVpAQIELhcQEBfbmiG0wV8QYDAEQIC+ggkrxAgQGANAQG9hro1CRAgcISAgD4CaelXrEeAAIEICOgoGAQIEKhQQEBX2BQlESBAIALtBXSqNggQIDCAgIAeoMm2SIBAmwICus2+qZoAgfYETq5YQJ9M5gMCBAgsIyCgl3G2CgECBE4WENAnk/mAAIE5BMx5W0BA3zZxhwABAlUICOgq2qAIAgQI3BYQ0LdN3CFQn4CKhhQQ0EO23aYJEGhBQEC30CU1EiAwpICAHrLtvW3afgj0KSCg++yrXREg0IGAgO6gibZAgECfAgK6z75u78o5AQKNCgjoRhunbAIE+hcQ0P332A4JEGhUYPiAbrRvyiZAYAABAT1Ak22RAIE2BQR0m31TNQECAwgcDugBAGyRAAECtQoI6Fo7oy4CBIYXENDD/wgAINClQBebEtBdtNEmCBDoUUBA99hVeyJAoAsBAd1FG22CwGkC3m5DQEC30SdVEiAwoICAHrDptkyAQBsCArqNPqlySQFrEahEQEBX0ghlECBAYFdAQO+KuCZAgEAlAgK6kka0U4ZKCRBYSkBALyVtHQIECJwoIKBPBPM6AQIElhIQ0NNKm40AAQKTCQjoyShNRIAAgWkFBPS0nmYjQIDAZAKLBvRkVZuIAAECAwgI6AGabIsECLQpIKDb7JuqCRBYVGCdxQT0Ou5WJUCAwB8FBPQfibxAgACBdQQE9DruViXQk4C9zCQgoGeCNS0BAgQuFRDQlwr6ngABAjMJCOiZYE1LoAg4EjhXQECfK+c7AgQIzCwgoGcGNj0BAgTOFRDQ58r5bhoBsxAgsFdAQO+l8YAAAQLrCgjodf2tToAAgb0CAnovTQ0P1ECAwMgCAnrk7ts7AQJVCwjoqtujOAIERhZoOaBH7pu9EyAwgICAHqDJtkiAQJsCArrNvqmaAIGWBY6sXUAfCeU1AgQILC3wDwAAAP//kcMqfwAAAAZJREFUAwAPfatR47eEewAAAABJRU5ErkJggg==(String), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:37.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-29T17:30:37.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785]
2025-12-29T17:30:37.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785] from current transaction
2025-12-29T17:30:37.471+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:30:37.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:37.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:30:37.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785]
2025-12-29T17:30:37.515+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785]
2025-12-29T17:30:37.517+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785]
2025-12-29T17:30:37.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eda785]
2025-12-29T17:30:37.564+09:00  INFO 52248 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 3
2025-12-29T17:30:37.565+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:37.565+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-29T17:30:37.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:39.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3
2025-12-29T17:30:39.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/3
2025-12-29T17:30:39.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T17:30:39.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3
2025-12-29T17:30:39.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3
2025-12-29T17:30:39.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:30:39.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/3
2025-12-29T17:30:39.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:39.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/3
2025-12-29T17:30:39.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:39.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/3", parameters={}
2025-12-29T17:30:39.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2025-12-29T17:30:39.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:30:39.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3
2025-12-29T17:30:39.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:30:39.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:39.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:30:39.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:30:39.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef2e643] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/3
2025-12-29T17:30:39.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:39.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:39.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:39.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/3", parameters={}
2025-12-29T17:30:39.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c283eb1] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@303059301 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:39.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:30:39.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-29T17:30:39.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:30:39.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f56e5ae] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@212330b3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b95ccba] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@222235940 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:39.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@612048921 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:39.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:30:39.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@673535491 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:39.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:39.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-29T17:30:39.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:39.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:39.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105648401 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:39.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:39.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef2e643]
2025-12-29T17:30:39.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:39.896+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:30:39.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:39.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:30:39.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-29T17:30:39.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:39.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:30:39.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c283eb1]
2025-12-29T17:30:39.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-29T17:30:39.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f56e5ae]
2025-12-29T17:30:39.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:39.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@212330b3]
2025-12-29T17:30:39.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a38e7e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:30:39.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d31802] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1539898438 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:39.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ae317e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b95ccba]
2025-12-29T17:30:39.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871193302 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:39.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:30:39.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@39158018 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:39.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:39.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:39.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:39.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@768c2566] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:39.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:39.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1340790753 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:39.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:30:39.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:30:39.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:39.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:39.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:39.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a38e7e]
2025-12-29T17:30:39.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d31802]
2025-12-29T17:30:39.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ae317e]
2025-12-29T17:30:39.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246d298b] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5c37fa] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:30:39.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234384396 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:39.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7108d847] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354996241 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:39.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@768c2566]
2025-12-29T17:30:39.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:39.948+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1209283289 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:39.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:30:39.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-29T17:30:39.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:39.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:39.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24814b0d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-29T17:30:39.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/3
2025-12-29T17:30:39.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@867298798 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:39.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:30:39.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:30:39.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246d298b]
2025-12-29T17:30:39.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:39.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:39.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:39.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:39.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/3
2025-12-29T17:30:39.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:30:39.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:30:39.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:39.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0e259] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7108d847]
2025-12-29T17:30:39.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/3
2025-12-29T17:30:39.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5c37fa]
2025-12-29T17:30:39.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302110909 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:39.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/3
2025-12-29T17:30:39.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:39.999+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e4406e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:39.999+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:30:39.999+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:40.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e70be3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/3", parameters={}
2025-12-29T17:30:40.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff8c435] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@740538946 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:40.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24814b0d]
2025-12-29T17:30:40.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:40.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1125789656 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:40.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:40.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:30:40.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2105313155 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:40.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:40.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:40.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:40.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:30:40.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4744934e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:40.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f16e4f] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0e259]
2025-12-29T17:30:40.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:40.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764974984 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:40.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:40.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:30:40.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-29T17:30:40.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:40.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:40.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:40.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e70be3]
2025-12-29T17:30:40.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132222552 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:40.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:30:40.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:30:40.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-29T17:30:40.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:40.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:40.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff8c435]
2025-12-29T17:30:40.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e4406e]
2025-12-29T17:30:40.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-29T17:30:40.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:40.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7bd23d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1eb079] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1457222283 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:40.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845066372 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:40.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:40.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:30:40.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:30:40.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:40.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:40.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f16e4f]
2025-12-29T17:30:40.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4744934e]
2025-12-29T17:30:40.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:40.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f99c68] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:40.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14601480] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934391901 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:40.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:40.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7bd23d]
2025-12-29T17:30:40.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2010983329 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:40.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:30:40.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1eb079]
2025-12-29T17:30:40.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:40.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:40.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:40.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=3, drafterId=2, re (truncated)...]
2025-12-29T17:30:40.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:40.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b4a881] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:40.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221335350 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:40.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:40.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-29T17:30:40.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:40.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:30:40.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:30:40.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14601480]
2025-12-29T17:30:40.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b4a881]
2025-12-29T17:30:40.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f99c68]
2025-12-29T17:30:40.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:40.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=3, drafterId=2, re (truncated)...]
2025-12-29T17:30:40.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef0c75e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb2ee3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:40.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@246448289 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:40.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1758394528 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:40.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:40.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:40.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:30:40.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:40.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:40.214+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef0c75e]
2025-12-29T17:30:40.215+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:40.217+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-29T17:30:40.219+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:30:40.220+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb2ee3]
2025-12-29T17:30:40.220+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:40.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2500d2e5] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.234+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073177232 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:40.234+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:30:40.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 3(Long), 1(Long)
2025-12-29T17:30:40.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:30:40.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2500d2e5]
2025-12-29T17:30:40.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:40.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bf29e15] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:40.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944173172 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:40.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:40.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:40.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:40.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bf29e15]
2025-12-29T17:30:40.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:40.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=3, drafterId=2, re (truncated)...]
2025-12-29T17:30:40.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:41.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:41.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:41.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:41.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:41.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:41.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:41.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T17:30:41.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:41.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2025-12-29T17:30:41.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-29T17:30:41.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:41.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:41.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:41.751+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:41.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-29T17:30:41.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:41.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:41.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:41.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:41.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:41.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:41.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:41.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b34b1] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72854d6b] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.767+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f5a029] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1adbc0bb] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73759e96] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.796+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545104417 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:41.796+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@5014599 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:41.797+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@771197296 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:41.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:41.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:41.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:41.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:41.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:41.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-29T17:30:41.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102600648 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:41.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1711438638 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:41.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:41.847+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-29T17:30:41.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:41.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:41.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72854d6b]
2025-12-29T17:30:41.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:41.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30f0d281] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@230847240 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:41.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-29T17:30:41.869+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f5a029]
2025-12-29T17:30:41.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537083a3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684772951 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:41.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-29T17:30:41.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b34b1]
2025-12-29T17:30:41.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:41.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73759e96]
2025-12-29T17:30:41.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e8c0b41] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1638992539 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:41.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e5cf41f] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516421536 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:41.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:41.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1adbc0bb]
2025-12-29T17:30:41.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e060d5] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585151820 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:41.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e8c0b41]
2025-12-29T17:30:41.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a52e343] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681534283 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:41.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:41.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-29T17:30:41.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e5cf41f]
2025-12-29T17:30:41.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7f83ed] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@923427889 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:41.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:41.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:41.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537083a3]
2025-12-29T17:30:41.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb3c514] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064201402 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:41.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:41.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-29T17:30:41.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30f0d281]
2025-12-29T17:30:41.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1c905a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2102277986 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:41.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:41.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-29T17:30:41.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:30:41.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1c905a]
2025-12-29T17:30:41.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:30:41.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5260c1a3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a52e343]
2025-12-29T17:30:41.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2110850549 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:41.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:41.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f4fa11] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7f83ed]
2025-12-29T17:30:41.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:30:41.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@468800375 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:41.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb3c514]
2025-12-29T17:30:41.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb75137] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7174a45] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570097607 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:41.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@893297878 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:41.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:41.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e060d5]
2025-12-29T17:30:41.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:41.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:41.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:41.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12dd63bf] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2002669561 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:41.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:41.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:41.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f4fa11]
2025-12-29T17:30:41.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:41.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:41.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5260c1a3]
2025-12-29T17:30:41.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7174a45]
2025-12-29T17:30:41.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-29T17:30:41.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:41.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb75137]
2025-12-29T17:30:41.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:41.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:41.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:41.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:41.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@206ef8c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:41.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-29T17:30:41.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-29T17:30:41.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@91564816 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:41.999+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:42.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:42.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:42.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:42.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12dd63bf]
2025-12-29T17:30:42.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:42.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:42.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8af9387] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:42.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1905707446 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:42.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:42.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:42.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:42.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@206ef8c3]
2025-12-29T17:30:42.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:42.082+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:42.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc32dae] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:42.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8af9387]
2025-12-29T17:30:42.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1211917941 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:42.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:42.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:42.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b688ea] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:42.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:42.112+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@619776720 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:42.112+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:42.118+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:42.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:42.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:42.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b688ea]
2025-12-29T17:30:42.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc32dae]
2025-12-29T17:30:42.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:42.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:42.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437bcb7] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:42.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af26597] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:42.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1621267715 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:42.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086312250 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:42.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:42.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:42.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:42.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:42.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:42.164+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:42.167+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af26597]
2025-12-29T17:30:42.168+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437bcb7]
2025-12-29T17:30:42.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:42.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:42.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422e80fd] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:42.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:42.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068139531 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:42.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:42.173+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:42.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-29T17:30:42.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:42.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422e80fd]
2025-12-29T17:30:42.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:42.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:42.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:43.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-29T17:30:43.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-29T17:30:43.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/logout
2025-12-29T17:30:43.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-29T17:30:43.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-29T17:30:43.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-29T17:30:43.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-29T17:30:43.386+09:00  INFO 52248 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=2
2025-12-29T17:30:43.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:43.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-29T17:30:43.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:47.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-29T17:30:47.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-29T17:30:47.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T17:30:47.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-29T17:30:47.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-29T17:30:47.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-29T17:30:47.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user3, password=1234)]
2025-12-29T17:30:47.387+09:00  INFO 52248 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user3
2025-12-29T17:30:47.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:47.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4191247d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:47.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@299419507 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:47.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-29T17:30:47.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user3(String)
2025-12-29T17:30:47.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-29T17:30:47.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4191247d]
2025-12-29T17:30:47.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:47.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41cef5aa] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:47.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1201579745 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:47.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:30:47.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2025-12-29T17:30:47.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-29T17:30:47.491+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41cef5aa]
2025-12-29T17:30:47.493+09:00  INFO 52248 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 4, role: ACCOUNTANT, companyId: 1
2025-12-29T17:30:47.494+09:00  INFO 52248 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=4 username=test_user3 role=ACCOUNTANT
2025-12-29T17:30:47.494+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:47.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=4, username=test_user3, password (truncated)...]
2025-12-29T17:30:47.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:47.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T17:30:47.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:30:47.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:30:47.948+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:30:47.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:30:47.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:47.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:47.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:47.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:47.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:47.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:30:48.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f1b205] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:48.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:48.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:30:48.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:48.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:48.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@766884221 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:48.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:48.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:48.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:48.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:30:48.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:48.033+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9a5642] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:30:48.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:30:48.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:48.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:48.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:48.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153897967 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:48.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aac9582] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:48.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:48.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:48.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:48.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:30:48.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:48.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:48.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@21686517 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:48.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:48.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f1b205]
2025-12-29T17:30:48.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392cc0fe] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:48.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:48.082+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:48.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2044136967 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:48.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13abdc4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758aa891] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:48.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:30:48.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:48.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:48.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:48.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:48.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9a5642]
2025-12-29T17:30:48.115+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457059584 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:48.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938097563 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:48.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:48.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7895a362] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.118+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:48.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:48.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aac9582]
2025-12-29T17:30:48.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@817026395 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:48.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:48.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:48.131+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e24a6a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:48.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:48.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.168+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@357733133 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:48.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392cc0fe]
2025-12-29T17:30:48.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758aa891]
2025-12-29T17:30:48.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:48.183+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.183+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13abdc4e]
2025-12-29T17:30:48.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7895a362]
2025-12-29T17:30:48.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61178ad3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5a1211] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:48.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1055100223 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:48.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1626585689 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:48.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:48.197+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33311125] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530c19e7] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:48.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@622588755 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:48.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114765399 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:48.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e24a6a]
2025-12-29T17:30:48.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:48.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f68dd85] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:48.212+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697264408 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:48.215+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abb5a7] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.216+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.217+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.218+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.220+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:48.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:48.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33311125]
2025-12-29T17:30:48.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5a1211]
2025-12-29T17:30:48.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61178ad3]
2025-12-29T17:30:48.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530c19e7]
2025-12-29T17:30:48.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081135085 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:48.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd50289] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b9a7b4] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3492d743] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:48.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd0825c] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@341214831 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:48.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1575546856 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:48.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1770951184 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:48.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:48.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:48.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471889248 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:48.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f68dd85]
2025-12-29T17:30:48.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:48.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:48.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:48.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:48.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25206d99] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abb5a7]
2025-12-29T17:30:48.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471664717 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:48.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:48.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20207364] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:48.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:48.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:48.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@13011967 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:48.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b9a7b4]
2025-12-29T17:30:48.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd50289]
2025-12-29T17:30:48.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54649a8f] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cebb49d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd0825c]
2025-12-29T17:30:48.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:48.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:48.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609241520 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:48.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1538073795 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:48.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:48.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3492d743]
2025-12-29T17:30:48.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25206d99]
2025-12-29T17:30:48.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:48.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:48.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:48.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:48.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20207364]
2025-12-29T17:30:48.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bcd8151] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1caab956] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050697039 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:48.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a863d4] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685074463 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:48.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648530045 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:48.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:48.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:48.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54649a8f]
2025-12-29T17:30:48.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cebb49d]
2025-12-29T17:30:48.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:48.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:48.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ec609f] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1caab956]
2025-12-29T17:30:48.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a863d4]
2025-12-29T17:30:48.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bcd8151]
2025-12-29T17:30:48.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:48.429+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@808200943 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:48.429+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:48.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.431+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:48.432+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:48.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b470d27] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2918b79b] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:48.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@477526872 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:48.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320709344 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:48.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:48.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:48.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2918b79b]
2025-12-29T17:30:48.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ec609f]
2025-12-29T17:30:48.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b470d27]
2025-12-29T17:30:48.464+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:48.464+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.464+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:48.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@434fd958] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.466+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31eb5ef2] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.468+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:48.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610920246 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:48.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317080541 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:48.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:48.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:48.480+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.483+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.483+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:48.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31eb5ef2]
2025-12-29T17:30:48.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@434fd958]
2025-12-29T17:30:48.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:48.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:48.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:48.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686480e6] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:48.499+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:48.500+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1432093099 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:48.501+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:48.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:48.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:48.534+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686480e6]
2025-12-29T17:30:48.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:48.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:48.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:52.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:52.797+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T17:30:52.800+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:30:52.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:52.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:30:52.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:52.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:52.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:52.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:30:52.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:30:52.833+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:52.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:52.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:52.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:30:52.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:52.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:52.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:52.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:52.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:30:52.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:30:52.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:52.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:52.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:52.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:30:52.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:30:52.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7ecfbe] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b2f24b] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12615970] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773963950 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:52.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:30:52.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a64857a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@555b4362] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1957201834 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:52.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:52.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:30:52.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2124013100 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:52.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@720099981 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:52.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:52.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:52.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:30:52.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:52.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@739279187 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:52.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:52.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:52.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:52.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:30:52.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:52.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:52.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb1909b] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:30:52.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7ecfbe]
2025-12-29T17:30:52.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:52.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:52.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa1e20d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:52.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a64857a]
2025-12-29T17:30:52.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b2f24b]
2025-12-29T17:30:52.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@355795722 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:52.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12615970]
2025-12-29T17:30:52.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1766515904 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:52.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:30:52.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:52.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:52.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:52.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@555b4362]
2025-12-29T17:30:52.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61da3477] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481f0181] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:52.948+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4878e9b5] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:52.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:52.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:52.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1765783848 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:52.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1612044792 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:52.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1266877353 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:52.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:30:52.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:52.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:52.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:52.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:52.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:52.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:52.977+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:52.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa1e20d]
2025-12-29T17:30:52.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb1909b]
2025-12-29T17:30:52.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:52.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:52.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:53.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a20216b] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:53.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb45bdd] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1950781159 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:53.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:53.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764781004 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:53.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61da3477]
2025-12-29T17:30:53.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:53.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:53.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:53.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481f0181]
2025-12-29T17:30:53.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4878e9b5]
2025-12-29T17:30:53.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f37f801] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1073617948 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:53.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c061f9d] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ba9b8c] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b86e2b2] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892405591 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:53.078+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176084435 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:53.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884773174 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:53.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:53.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:53.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:53.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb45bdd]
2025-12-29T17:30:53.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a20216b]
2025-12-29T17:30:53.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:53.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:53.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:53.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:53.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:53.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d051b90] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@485c50b8] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:53.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:53.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f37f801]
2025-12-29T17:30:53.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ba9b8c]
2025-12-29T17:30:53.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@328322910 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:53.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1942752161 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:53.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c061f9d]
2025-12-29T17:30:53.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b86e2b2]
2025-12-29T17:30:53.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@498df856] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5566d8] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:53.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3869892e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7d8efc] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2034951830 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:30:53.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115104805 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:30:53.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417646921 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:53.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@283274419 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:53.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:53.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.197+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:53.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:53.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:53.219+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@485c50b8]
2025-12-29T17:30:53.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@498df856]
2025-12-29T17:30:53.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d051b90]
2025-12-29T17:30:53.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:53.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:53.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5566d8]
2025-12-29T17:30:53.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7d8efc]
2025-12-29T17:30:53.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3869892e]
2025-12-29T17:30:53.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:53.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:53.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:53.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d42d5e] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442902227 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:53.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590102e5] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:53.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:53.266+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d89dba1] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:53.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936871661 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:53.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:53.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567861378 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:53.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:53.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:53.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:30:53.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:53.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:30:53.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:53.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:30:53.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d42d5e]
2025-12-29T17:30:53.364+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:30:53.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:30:53.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4d263b] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:30:53.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:30:53.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567645297 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:30:53.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590102e5]
2025-12-29T17:30:53.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d89dba1]
2025-12-29T17:30:53.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4125adb7] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.397+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.397+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f06237c] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732663937 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:53.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25deb1b7] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858144339 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:53.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:30:53.415+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181295230 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:53.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:30:53.432+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.464+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:53.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4d263b]
2025-12-29T17:30:53.471+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:53.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:30:53.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4125adb7]
2025-12-29T17:30:53.519+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:53.515+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f06237c]
2025-12-29T17:30:53.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a20c41] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73981684] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:53.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731317706 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:53.532+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532436309 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:53.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:30:53.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:53.548+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25deb1b7]
2025-12-29T17:30:53.549+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:30:53.551+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.551+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a20c41]
2025-12-29T17:30:53.552+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660a49bb] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.563+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@906567620 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:30:53.565+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73981684]
2025-12-29T17:30:53.566+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20627fb3] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.566+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.566+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1499185146 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:30:53.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ead3c2a] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1571961677 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:53.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:30:53.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:30:53.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20627fb3]
2025-12-29T17:30:53.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660a49bb]
2025-12-29T17:30:53.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:53.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:53.595+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:30:53.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:53.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:30:53.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ead3c2a]
2025-12-29T17:30:53.599+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:53.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:30:53.602+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:30:53.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36871937] was not registered for synchronization because synchronization is not active
2025-12-29T17:30:53.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@827080609 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:30:53.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:30:53.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:30:53.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:30:53.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36871937]
2025-12-29T17:30:53.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:30:53.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:30:53.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:30.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:31:30.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:30.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:31:30.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:30.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:31:30.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:31:30.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:30.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:31:30.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.618+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb67611] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.619+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174616e9] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.629+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1304543766 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:30.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:30.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:30.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40489197 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:30.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:30.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:30.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:30.634+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb67611]
2025-12-29T17:31:30.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:30.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7d689c] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174616e9]
2025-12-29T17:31:30.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40439055 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:30.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d08440] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@29905072 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:30.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7d689c]
2025-12-29T17:31:30.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa46ba] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d08440]
2025-12-29T17:31:30.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1402398577 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:30.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:30.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e821d5f] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:30.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593933387 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:30.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:30.664+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:30.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:30.667+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa46ba]
2025-12-29T17:31:30.667+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.668+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b8efa] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.668+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:30.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1372637055 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:30.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e821d5f]
2025-12-29T17:31:30.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ce5170] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1058594035 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:30.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:30.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:30.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b8efa]
2025-12-29T17:31:30.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:30.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:30.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:30.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:30.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ce5170]
2025-12-29T17:31:30.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@815fa71] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065919954 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:30.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:30.699+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:30.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:30.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@815fa71]
2025-12-29T17:31:30.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da4d2fa] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11fae1de] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916146146 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:30.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1976454179 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:30.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:30.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:30.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:30.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:30.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:30.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:30.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da4d2fa]
2025-12-29T17:31:30.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11fae1de]
2025-12-29T17:31:30.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af05550] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af7471a] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114192374 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:30.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1011199371 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:30.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af05550]
2025-12-29T17:31:30.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c8201d] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af7471a]
2025-12-29T17:31:30.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1270526945 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:30.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:30.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:30.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:31:30.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:30.778+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:30.783+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:30.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c8201d]
2025-12-29T17:31:30.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8f437c] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702894808 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:30.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.799+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b8f437c]
2025-12-29T17:31:30.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:30.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:30.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:30.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:31:30.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:31:30.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:31:30.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:31:30.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:31:30.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@401c820e] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1630437307 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:30.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:31:30.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:31:30.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:31:30.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@401c820e]
2025-12-29T17:31:30.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:30.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:31:30.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:30.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:30.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:30.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:30.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.864+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7deda43a] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.864+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527032985 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:30.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:30.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:30.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:30.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7deda43a]
2025-12-29T17:31:30.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7b333f] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@195532830 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:30.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7b333f]
2025-12-29T17:31:30.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c5f95e] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717945394 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:30.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:30.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:30.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:30.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c5f95e]
2025-12-29T17:31:30.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6859bd1c] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675470400 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:30.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6859bd1c]
2025-12-29T17:31:30.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:30.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:30.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:30.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:31:30.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:31:30.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:31:30.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:31:30.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:31:30.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1634f791] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@281109728 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:30.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:30.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:30.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:30.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1634f791]
2025-12-29T17:31:30.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e99328] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1428704468 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:30.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e99328]
2025-12-29T17:31:30.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a03b67] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@808030632 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:30.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:30.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:30.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:30.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a03b67]
2025-12-29T17:31:30.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e2afe2] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@265408378 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:30.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:30.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:30.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:30.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e2afe2]
2025-12-29T17:31:30.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f3f490] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129813619 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:30.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f3f490]
2025-12-29T17:31:30.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ffccb9] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1927473218 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:30.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:30.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:30.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:30.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ffccb9]
2025-12-29T17:31:30.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:30.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb9d6d2] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:30.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1759858104 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:30.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:30.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:30.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:30.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb9d6d2]
2025-12-29T17:31:30.980+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:30.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:31:30.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:30.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:30.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:30.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:30.999+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:31.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:31.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cde9fbd] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:31.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722800355 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:31.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:31.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:31.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:31.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cde9fbd]
2025-12-29T17:31:31.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:31.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45042750] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:31.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@760183610 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:31.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:31.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:31.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:31.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45042750]
2025-12-29T17:31:31.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:31.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a8c9fb] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:31.033+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962037785 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:31.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:31.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:31.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:31.043+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a8c9fb]
2025-12-29T17:31:31.044+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:31.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c11a20c] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:31.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@715148132 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:31.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:31.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:31.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:31.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c11a20c]
2025-12-29T17:31:31.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:31.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:31.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:32.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:31:32.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-29T17:31:32.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-29T17:31:32.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:31:32.234+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:31:32.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:31:32.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:31:32.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:31:32.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:32.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:32.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:31:32.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:31:32.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:32.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:31:32.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:31:32.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:31:32.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:31:32.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:32.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:32.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de50926] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:31:32.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:31:32.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:32.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:32.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:31:32.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:32.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a73128] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:32.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:31:32.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abd6be2] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.363+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40fa5ec0] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170989dc] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7daf44f0] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1598052762 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:32.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:32.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:32.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@613161247 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:32.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319367448 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:32.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@4682685 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:32.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@537214056 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:32.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2136117309 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:32.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:32.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:32.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:31:32.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:32.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:32.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:32.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:32.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:31:32.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:32.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:32.431+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:32.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de50926]
2025-12-29T17:31:32.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d445de] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1214875653 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:32.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:32.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:32.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:32.471+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7daf44f0]
2025-12-29T17:31:32.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4afb7789] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:32.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:32.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:31:32.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:32.481+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:32.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@982562205 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:32.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d445de]
2025-12-29T17:31:32.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170989dc]
2025-12-29T17:31:32.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abd6be2]
2025-12-29T17:31:32.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40fa5ec0]
2025-12-29T17:31:32.519+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a38aa9] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.534+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098898954 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:32.534+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:32.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a73128]
2025-12-29T17:31:32.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:32.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@297d9552] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.517+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:32.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:32.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b41abf] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:32.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@212000534 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:32.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201b047d] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:31:32.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540866027 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:32.546+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:32.568+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:32.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@724436412 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:32.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:32.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:32.548+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:32.550+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:32.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:32.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:32.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:32.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:32.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:32.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201b047d]
2025-12-29T17:31:32.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a9c1d8] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417925468 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:32.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:32.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:32.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:32.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:32.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b41abf]
2025-12-29T17:31:32.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:32.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a38aa9]
2025-12-29T17:31:32.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:32.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@297d9552]
2025-12-29T17:31:32.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59469271] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4afb7789]
2025-12-29T17:31:32.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530d869f] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1199050659 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:32.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1385dd3b] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d87cd02] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:32.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475286286 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:32.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:32.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:32.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@499458269 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:32.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884086489 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:32.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:32.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121856ca] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:32.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:32.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:32.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@55454783 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:32.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:32.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:32.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:32.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:32.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a9c1d8]
2025-12-29T17:31:32.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:32.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:32.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d888151] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:32.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1132538425 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:32.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:32.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:32.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:32.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59469271]
2025-12-29T17:31:32.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530d869f]
2025-12-29T17:31:32.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:32.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7450a477] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:33.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:33.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1385dd3b]
2025-12-29T17:31:33.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e5e273] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295291729 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:33.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:33.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434660758 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:33.044+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121856ca]
2025-12-29T17:31:33.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d87cd02]
2025-12-29T17:31:33.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696ff21d] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.118+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:33.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d888151]
2025-12-29T17:31:33.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429a6ca1] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71273d1b] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1449765073 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:33.160+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.160+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e5e273]
2025-12-29T17:31:33.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.162+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.184+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@316984382 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:33.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37421536 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:33.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.197+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fef17a6] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1120ae14] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.213+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.213+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.214+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.215+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984206595 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:33.218+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1309225017 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:33.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7450a477]
2025-12-29T17:31:33.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@284ab1d] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:33.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1929823270 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:33.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:33.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:33.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:33.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71273d1b]
2025-12-29T17:31:33.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696ff21d]
2025-12-29T17:31:33.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429a6ca1]
2025-12-29T17:31:33.266+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:33.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:33.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:33.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:33.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:33.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1120ae14]
2025-12-29T17:31:33.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:33.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:33.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:33.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:33.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fef17a6]
2025-12-29T17:31:33.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4267d53e] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453556584 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:33.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:33.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:33.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ceb11ff] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463365091 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:33.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:33.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:33.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:33.368+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@284ab1d]
2025-12-29T17:31:33.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:33.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3b2909] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:33.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2076229072 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:33.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4267d53e]
2025-12-29T17:31:33.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:33.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:33.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:33.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:33.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:33.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:33.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcda8c6] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.428+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245928160 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:33.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:33.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:33.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ceb11ff]
2025-12-29T17:31:33.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3701] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:33.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686092312 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:33.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3b2909]
2025-12-29T17:31:33.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.463+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:33.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:31:33.515+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:33.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:33.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcda8c6]
2025-12-29T17:31:33.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:33.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c8adb43] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:33.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1578353036 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:33.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:33.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:33.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3701]
2025-12-29T17:31:33.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:33.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:31:33.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:33.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:33.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c8adb43]
2025-12-29T17:31:33.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:34.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a632447] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:34.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1076472971 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:34.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:34.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:34.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:34.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a632447]
2025-12-29T17:31:34.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:34.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278ed006] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:34.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678543276 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:34.428+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:34.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:34.467+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:34.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278ed006]
2025-12-29T17:31:34.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:34.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:34.480+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:38.491+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.492+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:31:38.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:38.502+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:38.514+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:38.499+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:31:38.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7259f72e] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.517+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:31:38.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:31:38.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:31:38.549+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.551+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da9f9f1] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1576223870 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:38.566+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:38.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302929272 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:38.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:38.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:38.579+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:38.580+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7259f72e]
2025-12-29T17:31:38.582+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.583+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e99326e] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.583+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:38.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1614369440 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da9f9f1]
2025-12-29T17:31:38.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c77fb9] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1153418590 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:38.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.600+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e99326e]
2025-12-29T17:31:38.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.602+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666ea9a] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c77fb9]
2025-12-29T17:31:38.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1897636474 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a1e000] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:38.618+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1406168602 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:38.619+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:38.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:38.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666ea9a]
2025-12-29T17:31:38.629+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@db666f7] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:38.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1018523617 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a1e000]
2025-12-29T17:31:38.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a97826a] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2099371736 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:38.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:38.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:38.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@db666f7]
2025-12-29T17:31:38.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:38.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:38.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:38.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a97826a]
2025-12-29T17:31:38.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:38.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9919e5] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816877070 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:38.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9919e5]
2025-12-29T17:31:38.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:38.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c633f6b] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1313296179 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:38.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:38.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:38.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:38.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36cee5f5] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@328324383 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:38.701+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:38.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c633f6b]
2025-12-29T17:31:38.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:38.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b147317] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1042911097 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:31:38.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:38.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36cee5f5]
2025-12-29T17:31:38.718+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0d8474] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1607355612 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b147317]
2025-12-29T17:31:38.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:38.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0d8474]
2025-12-29T17:31:38.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:31:38.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e8fdb4] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.751+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:38.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114419161 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:38.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:38.767+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e8fdb4]
2025-12-29T17:31:38.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b367de5] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1843737194 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.781+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b367de5]
2025-12-29T17:31:38.781+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:38.782+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:38.783+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:38.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:31:38.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:31:38.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:38.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:31:38.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:31:38.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:38.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:31:38.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:38.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f21beee] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4608961d] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348565979 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:38.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896622833 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:31:38.817+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:38.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:31:38.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:31:38.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:38.827+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4608961d]
2025-12-29T17:31:38.827+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47376914] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:31:38.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166911377 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f21beee]
2025-12-29T17:31:38.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:38.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:31:38.833+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:38.833+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:31:38.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47376914]
2025-12-29T17:31:38.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ead5afd] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:31:38.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:31:38.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@36627445 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:31:38.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:38.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:31:38.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d2fea8] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:38.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ead5afd]
2025-12-29T17:31:38.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79177873] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625645658 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:38.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836695326 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:31:38.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:38.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:38.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:38.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79177873]
2025-12-29T17:31:38.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d2fea8]
2025-12-29T17:31:38.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:38.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:38.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9ec55c] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:38.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1616891800 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:38.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.864+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:38.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9ec55c]
2025-12-29T17:31:38.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b64ab91] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31079300 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:38.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:38.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:38.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:38.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:38.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d542f6] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:38.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137504151 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b64ab91]
2025-12-29T17:31:38.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:38.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28808ae1] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:38.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110527555 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:38.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:31:38.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:31:38.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:38.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d542f6]
2025-12-29T17:31:38.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4bd0e] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:31:38.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@707763570 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28808ae1]
2025-12-29T17:31:38.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71390ab9] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564623357 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:38.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4bd0e]
2025-12-29T17:31:38.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73268924] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437365891 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:38.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71390ab9]
2025-12-29T17:31:38.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9e9e85] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80426829 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:38.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:38.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:38.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:31:38.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73268924]
2025-12-29T17:31:38.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab4dcb5] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:31:38.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488374638 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:31:38.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9e9e85]
2025-12-29T17:31:38.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:38.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7553841] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:38.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1324803224 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:31:38.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:38.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:38.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab4dcb5]
2025-12-29T17:31:38.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:38.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:38.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:38.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7553841]
2025-12-29T17:31:38.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:38.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:38.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:31:38.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:31:39.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:39.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:31:39.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:31:39.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:31:39.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:31:39.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:39.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518d5558] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:39.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@707478627 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:39.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:31:39.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:31:39.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:31:39.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518d5558]
2025-12-29T17:31:39.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:39.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c337bd5] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:39.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841923079 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:39.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:39.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:39.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:39.266+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c337bd5]
2025-12-29T17:31:39.268+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:39.268+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcf316b] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:39.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478480404 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:39.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:31:39.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:31:39.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:31:39.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcf316b]
2025-12-29T17:31:39.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:31:39.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5ce91b] was not registered for synchronization because synchronization is not active
2025-12-29T17:31:39.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817887186 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:31:39.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:31:39.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:31:39.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:31:39.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5ce91b]
2025-12-29T17:31:39.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:31:39.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:31:39.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:32:08.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/journal
2025-12-29T17:32:08.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/journal
2025-12-29T17:32:09.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/export/journal
2025-12-29T17:32:09.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/journal
2025-12-29T17:32:09.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/journal", parameters={}
2025-12-29T17:32:09.579+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportJournalEntries(String, String)
2025-12-29T17:32:09.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportJournalEntries(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-29T17:32:09.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportJournalEntries(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-29T17:32:09.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:32:09.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6560fb] was not registered for synchronization because synchronization is not active
2025-12-29T17:32:09.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889446006 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:32:09.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:32:09.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2025-12-29T17:32:09.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-29T17:32:09.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6560fb]
2025-12-29T17:32:09.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:32:09.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c3caaf] was not registered for synchronization because synchronization is not active
2025-12-29T17:32:09.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1699813429 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:32:09.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:32:09.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:32:09.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:32:09.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c3caaf]
2025-12-29T17:32:09.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:32:09.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754c5b8b] was not registered for synchronization because synchronization is not active
2025-12-29T17:32:09.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696672575 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:32:09.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:32:09.975+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long)
2025-12-29T17:32:09.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:32:10.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754c5b8b]
2025-12-29T17:32:10.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:32:10.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b8b87f] was not registered for synchronization because synchronization is not active
2025-12-29T17:32:10.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403889646 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:32:10.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:32:10.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long)
2025-12-29T17:32:10.033+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-29T17:32:10.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b8b87f]
2025-12-29T17:32:11.932+09:00  INFO 52248 --- [http-nio-8080-exec-8] c.i.backend.service.ExpenseService       : 전표 엑셀 파일 생성 완료 - 파일명: journal_entry_17987356702829409578.xlsx, 건수: 1
2025-12-29T17:32:11.934+09:00  INFO 52248 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 전표 다운로드 요청 - userId: 4, startDate: null, endDate: null
2025-12-29T17:32:11.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2025-12-29T17:32:11.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\journal_entry_17987356702829409578.xlsx]]
2025-12-29T17:32:11.941+09:00  WARN 52248 --- [http-nio-8080-exec-8] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="전표_전체_전체.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [전] at code point [51,204] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.commit(Response.java:454) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:284) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:264) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:130) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:161) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-29T17:32:11.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:34:44.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:44.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:34:44.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:34:44.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:34:44.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:34:44.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:44.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:44.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:44.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:44.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45770662] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:44.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:44.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168a477c] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:44.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1324681c] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1092092790 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:44.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629093401 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1287941995 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:44.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:44.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:34:44.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:44.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:44.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:34:44.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:44.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:44.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168a477c]
2025-12-29T17:34:44.592+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:34:44.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45770662]
2025-12-29T17:34:44.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40682e2a] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:44.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:34:44.599+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743389161 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:44.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:44.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1324681c]
2025-12-29T17:34:44.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665db4f] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046483440 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:44.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40682e2a]
2025-12-29T17:34:44.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665db4f]
2025-12-29T17:34:44.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.634+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b5bd7c6] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb66482] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@180597241 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:44.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184986552 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:44.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:44.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:44.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:44.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:44.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b5bd7c6]
2025-12-29T17:34:44.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb66482]
2025-12-29T17:34:44.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e34a847] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2de6d1fd] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1258596768 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:44.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1890136759 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:44.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:44.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:44.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e34a847]
2025-12-29T17:34:44.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:44.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:44.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2de6d1fd]
2025-12-29T17:34:44.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:44.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f80174] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1586125071 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:44.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.665+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:44.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:44.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:44.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53baa921] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f80174]
2025-12-29T17:34:44.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@483078779 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:44.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eb3d040] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:44.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@465932611 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:44.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:44.699+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:44.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53baa921]
2025-12-29T17:34:44.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ae104b] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1621117238 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:44.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eb3d040]
2025-12-29T17:34:44.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f3b27fb] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@252368780 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:44.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ae104b]
2025-12-29T17:34:44.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d2a0058] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@151152126 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f3b27fb]
2025-12-29T17:34:44.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:44.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:44.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:44.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:44.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.734+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d2a0058]
2025-12-29T17:34:44.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c316bc] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2092366364 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:44.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:44.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:44.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:44.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:44.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a802dc] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@530012608 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:44.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c316bc]
2025-12-29T17:34:44.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:44.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:44.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:44.779+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.782+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:44.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a802dc]
2025-12-29T17:34:44.796+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:44.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10508e38] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:44.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1905250316 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:44.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6598b1c4] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789378080 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:44.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10508e38]
2025-12-29T17:34:44.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:44.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:44.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b5b64c9] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.815+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535694036 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:44.817+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:44.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6598b1c4]
2025-12-29T17:34:44.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:44.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e02a1bb] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b5b64c9]
2025-12-29T17:34:44.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1690431842 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:44.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a224cd2] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@177149555 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:44.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:44.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:44.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e02a1bb]
2025-12-29T17:34:44.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a224cd2]
2025-12-29T17:34:44.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730635eb] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7cd7c] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952257865 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:44.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223378286 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:44.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:44.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7cd7c]
2025-12-29T17:34:44.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730635eb]
2025-12-29T17:34:44.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.847+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff26e63] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.847+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6f3a54] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@566287564 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@411366815 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:44.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:44.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:44.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6f3a54]
2025-12-29T17:34:44.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff26e63]
2025-12-29T17:34:44.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:44.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:44.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d6f4cd] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710612738 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:44.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:44.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:44.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:44.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68c057ba] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d6f4cd]
2025-12-29T17:34:44.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611781650 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:44.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:44.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:44.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:44.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:44.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68c057ba]
2025-12-29T17:34:44.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa24d43] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@901098634 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.948+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa24d43]
2025-12-29T17:34:44.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61930b01] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@748067365 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:44.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:44.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:44.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61930b01]
2025-12-29T17:34:44.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc7b83f] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1156937605 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:44.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:44.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:44.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc7b83f]
2025-12-29T17:34:44.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:44.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:44.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:44.975+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.977+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:44.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:44.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:44.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:44.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1364ff] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@467051758 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:44.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:44.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:44.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:44.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1364ff]
2025-12-29T17:34:44.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:44.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199996d2] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:44.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013512195 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:44.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:44.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:45.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:45.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199996d2]
2025-12-29T17:34:45.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa4768b] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@979255979 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:45.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:45.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:45.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:45.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa4768b]
2025-12-29T17:34:45.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d873aa5] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559614384 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:45.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:45.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:45.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:45.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d873aa5]
2025-12-29T17:34:45.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:45.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:45.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:45.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:45.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:45.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:45.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:45.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:45.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@973190b] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1264925878 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:45.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:45.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:45.213+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:45.214+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@973190b]
2025-12-29T17:34:45.215+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.216+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dcfab5c] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.221+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207962799 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:45.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:45.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:45.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:45.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dcfab5c]
2025-12-29T17:34:45.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d379e1] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1118217132 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:45.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:45.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:45.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:45.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d379e1]
2025-12-29T17:34:45.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30db156d] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@159280870 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:45.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:45.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:45.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:45.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30db156d]
2025-12-29T17:34:45.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:45.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:45.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:45.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:45.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:45.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:45.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:45.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:45.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5098f2] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561886873 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:45.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:45.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:45.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:45.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5098f2]
2025-12-29T17:34:45.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64bc286f] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1039317762 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:45.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:45.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:45.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:45.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64bc286f]
2025-12-29T17:34:45.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a7bb50] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383587867 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:45.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:45.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:45.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:45.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a7bb50]
2025-12-29T17:34:45.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773b7c2a] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1500001446 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:45.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:45.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:45.364+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:45.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773b7c2a]
2025-12-29T17:34:45.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cda115] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237015466 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:45.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:45.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:45.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:45.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cda115]
2025-12-29T17:34:45.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0c6420] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@583118205 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:45.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:45.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:45.428+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:45.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0c6420]
2025-12-29T17:34:45.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142686fe] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:45.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564663102 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:45.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:45.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:45.463+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:45.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142686fe]
2025-12-29T17:34:45.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:45.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:45.481+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:45.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:45.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:45.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:45.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:45.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:45.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:45.999+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@668e239f] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1233159823 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:46.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:46.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:46.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:46.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@668e239f]
2025-12-29T17:34:46.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e86625c] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1983100705 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:46.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:34:46.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e86625c]
2025-12-29T17:34:46.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b8830b1] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114372382 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:46.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:34:46.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:46.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:34:46.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:46.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:34:46.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:34:46.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:46.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@699bfbde] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b8830b1]
2025-12-29T17:34:46.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a1239] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@185448209 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:46.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1022487161 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:46.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:34:46.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:34:46.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:34:46.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a1239]
2025-12-29T17:34:46.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@699bfbde]
2025-12-29T17:34:46.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:46.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:46.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:46.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:34:46.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:46.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:46.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:46.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:46.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:46.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:46.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:46.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:46.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bef9929] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:46.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:46.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:46.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251925454 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:46.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:46.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:46.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:46.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468814dc] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:46.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@879423417 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:46.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bef9929]
2025-12-29T17:34:46.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:46.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:46.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ddc855] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1378804869 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:46.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:46.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468814dc]
2025-12-29T17:34:46.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.089+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4093a5] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489068958 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:46.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ddc855]
2025-12-29T17:34:46.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efba493] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1972328569 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:46.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4093a5]
2025-12-29T17:34:46.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:46.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.099+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:46.099+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b49b3c] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1051980212 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:46.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:46.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:46.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:46.112+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efba493]
2025-12-29T17:34:46.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:46.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75254587] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b49b3c]
2025-12-29T17:34:46.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909752460 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:46.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9cfa55] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009902465 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:46.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:46.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:46.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75254587]
2025-12-29T17:34:46.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:46.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:46.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:46.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:46.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9cfa55]
2025-12-29T17:34:46.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:46.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@966191f] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313726004 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:46.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:46.165+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:46.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:46.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@966191f]
2025-12-29T17:34:46.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b5ae54] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:46.197+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1906505916 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:46.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:46.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:46.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.212+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e27c120] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1655621391 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:46.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:46.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:46.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b5ae54]
2025-12-29T17:34:46.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:46.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3458f2f7] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1375350054 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:46.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.241+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:46.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e27c120]
2025-12-29T17:34:46.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3458f2f7]
2025-12-29T17:34:46.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:46.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22982375] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:46.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@821751461 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:46.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:46.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22982375]
2025-12-29T17:34:46.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705cb55f] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@331129770 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:46.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:46.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:46.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:46.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705cb55f]
2025-12-29T17:34:46.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:46.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c617bf] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:46.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@52801141 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:46.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:46.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:46.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:46.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c617bf]
2025-12-29T17:34:46.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:46.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:46.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:55.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:55.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:34:55.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:55.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:34:55.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:55.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:55.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:55.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:55.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:55.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f872368] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:34:55.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15aa6272] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:34:55.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:34:55.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055877335 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282877712 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.179+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6992cf6c] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.179+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:55.179+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:55.180+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:55.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:55.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1157306978 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:55.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:55.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:34:55.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15aa6272]
2025-12-29T17:34:55.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:34:55.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:55.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f872368]
2025-12-29T17:34:55.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3403ec3f] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.197+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1089345009 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf164a] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@185054310 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:34:55.212+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.212+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6992cf6c]
2025-12-29T17:34:55.213+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.214+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:34:55.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3403ec3f]
2025-12-29T17:34:55.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf164a]
2025-12-29T17:34:55.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfd8c03] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463088567 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441d05c2] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1072387661 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:55.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:55.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:55.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfd8c03]
2025-12-29T17:34:55.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40662867] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1349204476 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:55.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:55.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:55.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441d05c2]
2025-12-29T17:34:55.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ebe7b19] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@849436185 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:55.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40662867]
2025-12-29T17:34:55.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ebe7b19]
2025-12-29T17:34:55.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e90e4fd] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524602456 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:55.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:55.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:55.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:55.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e90e4fd]
2025-12-29T17:34:55.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2a6a94] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2164b5fc] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1966236705 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220151841 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:55.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:55.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:55.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:55.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:55.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2164b5fc]
2025-12-29T17:34:55.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2a6a94]
2025-12-29T17:34:55.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8340d9] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61208446] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@776788768 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789589052 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.363+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.363+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8340d9]
2025-12-29T17:34:55.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61208446]
2025-12-29T17:34:55.368+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:55.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4ba255] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@715918670 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:55.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:55.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:55.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:55.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4ba255]
2025-12-29T17:34:55.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6741ba38] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:55.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1972037007 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:55.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:55.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c04396] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1165043878 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:55.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:55.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6741ba38]
2025-12-29T17:34:55.415+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:55.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:55.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c04396]
2025-12-29T17:34:55.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4550642e] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585847777 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.432+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:55.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:55.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:55.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a478a4] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@955130995 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:55.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:55.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4550642e]
2025-12-29T17:34:55.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db1b9a5] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@730255657 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.481+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:55.484+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a478a4]
2025-12-29T17:34:55.482+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449c47e] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323498763 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.491+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:55.532+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:55.546+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449c47e]
2025-12-29T17:34:55.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db1b9a5]
2025-12-29T17:34:55.548+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.549+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2db1d] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.549+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122486723 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26b451fb] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177069593 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:55.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:55.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:55.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:55.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:55.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2db1d]
2025-12-29T17:34:55.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26b451fb]
2025-12-29T17:34:55.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142cbc1a] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6b0b0b] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@922019761 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1532273300 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142cbc1a]
2025-12-29T17:34:55.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6b0b0b]
2025-12-29T17:34:55.582+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.582+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.582+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:55.582+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523c75ba] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.583+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1434984357 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.584+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:55.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:55.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523c75ba]
2025-12-29T17:34:55.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2068fa] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056984353 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:55.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:55.599+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:55.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:55.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a57c063] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2068fa]
2025-12-29T17:34:55.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:55.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2079546260 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:55.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:55.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:55.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:55.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a57c063]
2025-12-29T17:34:55.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c6009e] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166470911 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:55.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.629+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c6009e]
2025-12-29T17:34:55.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff17450] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2027181504 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:55.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:55.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:55.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff17450]
2025-12-29T17:34:55.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa779c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2078331795 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:34:55.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa779c3]
2025-12-29T17:34:55.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:55.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:55.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:55.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:55.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8a5994] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.665+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230640064 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:55.665+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:55.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:55.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:55.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8a5994]
2025-12-29T17:34:55.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca63c2d] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1336917438 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:55.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca63c2d]
2025-12-29T17:34:55.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cbc022] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@614584930 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:55.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:55.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:55.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cbc022]
2025-12-29T17:34:55.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537a96e4] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@82282105 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:34:55.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537a96e4]
2025-12-29T17:34:55.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:55.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:55.699+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:55.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:55.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:55.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:55.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:55.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:55.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:55.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:55.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e68f45a] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1842635306 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:55.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:55.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:55.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:55.798+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26306b40] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:55.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e68f45a]
2025-12-29T17:34:55.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@94f21e] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773172136 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:55.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1502022770 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:55.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:55.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:55.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:55.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@94f21e]
2025-12-29T17:34:55.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:55.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451491b9] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647808263 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:55.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:55.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:55.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26306b40]
2025-12-29T17:34:55.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:55.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69281a29] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:55.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@116715409 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:55.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:55.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:56.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69281a29]
2025-12-29T17:34:56.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451491b9]
2025-12-29T17:34:56.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71385dc7] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734c55a3] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1491663003 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:56.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313821994 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:56.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:56.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:56.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734c55a3]
2025-12-29T17:34:56.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71385dc7]
2025-12-29T17:34:56.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:56.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:56.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e17068] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:56.078+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897897238 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:56.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:56.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:56.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:56.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e17068]
2025-12-29T17:34:56.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6462a7] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451961235 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:56.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.110+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6462a7]
2025-12-29T17:34:56.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516f18ab] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702949755 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:56.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:56.115+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:56.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:56.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516f18ab]
2025-12-29T17:34:56.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@412cdf71] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1747926463 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:34:56.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.131+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@412cdf71]
2025-12-29T17:34:56.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:56.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:56.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:56.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:56.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:56.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:56.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:56.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:56.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107fecf5] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@357635213 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:56.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:56.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:56.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:56.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107fecf5]
2025-12-29T17:34:56.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58536456] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024332266 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:56.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58536456]
2025-12-29T17:34:56.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7382b303] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@816847089 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:56.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:56.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:56.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:56.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7382b303]
2025-12-29T17:34:56.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b6667a] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264948452 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:34:56.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b6667a]
2025-12-29T17:34:56.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:56.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:56.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:56.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:34:56.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:56.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:56.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:34:56.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:34:56.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:34:56.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:34:56.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:56.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:56.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:56.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15aca77e] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e89f656] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581049558 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:56.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:56.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078896874 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:56.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:34:56.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e89f656]
2025-12-29T17:34:56.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:34:56.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592f479b] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025136558 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:34:56.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15aca77e]
2025-12-29T17:34:56.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:56.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:34:56.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:56.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592f479b]
2025-12-29T17:34:56.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a63e701] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043899977 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.363+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:56.364+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:56.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:56.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a63e701]
2025-12-29T17:34:56.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5adf2611] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524388772 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5adf2611]
2025-12-29T17:34:56.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:56.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:56.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:56.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:34:56.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:56.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:34:56.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:34:56.415+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:34:56.415+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:34:56.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:34:56.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:34:56.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:34:56.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:34:56.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e0ead1] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26c3e6eb] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1278806129 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@64832763 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.429+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:56.429+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:34:56.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:34:56.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:56.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:34:56.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:56.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e0ead1]
2025-12-29T17:34:56.476+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.476+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5df90d67] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@674939499 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26c3e6eb]
2025-12-29T17:34:56.481+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.481+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.492+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b60906] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1518030629 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5df90d67]
2025-12-29T17:34:56.508+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.508+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.509+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b60906]
2025-12-29T17:34:56.509+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c83bc62] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.509+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1761871008 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@596855b5] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:56.511+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172329383 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:34:56.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:56.514+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:56.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:34:56.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:56.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c83bc62]
2025-12-29T17:34:56.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@596855b5]
2025-12-29T17:34:56.524+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfe7079] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7945eb08] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055192520 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:34:56.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1645993064 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:34:56.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:34:56.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:34:56.532+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfe7079]
2025-12-29T17:34:56.532+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7945eb08]
2025-12-29T17:34:56.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:56.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:34:56.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@712a4e93] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:34:56.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660731413 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@712a4e93]
2025-12-29T17:34:56.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.546+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436f8d5] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.546+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464565270 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:34:56.549+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:34:56.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:34:56.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7436f8d5]
2025-12-29T17:34:56.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:34:56.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48901fb1] was not registered for synchronization because synchronization is not active
2025-12-29T17:34:56.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@195278374 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:34:56.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:34:56.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:34:56.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:34:56.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48901fb1]
2025-12-29T17:34:56.579+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:34:56.580+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:34:56.580+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:08.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:35:08.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:35:08.180+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:08.180+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:35:08.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:35:08.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:35:08.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:35:08.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:35:08.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:08.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367e9b6e] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:35:08.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:35:08.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:35:08.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:08.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3373c0da] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf2fa2e] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63775297 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:08.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@165178082 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:35:08.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:08.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:35:08.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:08.241+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:35:08.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@583978963 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:08.248+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:08.256+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:08.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:08.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:35:08.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3373c0da]
2025-12-29T17:35:08.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:08.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367e9b6e]
2025-12-29T17:35:08.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf2fa2e]
2025-12-29T17:35:08.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:08.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d6009] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:35:08.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924997077 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:08.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188c8ae1] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@956050033 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:08.266+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:08.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d6009]
2025-12-29T17:35:08.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188c8ae1]
2025-12-29T17:35:08.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19cb6ddb] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1983499203 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:08.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a8c111] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:08.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219121223 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:08.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:08.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:08.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:08.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:08.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:08.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19cb6ddb]
2025-12-29T17:35:08.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a8c111]
2025-12-29T17:35:08.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3390afbf] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e1c45ca] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912060323 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:08.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1225499473 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:08.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:08.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:08.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:08.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3390afbf]
2025-12-29T17:35:08.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e1c45ca]
2025-12-29T17:35:08.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:08.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f72496] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:08.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1012467543 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:08.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:08.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:08.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f72496]
2025-12-29T17:35:08.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d65545] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:08.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815535997 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:08.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:08.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:08.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:08.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585e0464] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2146798677 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:08.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:08.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:08.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d65545]
2025-12-29T17:35:08.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:08.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dcb56ab] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372004394 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:08.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:08.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dcb56ab]
2025-12-29T17:35:08.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585e0464]
2025-12-29T17:35:08.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:08.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:35:08.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ec6331] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:08.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207780886 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:08.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:35:08.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ec6331]
2025-12-29T17:35:08.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.498+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e853e70] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:35:08.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570972026 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:08.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:08.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:08.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:35:08.509+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:35:08.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:35:08.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:08.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e853e70]
2025-12-29T17:35:08.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24336f34] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b062b2e] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207087232 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:08.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.546+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@311487638 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:08.548+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:08.548+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.549+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:08.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b062b2e]
2025-12-29T17:35:08.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:08.565+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:08.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:08.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:08.595+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24336f34]
2025-12-29T17:35:08.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3deaca] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@314458066 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:08.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:08.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:08.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:08.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e2184c9] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3deaca]
2025-12-29T17:35:08.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75adac95] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338125648 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:08.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:08.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:08.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2109393744 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:08.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:08.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:08.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:08.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75adac95]
2025-12-29T17:35:08.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8a88fb] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:08.782+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@349914363 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:08.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e2184c9]
2025-12-29T17:35:08.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:08.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:08.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59773822] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.797+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144616317 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:08.798+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.799+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:08.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59773822]
2025-12-29T17:35:08.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8a88fb]
2025-12-29T17:35:08.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd9eb86] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68eba8c5] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2131715703 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:08.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@813578355 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:08.847+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:08.847+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:08.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:08.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68eba8c5]
2025-12-29T17:35:08.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd9eb86]
2025-12-29T17:35:08.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9b4ce01] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e20832] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009578610 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:08.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1496794963 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:08.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:08.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:08.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:08.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e20832]
2025-12-29T17:35:08.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9b4ce01]
2025-12-29T17:35:08.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:08.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:08.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61704d13] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:08.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:08.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318798330 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:08.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:08.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:08.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:08.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61704d13]
2025-12-29T17:35:08.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:08.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:08.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:08.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:35:08.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:08.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:08.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:08.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:08.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e73d4e9] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:09.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024333710 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:09.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:09.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:09.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:09.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e73d4e9]
2025-12-29T17:35:09.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:09.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367e75b0] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:09.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1531893688 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:09.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:09.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:09.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:09.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367e75b0]
2025-12-29T17:35:09.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:09.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d0ae6f] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:09.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1455852112 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:09.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:09.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:09.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:09.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d0ae6f]
2025-12-29T17:35:09.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:09.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30486913] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:09.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645733027 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:09.180+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:09.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:09.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:09.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30486913]
2025-12-29T17:35:09.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:09.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:09.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:09.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:09.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:09.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:09.548+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:09.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:09.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:09.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18004f9] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:09.797+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@827581490 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:09.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:09.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:09.869+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:09.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18004f9]
2025-12-29T17:35:09.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:09.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af46261] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:09.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@450063276 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:09.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:09.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:09.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:10.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af46261]
2025-12-29T17:35:10.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f87496d] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110746518 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:10.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:10.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:10.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:10.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f87496d]
2025-12-29T17:35:10.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a3da4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229256726 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:10.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:10.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:10.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:10.115+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a3da4e]
2025-12-29T17:35:10.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:10.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:10.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:10.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:10.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:35:10.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:10.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:10.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:35:10.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:10.815+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:10.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:35:10.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399da102] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:35:10.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:35:10.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f93f687] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.848+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833782037 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:10.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452148710 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:10.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:10.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:10.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:10.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:10.864+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:10.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:10.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399da102]
2025-12-29T17:35:10.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f93f687]
2025-12-29T17:35:10.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfe110d] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c46e60] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528217249 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:10.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2012207026 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:10.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:10.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:10.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:10.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:10.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:10.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:10.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c46e60]
2025-12-29T17:35:10.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfe110d]
2025-12-29T17:35:10.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e46b7db] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19875b4d] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489846045 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:10.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686918921 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:10.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:10.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:10.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:10.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:10.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:10.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:10.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19875b4d]
2025-12-29T17:35:10.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e46b7db]
2025-12-29T17:35:10.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea80441] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441a9062] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1574331882 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:10.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789122901 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:10.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:10.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:10.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:10.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:10.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:10.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:10.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea80441]
2025-12-29T17:35:10.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441a9062]
2025-12-29T17:35:10.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:10.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:10.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e31f94a] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:10.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849229166 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:10.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:10.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:10.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:10.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e31f94a]
2025-12-29T17:35:10.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.980+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40917ee7] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.980+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@823862294 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:10.980+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:10.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:10.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:10.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40917ee7]
2025-12-29T17:35:10.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:10.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70071d7f] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:10.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1001010142 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:10.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:10.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:10.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:10.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70071d7f]
2025-12-29T17:35:10.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:10.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:35:11.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:11.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:11.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:35:11.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:11.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:11.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-29T17:35:11.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:11.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:35:11.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:11.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:35:11.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@319c179d] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:35:11.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242ef0cf] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309681826 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:11.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:35:11.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1729228215 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:35:11.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-29T17:35:11.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:11.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:11.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-29T17:35:11.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242ef0cf]
2025-12-29T17:35:11.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:11.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:35:11.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:11.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:11.043+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@319c179d]
2025-12-29T17:35:11.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20403cd4] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@599796335 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:35:11.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:11.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:11.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:11.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20403cd4]
2025-12-29T17:35:11.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35773e72] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351273620 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:35:11.060+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:11.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:11.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:11.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35773e72]
2025-12-29T17:35:11.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc103a5] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1372140225 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:35:11.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:11.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:11.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:11.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc103a5]
2025-12-29T17:35:11.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:11.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:11.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:11.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:11.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:11.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:11.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:11.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:11.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ca60ecd] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2145841057 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:11.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:11.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:11.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:11.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ca60ecd]
2025-12-29T17:35:11.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f816c7] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2041098897 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:11.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:11.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:11.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:11.428+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f816c7]
2025-12-29T17:35:11.429+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7199e985] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@949917535 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:11.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:11.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:11.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:11.492+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7199e985]
2025-12-29T17:35:11.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b853347] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1433287283 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:35:11.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:11.514+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:11.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:11.595+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b853347]
2025-12-29T17:35:11.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:11.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:11.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:11.731+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:35:11.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:35:11.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:35:11.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:35:11.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:35:11.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79946d46] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1342304029 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:11.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:11.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:11.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:11.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79946d46]
2025-12-29T17:35:11.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fff378a] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2012658458 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:11.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:11.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:11.781+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:11.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fff378a]
2025-12-29T17:35:11.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f3b802] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465293521 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:11.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:11.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:11.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:11.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f3b802]
2025-12-29T17:35:11.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1b7338] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@394588145 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:11.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:11.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:11.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:11.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1b7338]
2025-12-29T17:35:11.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3734f491] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465308156 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:11.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:11.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:11.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:11.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3734f491]
2025-12-29T17:35:11.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28cb3fde] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944494122 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:11.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:11.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:11.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:11.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28cb3fde]
2025-12-29T17:35:11.977+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:11.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545f4405] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:11.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@622568607 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:11.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:11.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:11.981+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:11.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545f4405]
2025-12-29T17:35:11.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:11.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:35:11.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:12.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:12.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:12.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:12.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:12.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:12.044+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60f8c07a] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447494779 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:12.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:12.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:12.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:12.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60f8c07a]
2025-12-29T17:35:12.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c28f298] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924829773 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:12.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:12.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:12.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:12.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c28f298]
2025-12-29T17:35:12.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2c7e66] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087103913 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:12.078+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:12.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:12.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:12.268+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2c7e66]
2025-12-29T17:35:12.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0e8e55] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1730743452 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:35:12.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:12.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:12.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:12.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0e8e55]
2025-12-29T17:35:12.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:12.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:12.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:12.896+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:12.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:12.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:12.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:12.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:12.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f94cc7a] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@410978986 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:12.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:12.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:12.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:12.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f94cc7a]
2025-12-29T17:35:12.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386ef58f] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1285002160 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:12.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:12.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:12.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:12.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386ef58f]
2025-12-29T17:35:12.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7a2192] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309814591 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:12.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:12.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:12.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:12.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7a2192]
2025-12-29T17:35:12.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:12.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c5132b] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:12.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@759156784 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:35:12.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:12.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:12.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:12.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c5132b]
2025-12-29T17:35:12.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:12.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:12.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:34.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:35:34.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:34.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:35:34.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:35:34.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:35:34.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:35:34.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:35:34.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:35:34.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:35:34.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:35:34.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7073b656] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8a6ddc] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1092565233 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:34.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2052207598 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:34.162+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:34.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:35:34.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:34.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:35:34.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:34.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:35:34.173+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8a6ddc]
2025-12-29T17:35:34.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7073b656]
2025-12-29T17:35:34.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7646f8a4] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aae37ab] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903969064 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:34.180+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868718273 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:34.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:34.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:34.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:34.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:34.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:34.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:34.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7646f8a4]
2025-12-29T17:35:34.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aae37ab]
2025-12-29T17:35:34.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38efe71b] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d649bb] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033040250 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:34.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@257828837 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:34.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:34.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:34.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:34.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:35:34.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:34.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:35:34.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38efe71b]
2025-12-29T17:35:34.241+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d649bb]
2025-12-29T17:35:34.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4201adc3] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503d9fac] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93412775 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:34.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1988140929 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:35:34.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:35:34.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:34.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:35:34.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:34.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:34.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:35:34.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503d9fac]
2025-12-29T17:35:34.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4201adc3]
2025-12-29T17:35:34.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:34.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:35:34.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf886b1] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:35:34.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1146637752 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:34.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:34.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:34.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:34.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf886b1]
2025-12-29T17:35:34.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d75660] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190160197 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:34.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:35:34.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:35:34.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:35:34.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d75660]
2025-12-29T17:35:34.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:35:34.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c3b2d83] was not registered for synchronization because synchronization is not active
2025-12-29T17:35:34.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1654721586 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:35:34.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:35:34.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:35:34.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:35:34.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c3b2d83]
2025-12-29T17:35:34.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:35:34.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:35:34.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:03.224+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/missing-receipts/list?days=3
2025-12-29T17:36:03.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/missing-receipts/list?days=3
2025-12-29T17:36:03.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:03.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/list?days=3
2025-12-29T17:36:03.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:03.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:03.268+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:03.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/list
2025-12-29T17:36:03.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:03.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/list?days=3
2025-12-29T17:36:03.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:03.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/list?days=3", parameters={masked}
2025-12-29T17:36:03.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c8f43ae] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:03.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceipts(int)
2025-12-29T17:36:03.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:03.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:03.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:03.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc9d737] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:03.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814178275 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:03.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009520362 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:03.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-29T17:36:03.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:03.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-26(LocalDate)
2025-12-29T17:36:03.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:03.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:03.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c8f43ae]
2025-12-29T17:36:03.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-29T17:36:03.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:03.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@531f1b72] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:03.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc9d737]
2025-12-29T17:36:03.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609244987 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:03.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:03.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:03.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2, repo (truncated)...]
2025-12-29T17:36:03.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:03.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:03.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/list?days=3
2025-12-29T17:36:03.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/list
2025-12-29T17:36:03.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:03.561+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@531f1b72]
2025-12-29T17:36:03.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:03.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/list?days=3
2025-12-29T17:36:03.563+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfdf401] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:03.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@806529159 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:03.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:03.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/list?days=3", parameters={masked}
2025-12-29T17:36:03.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:03.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceipts(int)
2025-12-29T17:36:03.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:03.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:03.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:03.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69dfef97] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:03.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:03.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfdf401]
2025-12-29T17:36:03.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:03.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54031b54] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:03.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253492305 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:03.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@539668521 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:03.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-29T17:36:03.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:03.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-26(LocalDate)
2025-12-29T17:36:03.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:03.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:03.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-29T17:36:03.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54031b54]
2025-12-29T17:36:03.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69dfef97]
2025-12-29T17:36:03.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:03.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:03.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:03.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2, repo (truncated)...]
2025-12-29T17:36:03.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:03.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:07.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/missing-receipts/by-user?days=3
2025-12-29T17:36:07.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/by-user?days=3
2025-12-29T17:36:07.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/by-user
2025-12-29T17:36:07.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/by-user?days=3
2025-12-29T17:36:07.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/by-user?days=3", parameters={masked}
2025-12-29T17:36:07.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceiptsByUser(int)
2025-12-29T17:36:07.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceiptsByUser(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:07.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceiptsByUser(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:07.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:07.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37227e61] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:07.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1943509008 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:07.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-29T17:36:07.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-26(LocalDate)
2025-12-29T17:36:07.664+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-29T17:36:07.664+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37227e61]
2025-12-29T17:36:07.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:07.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={2=[ExpenseReportDto(expenseReportId=2, drafterId=2, r (truncated)...]
2025-12-29T17:36:07.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:10.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/list?days=3
2025-12-29T17:36:10.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/list
2025-12-29T17:36:10.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/list?days=3
2025-12-29T17:36:10.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/list?days=3", parameters={masked}
2025-12-29T17:36:10.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceipts(int)
2025-12-29T17:36:10.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:10.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-29T17:36:10.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:10.480+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dba1390] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:10.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1459809210 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:10.498+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-29T17:36:10.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-26(LocalDate)
2025-12-29T17:36:10.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-29T17:36:10.508+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dba1390]
2025-12-29T17:36:10.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:10.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2, repo (truncated)...]
2025-12-29T17:36:10.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:12.605+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:12.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:12.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:12.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:12.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:12.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:12.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:12.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:12.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:12.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:12.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4e6f0d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c320cf] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@71085255 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:12.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:12.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450907253 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:12.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:12.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:12.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4e6f0d]
2025-12-29T17:36:12.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:12.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa656a3] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c320cf]
2025-12-29T17:36:12.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@775443457 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3edd72] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221455377 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa656a3]
2025-12-29T17:36:12.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77dc6830] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3edd72]
2025-12-29T17:36:12.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@255277862 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:12.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2337f7f] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:12.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1328281350 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:12.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:12.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:12.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77dc6830]
2025-12-29T17:36:12.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:12.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306faa57] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2337f7f]
2025-12-29T17:36:12.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@610720130 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72eb87e4] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799018049 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:12.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:12.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306faa57]
2025-12-29T17:36:12.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:12.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:12.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:12.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72eb87e4]
2025-12-29T17:36:12.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:12.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a6177f] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:12.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1826389096 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:12.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:12.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:12.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:12.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a6177f]
2025-12-29T17:36:12.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618cc01] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351744594 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:12.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57be83d8] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:12.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80066920 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:12.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:12.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618cc01]
2025-12-29T17:36:12.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:12.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d35db] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@601196927 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:12.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57be83d8]
2025-12-29T17:36:12.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c81ebda] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593972689 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d35db]
2025-12-29T17:36:12.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.715+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:12.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:12.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:12.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c81ebda]
2025-12-29T17:36:12.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@213737ef] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:12.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1377552168 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:12.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:12.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:12.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:12.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:12.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:12.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@406d485c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:12.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@213737ef]
2025-12-29T17:36:12.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147409355 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:12.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4449fed3] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1557737978 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:12.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:12.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4449fed3]
2025-12-29T17:36:12.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:12.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@406d485c]
2025-12-29T17:36:12.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:12.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da84067] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:12.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1471006758 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:12.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:12.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:12.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:12.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:12.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:12.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b38347] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da84067]
2025-12-29T17:36:12.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ade78ac] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967825640 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772579967 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:12.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:12.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:12.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:12.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:12.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:12.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:12.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b38347]
2025-12-29T17:36:12.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ade78ac]
2025-12-29T17:36:12.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78fad1ff] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b006519] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1959221121 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:12.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@581068237 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:12.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:12.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:12.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78fad1ff]
2025-12-29T17:36:12.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b006519]
2025-12-29T17:36:12.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6723e90d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3335c517] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1241033023 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:12.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@721766085 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:12.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.975+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:12.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:12.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:12.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6723e90d]
2025-12-29T17:36:12.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3335c517]
2025-12-29T17:36:12.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:12.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29fd834c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ef2ce7] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:12.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366195455 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:12.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2070892624 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:12.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:12.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:12.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:12.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:13.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:13.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29fd834c]
2025-12-29T17:36:13.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:13.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:13.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:13.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:13.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ef2ce7]
2025-12-29T17:36:13.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:13.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@262acc52] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:13.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960320612 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:13.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:13.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:13.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:13.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@262acc52]
2025-12-29T17:36:13.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:13.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:13.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:15.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-logs/list?page=1&size=10
2025-12-29T17:36:15.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:15.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-logs/list?page=1&size=10
2025-12-29T17:36:15.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:15.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:15.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:15.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:15.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:36:15.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33dd5f3a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.363+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/audit-logs/list
2025-12-29T17:36:15.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:36:15.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-29T17:36:15.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-29T17:36:15.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610450568 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:15.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:15.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:15.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:36:15.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:36:15.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:15.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33dd5f3a]
2025-12-29T17:36:15.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f2a4e3] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.415+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239092424 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:15.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:15.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:15.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ddbf71] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:15.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@521257574 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:15.431+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-29T17:36:15.431+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f2a4e3]
2025-12-29T17:36:15.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dac7ffe] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-29T17:36:15.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317671188 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:15.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:15.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:15.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-29T17:36:15.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ddbf71]
2025-12-29T17:36:15.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@679ce56a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:15.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dac7ffe]
2025-12-29T17:36:15.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57367629 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:15.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da0e4ea] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-29T17:36:15.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1940729135 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:15.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-29T17:36:15.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:15.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:15.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:15.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da0e4ea]
2025-12-29T17:36:15.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:15.473+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:15.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-29T17:36:15.476+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:15.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@679ce56a]
2025-12-29T17:36:15.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:15.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-29T17:36:15.481+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:15.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:36:15.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/audit-logs/list
2025-12-29T17:36:15.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:36:15.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-29T17:36:15.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-29T17:36:15.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:36:15.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:36:15.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.498+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec491b5] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1927447241 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:15.508+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-29T17:36:15.511+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-29T17:36:15.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-29T17:36:15.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec491b5]
2025-12-29T17:36:15.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:15.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a248e6] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:15.552+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@788685693 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:15.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-29T17:36:15.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-29T17:36:15.557+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-29T17:36:15.557+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a248e6]
2025-12-29T17:36:15.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:15.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-29T17:36:15.563+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:19.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:19.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:19.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:19.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:19.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:19.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:19.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:19.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:19.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:19.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:19.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef58bef] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce4f35d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@834522703 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:19.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:19.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237081916 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:19.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:19.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:19.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:19.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef58bef]
2025-12-29T17:36:19.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:19.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce4f35d]
2025-12-29T17:36:19.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10495433] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@512332103 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26678ef8] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229044435 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:19.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.751+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:19.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10495433]
2025-12-29T17:36:19.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:19.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b593668] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26678ef8]
2025-12-29T17:36:19.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105920508 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:19.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c90f3af] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:19.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110804619 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:19.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:19.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:19.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:19.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b593668]
2025-12-29T17:36:19.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:19.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d7670a4] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c90f3af]
2025-12-29T17:36:19.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1338961684 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af1cdbc] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105678534 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:19.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:19.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:19.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:19.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d7670a4]
2025-12-29T17:36:19.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:19.779+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:19.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:19.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af1cdbc]
2025-12-29T17:36:19.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:19.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d61bd1] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2099167098 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:19.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:19.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:19.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:19.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:19.797+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d61bd1]
2025-12-29T17:36:19.798+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:19.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:19.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421e0740] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527747649 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:19.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab45a23] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:19.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16810688 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:19.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:19.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:19.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:19.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421e0740]
2025-12-29T17:36:19.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:19.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab45a23]
2025-12-29T17:36:19.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704ec96f] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1121510433 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:19.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78264142] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1357609255 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:19.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704ec96f]
2025-12-29T17:36:19.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:19.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:19.829+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:19.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78264142]
2025-12-29T17:36:19.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:19.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58196cd1] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318704321 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:19.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:19.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:19.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:19.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:19.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:19.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:19.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d392bc] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.896+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:19.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58196cd1]
2025-12-29T17:36:19.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b878c9d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@418055896 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:19.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1373279196 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:19.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:19.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:19.948+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:19.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b878c9d]
2025-12-29T17:36:19.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:19.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:19.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:19.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:19.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d392bc]
2025-12-29T17:36:19.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:19.979+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a913fec] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:19.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167656879 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:19.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:19.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:19.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:19.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:19.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:19.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:19.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0a92fd] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:19.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:20.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1513259954 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:20.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a913fec]
2025-12-29T17:36:20.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:20.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389475f4] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:20.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197739349 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:20.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:20.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:20.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:20.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:20.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0a92fd]
2025-12-29T17:36:20.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389475f4]
2025-12-29T17:36:20.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aeb227e] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1141424804 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:20.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77cb433] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:20.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484199165 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:20.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:20.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:20.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:20.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:20.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aeb227e]
2025-12-29T17:36:20.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:20.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77cb433]
2025-12-29T17:36:20.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f34d7f] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@459827405 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:20.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe32cf4] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:20.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1029490199 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:20.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:20.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:20.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:20.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:20.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:20.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f34d7f]
2025-12-29T17:36:20.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe32cf4]
2025-12-29T17:36:20.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.089+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cef1c9a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc781ef] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1049963213 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:20.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@730170415 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:20.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:20.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:20.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:20.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:20.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:20.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:20.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cef1c9a]
2025-12-29T17:36:20.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc781ef]
2025-12-29T17:36:20.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:20.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:20.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:20.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c509323] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:20.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:20.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768196031 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:20.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:20.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:20.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:20.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c509323]
2025-12-29T17:36:20.131+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:20.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:20.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:22.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T17:36:22.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-29T17:36:22.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:22.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T17:36:22.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:22.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8
2025-12-29T17:36:22.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T17:36:22.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:22.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:22.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:22.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T17:36:22.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53510e9] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:36:22.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3714f6f9] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@893822856 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:22.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:22.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:22.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103954300 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:22.480+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:36:22.480+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.494+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:22.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53510e9]
2025-12-29T17:36:22.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@798e1f84] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@400603919 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:22.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:22.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:22.494+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:36:22.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3714f6f9]
2025-12-29T17:36:22.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.508+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4600320b] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.508+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@590264803 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:22.509+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:36:22.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:22.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@798e1f84]
2025-12-29T17:36:22.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2d1d1f] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:36:22.514+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4600320b]
2025-12-29T17:36:22.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1163286817 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:22.514+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:22.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4111f52c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:22.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105252719 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:22.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:36:22.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:22.524+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2d1d1f]
2025-12-29T17:36:22.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1104daf0] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T17:36:22.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904259626 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:22.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4111f52c]
2025-12-29T17:36:22.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:22.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:22.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56661ea2] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:22.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1104daf0]
2025-12-29T17:36:22.532+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:22.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:22.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@403716567 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:22.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:22.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:36:22.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:36:22.561+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56661ea2]
2025-12-29T17:36:22.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74cf9c84] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305799089 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:22.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:22.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:22.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:22.580+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74cf9c84]
2025-12-29T17:36:22.581+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:22.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T17:36:22.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:22.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-29T17:36:22.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8
2025-12-29T17:36:22.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-29T17:36:22.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-29T17:36:22.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:36:22.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.618+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58db702d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@75195205 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:22.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:36:22.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:36:22.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58db702d]
2025-12-29T17:36:22.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3d4425] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@60362924 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:22.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:36:22.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:36:22.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3d4425]
2025-12-29T17:36:22.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d3d5d6] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@367633381 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:22.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:36:22.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-29T17:36:22.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d3d5d6]
2025-12-29T17:36:22.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3baa1520] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377096934 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:22.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:36:22.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-29T17:36:22.648+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:36:22.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3baa1520]
2025-12-29T17:36:22.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:22.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ae43f4] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:22.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@231102740 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:22.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:22.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:22.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:22.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ae43f4]
2025-12-29T17:36:22.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:22.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-29T17:36:22.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:24.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:24.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:24.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:24.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:24.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:24.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:24.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:24.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:24.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:24.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:24.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.668+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d611c2] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.664+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@265a2785] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@631604822 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101015206 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:24.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:24.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:24.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:24.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:24.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:24.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d611c2]
2025-12-29T17:36:24.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@265a2785]
2025-12-29T17:36:24.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.698+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f98c1ca] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208766677 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f82be7] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307663695 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f98c1ca]
2025-12-29T17:36:24.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f82be7]
2025-12-29T17:36:24.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b894b4a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585f1964] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1119240544 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@949532315 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:24.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:24.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:24.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:24.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:24.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:24.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585f1964]
2025-12-29T17:36:24.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b894b4a]
2025-12-29T17:36:24.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443c2ee6] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a58d891] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686674236 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732565899 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:24.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:24.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:24.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443c2ee6]
2025-12-29T17:36:24.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4239620e] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1733771185 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a58d891]
2025-12-29T17:36:24.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:24.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.765+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:24.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:24.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:24.782+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4239620e]
2025-12-29T17:36:24.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:24.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1002f7b5] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:24.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@430104233 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:24.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:24.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:24.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:24.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588b9200] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1876889320 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:24.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:24.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:24.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1002f7b5]
2025-12-29T17:36:24.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:24.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588b9200]
2025-12-29T17:36:24.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304f4f84] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@930589031 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18addb7d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@473055738 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304f4f84]
2025-12-29T17:36:24.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18addb7d]
2025-12-29T17:36:24.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:24.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b0c7c6] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:24.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1110475806 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:24.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:24.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:24.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:24.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:24.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:24.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:24.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b0c7c6]
2025-12-29T17:36:24.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:24.896+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:24.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a4e660d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@410126965 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:24.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43967b4c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731830888 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:24.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:24.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a4e660d]
2025-12-29T17:36:24.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:24.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:24.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:24.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:24.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:24.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:24.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43967b4c]
2025-12-29T17:36:24.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eee594c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:24.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127699910 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:24.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:24.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:24.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:24.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:24.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e256d8d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:24.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1448100297 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:24.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:24.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:24.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eee594c]
2025-12-29T17:36:24.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:24.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:24.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ddef835] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822541563 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:25.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:25.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:25.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:25.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e256d8d]
2025-12-29T17:36:25.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:25.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e6d366e] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1499046508 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:25.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:25.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:25.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:25.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ddef835]
2025-12-29T17:36:25.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:25.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c911a34] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@649352899 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:25.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:25.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:25.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e6d366e]
2025-12-29T17:36:25.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:25.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:25.059+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dceddbc] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.060+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179785773 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:25.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:25.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:25.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:25.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c911a34]
2025-12-29T17:36:25.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:25.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a6779b] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282573825 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:25.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:25.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:25.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:25.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dceddbc]
2025-12-29T17:36:25.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:25.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:25.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5cab59] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a6779b]
2025-12-29T17:36:25.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470411859 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:25.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:25.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:25.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a5f011] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:25.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@534010801 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:25.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:25.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:25.112+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:25.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5cab59]
2025-12-29T17:36:25.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:25.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:25.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:25.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:25.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a5f011]
2025-12-29T17:36:25.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:25.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294c33fc] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:25.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924295612 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:25.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:25.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:25.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:25.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294c33fc]
2025-12-29T17:36:25.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:25.160+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:25.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:25.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-29T17:36:25.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-29T17:36:25.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:25.980+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:25.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T17:36:25.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:25.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:25.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/approvers
2025-12-29T17:36:25.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:25.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T17:36:25.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:26.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70118462] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:26.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T17:36:26.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T17:36:26.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:26.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1565198262 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:26.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c97de1a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:26.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:26.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:26.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@917571600 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:26.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T17:36:26.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T17:36:26.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:26.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70118462]
2025-12-29T17:36:26.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:26.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a24aec2] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:26.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696601871 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:26.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:26.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T17:36:26.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:26.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c97de1a]
2025-12-29T17:36:26.025+09:00  INFO 52248 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T17:36:26.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:26.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:26.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T17:36:26.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a24aec2]
2025-12-29T17:36:26.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:26.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:26.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a8c597] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:26.033+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T17:36:26.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767186750 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:26.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:26.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:26.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/approvers
2025-12-29T17:36:26.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T17:36:26.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T17:36:26.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T17:36:26.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:26.043+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a8c597]
2025-12-29T17:36:26.043+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:26.044+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:26.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d056c1] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:26.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918153073 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:26.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@263ee51f] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:26.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:26.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:26.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229261937 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:26.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T17:36:26.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T17:36:26.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:26.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d056c1]
2025-12-29T17:36:26.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:26.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:26.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:26.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T17:36:26.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@263ee51f]
2025-12-29T17:36:26.073+09:00  INFO 52248 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T17:36:26.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:26.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T17:36:26.078+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:30.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:30.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:30.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:30.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:30.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:30.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:30.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:30.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105b4c26] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:30.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:30.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:30.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@498ca330] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660010671 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:30.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:30.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@163797858 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:30.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:30.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:30.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105b4c26]
2025-12-29T17:36:30.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:30.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9638db2] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@498ca330]
2025-12-29T17:36:30.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e3e16a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1242401258 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@167764608 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.285+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9638db2]
2025-12-29T17:36:30.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e3e16a]
2025-12-29T17:36:30.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4135adde] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445e01b6] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@941943843 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1363483282 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:30.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:30.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:30.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:30.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:30.428+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:30.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445e01b6]
2025-12-29T17:36:30.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4135adde]
2025-12-29T17:36:30.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71352a9d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5d8bd3] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@486683192 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1857708703 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:30.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:30.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:30.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5d8bd3]
2025-12-29T17:36:30.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71352a9d]
2025-12-29T17:36:30.464+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:30.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:30.473+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8510c0] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:30.476+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203548271 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.484+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:30.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:30.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:30.514+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:30.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:30.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.524+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b73cc4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8510c0]
2025-12-29T17:36:30.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1389673763 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:30.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3ff281] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:30.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973861110 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:30.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:30.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:30.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:30.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3ff281]
2025-12-29T17:36:30.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b73cc4e]
2025-12-29T17:36:30.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2a3319] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274c8615] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1072921543 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@851980046 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.629+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274c8615]
2025-12-29T17:36:30.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2a3319]
2025-12-29T17:36:30.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:30.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7669b59b] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:30.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894888301 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:30.664+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:30.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:30.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:30.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:30.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-29T17:36:30.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7669b59b]
2025-12-29T17:36:30.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1649bdac] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:30.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@766973843 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:30.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:30.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:30.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37557af2] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@743319690 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:30.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1649bdac]
2025-12-29T17:36:30.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:30.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:30.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:30.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:30.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:30.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:30.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:30.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37557af2]
2025-12-29T17:36:30.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4285595a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291365169 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:30.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:30.751+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-29T17:36:30.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-29T17:36:30.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:30.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cddfa18] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@877065644 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4285595a]
2025-12-29T17:36:30.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1667afda] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:30.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2126543813 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:30.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:30.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-29T17:36:30.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:30.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:30.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 5
2025-12-29T17:36:30.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1667afda]
2025-12-29T17:36:30.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cddfa18]
2025-12-29T17:36:30.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18aa759e] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc888cd] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@857215022 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:30.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1012312598 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:30.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:30.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.830+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:30.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc888cd]
2025-12-29T17:36:30.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18aa759e]
2025-12-29T17:36:30.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2edfab4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e938495] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1169866936 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903743580 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:30.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:30.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-29T17:36:30.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 6
2025-12-29T17:36:30.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e938495]
2025-12-29T17:36:30.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2edfab4e]
2025-12-29T17:36:30.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52054927] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.880+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5df15db] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810604766 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:30.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451842549 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:30.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:30.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:30.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:30.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5df15db]
2025-12-29T17:36:30.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52054927]
2025-12-29T17:36:30.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:30.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:30.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=7, drafterId=2 (truncated)...]
2025-12-29T17:36:30.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146182d7] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:30.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:30.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817554189 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:30.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:30.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-29T17:36:30.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:30.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146182d7]
2025-12-29T17:36:30.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:30.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:30.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:34.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-29T17:36:34.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-29T17:36:34.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-29T17:36:34.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-29T17:36:34.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-29T17:36:34.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-29T17:36:34.090+09:00  INFO 52248 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=4
2025-12-29T17:36:34.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:34.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-29T17:36:34.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:34.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:34.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T17:36:39.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-29T17:36:39.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T17:36:39.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-29T17:36:39.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-29T17:36:39.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-29T17:36:39.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-29T17:36:39.310+09:00  INFO 52248 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-29T17:36:39.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:39.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@151d57d7] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:39.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2105926643 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:39.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-29T17:36:39.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-29T17:36:39.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-29T17:36:39.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@151d57d7]
2025-12-29T17:36:39.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:39.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1456b0aa] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:39.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@60553888 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:39.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:39.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:39.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:39.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1456b0aa]
2025-12-29T17:36:39.412+09:00  INFO 52248 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-29T17:36:39.412+09:00  INFO 52248 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-29T17:36:39.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:39.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-29T17:36:39.415+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:39.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:39.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-29T17:36:39.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:39.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:39.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:39.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:39.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:39.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:36:39.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:39.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:39.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:39.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:39.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:39.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41573a0a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:39.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:39.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:39.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:39.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:39.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:39.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:39.668+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72242d5c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:39.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:39.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:39.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27d22fe7] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:39.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@255249432 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:39.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1241717183 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:39.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:39.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:39.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:39.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:39.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184119126 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:39.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:39.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:39.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:39.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:39.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41573a0a]
2025-12-29T17:36:39.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:39.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7ca401] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:39.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72242d5c]
2025-12-29T17:36:39.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1154881036 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:39.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:39.767+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:39.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:39.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-29T17:36:39.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168fcd9b] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:39.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:36:39.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728741914 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:39.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:39.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-29T17:36:39.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:39.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:39.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:36:39.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:39.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:36:40.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7ca401]
2025-12-29T17:36:40.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ebaa09] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27d22fe7]
2025-12-29T17:36:40.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:36:40.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:36:40.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2060344025 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.078+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:36:40.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:36:40.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ba347] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168fcd9b]
2025-12-29T17:36:40.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58016aa6] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:36:40.110+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@757772353 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:40.112+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e032ca9] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@397975183 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:40.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:40.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:40.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:36:40.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:36:40.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-29T17:36:40.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729bd1a8] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@275845188 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:40.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ebaa09]
2025-12-29T17:36:40.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:40.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39761de7] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:40.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 7
2025-12-29T17:36:40.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ba347]
2025-12-29T17:36:40.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737708322 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58016aa6]
2025-12-29T17:36:40.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.179+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.179+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:36:40.180+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.180+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:40.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1093845251 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:40.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:40.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e032ca9]
2025-12-29T17:36:40.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:40.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a7b6ca] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120943774 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:40.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:40.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39761de7]
2025-12-29T17:36:40.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:40.212+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:40.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a7b6ca]
2025-12-29T17:36:40.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a582f3c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1706482523 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:40.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:40.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:40.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:40.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:40.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6deafdeb] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:40.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729bd1a8]
2025-12-29T17:36:40.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:36:40.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:40.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:40.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:40.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7871ac82] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@141007635 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:40.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:40.266+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269123269 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:40.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:40.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:40.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a582f3c]
2025-12-29T17:36:40.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c2cab2] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016944185 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:40.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:40.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:40.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6deafdeb]
2025-12-29T17:36:40.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7871ac82]
2025-12-29T17:36:40.285+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f50d2b] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1769976442 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:40.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c42abfc] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:40.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503795018 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:40.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:40.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c2cab2]
2025-12-29T17:36:40.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4943c7e] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@825680132 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:40.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c42abfc]
2025-12-29T17:36:40.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f50d2b]
2025-12-29T17:36:40.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49006458] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1889811407 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:40.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:40.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:40.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4943c7e]
2025-12-29T17:36:40.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49006458]
2025-12-29T17:36:40.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:40.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ff9756] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1402405525 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:40.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:40.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:40.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:36:40.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:40.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:40.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ff9756]
2025-12-29T17:36:40.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:40.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:40.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:40.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:40.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:40.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d9a54f2] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a339bb] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309364037 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.363+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:40.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1175861103 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:40.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:40.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:40.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:40.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:40.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:40.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621775f5] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2063082586 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:40.397+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:40.397+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:40.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:40.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a339bb]
2025-12-29T17:36:40.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d9a54f2]
2025-12-29T17:36:40.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff1906c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdef1fb] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@376836296 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@617355702 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:40.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:40.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:40.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621775f5]
2025-12-29T17:36:40.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4970d44a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff1906c]
2025-12-29T17:36:40.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@277985356 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:40.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a77fe0] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdef1fb]
2025-12-29T17:36:40.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1093073704 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:40.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:40.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4970d44a]
2025-12-29T17:36:40.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:40.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f720f8] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2045403368 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:40.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:40.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:40.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:40.463+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:40.463+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:40.464+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a77fe0]
2025-12-29T17:36:40.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.467+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61dba29c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28737356] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:40.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1753913656 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:40.473+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:40.471+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1993120900 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f720f8]
2025-12-29T17:36:40.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.476+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5cbb21] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.476+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1151578706 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:40.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:40.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:40.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61dba29c]
2025-12-29T17:36:40.492+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.492+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5cbb21]
2025-12-29T17:36:40.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0acc1d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.494+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207520930 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.498+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:40.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:40.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28737356]
2025-12-29T17:36:40.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35fbb1ae] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.513+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.514+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@102866308 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:40.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:40.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:40.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0acc1d]
2025-12-29T17:36:40.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:40.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:40.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b80d5f6] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:40.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1455916223 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aebec65] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35fbb1ae]
2025-12-29T17:36:40.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037662545 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:40.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:40.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:40.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:40.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:40.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:40.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:40.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b80d5f6]
2025-12-29T17:36:40.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:40.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aebec65]
2025-12-29T17:36:40.546+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e81c63] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.547+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:40.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866089645 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:40.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dfa76bf] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:40.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.557+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939996065 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:40.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:40.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.561+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:40.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.568+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dfa76bf]
2025-12-29T17:36:40.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c3e04] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da81997] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@168596149 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:40.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58313491 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:40.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e81c63]
2025-12-29T17:36:40.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:40.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:40.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:40.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:40.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:40.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da81997]
2025-12-29T17:36:40.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ae98c8] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@672613195 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:36:40.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c3e04]
2025-12-29T17:36:40.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.592+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:36:40.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62566fc] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.595+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:36:40.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1680544802 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:40.597+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:40.602+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:40.596+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:36:40.605+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:36:40.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac53bc3] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1598463480 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:40.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:40.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62566fc]
2025-12-29T17:36:40.620+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ae98c8]
2025-12-29T17:36:40.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:40.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:40.627+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:40.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:40.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:40.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac53bc3]
2025-12-29T17:36:40.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:40.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2cb4fd] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:40.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778343352 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26342e14] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1835262892 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:40.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:40.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2cb4fd]
2025-12-29T17:36:40.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab1e3ed] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:40.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@849490202 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:40.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:40.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:40.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26342e14]
2025-12-29T17:36:40.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab1e3ed]
2025-12-29T17:36:40.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535fb4d8] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e17c094] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1419535401 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:40.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1797057584 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:36:40.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:36:40.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:36:40.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535fb4d8]
2025-12-29T17:36:40.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e17c094]
2025-12-29T17:36:40.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429acff] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9d2aba] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@721297878 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:40.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@209602269 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.713+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.714+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:40.718+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:40.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429acff]
2025-12-29T17:36:40.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f5a119c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9d2aba]
2025-12-29T17:36:40.730+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1985813724 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:36:40.731+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61ae6cdd] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953710760 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:36:40.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f5a119c]
2025-12-29T17:36:40.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:40.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:36:40.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61ae6cdd]
2025-12-29T17:36:40.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:40.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.778+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70002225] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:40.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1650090108 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.783+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:40.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:40.788+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1923d3f3] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1014066021 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.797+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:40.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:40.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70002225]
2025-12-29T17:36:40.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.812+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:36:40.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:40.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1923d3f3]
2025-12-29T17:36:40.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3712b2a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80403708 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3712b2a]
2025-12-29T17:36:40.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f190e4] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1330895627 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:40.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:40.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:40.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f190e4]
2025-12-29T17:36:40.847+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13df906a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524651077 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:40.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:40.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:40.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13df906a]
2025-12-29T17:36:40.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:40.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:40.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:40.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:40.896+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:40.896+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:40.896+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100dc830] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1965926464 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:40.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:40.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:40.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100dc830]
2025-12-29T17:36:40.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d11c210] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@52681162 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:40.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:40.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:40.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:40.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d11c210]
2025-12-29T17:36:40.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:40.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:40.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:40.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:36:40.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:36:40.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:36:40.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-29T17:36:40.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:36:40.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:36:40.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-29T17:36:40.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-29T17:36:40.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-29T17:36:40.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-29T17:36:40.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c9bb43] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:40.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887413384 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:40.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae2b058] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:40.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:40.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@393469981 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:40.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-29T17:36:40.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:40.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-29T17:36:41.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:41.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 7
2025-12-29T17:36:41.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c9bb43]
2025-12-29T17:36:41.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae2b058]
2025-12-29T17:36:41.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:41.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:41.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:36:41.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-29T17:36:41.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:41.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:41.046+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:41.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:41.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:41.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:41.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:41.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ef8a0fd] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@375785549 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:41.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:41.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:41.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:41.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ef8a0fd]
2025-12-29T17:36:41.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.063+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503de09d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1811500335 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:41.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:41.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:41.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:41.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:41.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:41.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503de09d]
2025-12-29T17:36:41.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:41.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:41.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a98c3c0] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:41.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1704913158 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:41.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:41.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@382d79d] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:41.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:41.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860636457 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:41.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a98c3c0]
2025-12-29T17:36:41.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:41.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:41.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5162ecab] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308144516 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:41.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:41.096+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:41.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:41.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@382d79d]
2025-12-29T17:36:41.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe05e50] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:41.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898380121 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:36:41.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5162ecab]
2025-12-29T17:36:41.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:41.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:41.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:41.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:41.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:41.112+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:41.112+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe05e50]
2025-12-29T17:36:41.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:41.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:41.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:41.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:41.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:41.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:41.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:41.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:41.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:41.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:41.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:41.380+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:41.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:41.381+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235ae794] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67297177] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.384+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1531857639 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:41.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:41.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:41.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@852752495 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:41.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:41.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:41.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:41.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67297177]
2025-12-29T17:36:41.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:41.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235ae794]
2025-12-29T17:36:41.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171fa047] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@991021338 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:41.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292baa92] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:41.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@215460221 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:41.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:41.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:41.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:41.397+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:41.397+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171fa047]
2025-12-29T17:36:41.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:41.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:41.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:41.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:41.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292baa92]
2025-12-29T17:36:41.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30452273] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1154376147 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:41.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:41.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:41.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:41.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30452273]
2025-12-29T17:36:41.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:41.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9f8ba] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:41.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@485889220 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:36:41.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:41.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:41.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:41.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9f8ba]
2025-12-29T17:36:41.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:41.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:41.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:44.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/budget/list?year=2025
2025-12-29T17:36:44.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/budget/list?year=2025
2025-12-29T17:36:44.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:44.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:36:44.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:36:44.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-29T17:36:44.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:36:44.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:36:44.627+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:36:44.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/budget/list
2025-12-29T17:36:44.629+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:36:44.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:36:44.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-29T17:36:44.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:36:44.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:36:44.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-29T17:36:44.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-29T17:36:44.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ddf9a9] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:36:44.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70f4b80c] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:36:44.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1205850326 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:44.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c27e0a] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:36:44.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:36:44.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197279081 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:44.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:36:44.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:36:44.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:36:44.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391883338 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:36:44.663+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-29T17:36:44.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ddf9a9]
2025-12-29T17:36:44.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a946ed5] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@501356520 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:36:44.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:36:44.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-29T17:36:44.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:36:44.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:36:44.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:36:44.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70f4b80c]
2025-12-29T17:36:44.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a946ed5]
2025-12-29T17:36:44.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6339d8] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:44.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1842829558 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:44.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:44.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:44.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:44.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:44.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:44.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6339d8]
2025-12-29T17:36:44.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa26653] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408759078 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:44.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:36:44.697+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:36:44.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:36:44.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa26653]
2025-12-29T17:36:44.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e561886] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@656374241 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:44.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:36:44.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:36:44.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-29T17:36:44.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:36:44.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c27e0a]
2025-12-29T17:36:44.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e561886]
2025-12-29T17:36:44.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:44.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:44.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:44.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:36:44.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:44.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:36:44.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-29T17:36:44.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/budget/list
2025-12-29T17:36:44.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-29T17:36:44.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-29T17:36:44.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-29T17:36:44.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:36:44.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:36:44.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:36:44.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6036d518] was not registered for synchronization because synchronization is not active
2025-12-29T17:36:44.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798607670 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:36:44.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-29T17:36:44.729+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-29T17:36:44.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-29T17:36:44.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6036d518]
2025-12-29T17:36:44.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:36:44.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:36:44.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:05.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:05.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:37:05.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:05.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:37:05.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:05.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:05.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:05.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:05.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:37:05.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:05.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:05.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:05.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:37:05.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:05.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:05.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:05.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:05.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.110+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61283c84] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:37:05.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:05.110+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4329ef62] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e46a593] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797270100 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:05.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc92123] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:05.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@627295830 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:05.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:05.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31292689 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:05.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:05.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@241396945 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:05.129+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:05.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:05.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:05.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:05.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:05.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:05.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:05.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61283c84]
2025-12-29T17:37:05.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4329ef62]
2025-12-29T17:37:05.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:05.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:05.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354021e8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e46a593]
2025-12-29T17:37:05.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc92123]
2025-12-29T17:37:05.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1583329421 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:05.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:37:05.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5f3ca4] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754dfa6d] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698829184 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:05.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.146+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1218286171 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:05.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:05.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:05.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354021e8]
2025-12-29T17:37:05.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754dfa6d]
2025-12-29T17:37:05.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:05.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281c9e97] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5f3ca4]
2025-12-29T17:37:05.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59858d80] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.160+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484947229 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:05.162+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.162+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1132567119 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:05.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:05.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:05.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:05.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:05.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:05.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:05.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:05.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:05.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:05.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281c9e97]
2025-12-29T17:37:05.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:05.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:05.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2187499] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1312602731 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:05.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1516eba7] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:05.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59858d80]
2025-12-29T17:37:05.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57056f5c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572064177 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:05.212+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:05.213+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.213+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678411293 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:05.220+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:05.220+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2187499]
2025-12-29T17:37:05.220+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:05.221+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:05.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:05.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:05.224+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57056f5c]
2025-12-29T17:37:05.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:05.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c278d76] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@539260449 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:05.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:05.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:05.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:05.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:05.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1516eba7]
2025-12-29T17:37:05.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:05.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58118204] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.241+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b620c50] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1556732896 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:05.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:05.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c278d76]
2025-12-29T17:37:05.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:05.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802158255 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:05.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abd9d55] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:05.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:05.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1787952457 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:05.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58118204]
2025-12-29T17:37:05.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:05.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:05.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:05.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:05.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:05.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b620c50]
2025-12-29T17:37:05.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:05.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5b298f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:05.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:05.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abd9d55]
2025-12-29T17:37:05.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@109291661 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:05.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:05.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b8337e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310992777 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:05.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562825c0] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@50171043 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:05.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:05.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5b298f]
2025-12-29T17:37:05.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:05.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499e964c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b8337e]
2025-12-29T17:37:05.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545390497 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:05.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:05.285+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:05.285+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562825c0]
2025-12-29T17:37:05.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:05.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:05.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606a7406] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2004569070 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:05.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:05.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:05.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:05.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:05.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:05.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499e964c]
2025-12-29T17:37:05.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77dbc9f2] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254759859 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:05.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:05.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:05.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606a7406]
2025-12-29T17:37:05.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77dbc9f2]
2025-12-29T17:37:05.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe85a36] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:05.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434660815 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:05.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:05.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:05.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:05.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:05.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:05.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:05.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:05.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:05.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe85a36]
2025-12-29T17:37:05.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68ab99] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3383c7ef] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@20191450 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:05.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@243728963 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:05.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:05.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:05.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68ab99]
2025-12-29T17:37:05.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3383c7ef]
2025-12-29T17:37:05.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58c6c36e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e2cda8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392025484 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:05.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1777587812 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:05.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:05.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:05.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58c6c36e]
2025-12-29T17:37:05.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e2cda8]
2025-12-29T17:37:05.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc09b01] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5583d678] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@91486372 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:05.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132042477 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:05.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:05.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:05.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:05.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:05.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:05.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc09b01]
2025-12-29T17:37:05.368+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5583d678]
2025-12-29T17:37:05.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9ae363] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d445ac6] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391296322 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:05.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723820288 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d445ac6]
2025-12-29T17:37:05.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9ae363]
2025-12-29T17:37:05.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf18dbc] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:05.384+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@602697870 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.384+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:05.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:05.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:05.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:05.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf18dbc]
2025-12-29T17:37:05.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:05.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1299c45c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:05.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@849684446 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:05.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:05.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:05.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:05.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1299c45c]
2025-12-29T17:37:05.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:05.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:05.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:07.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-rules/list
2025-12-29T17:37:07.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-rules/list
2025-12-29T17:37:07.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:07.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:07.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:07.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:07.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-29T17:37:07.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:07.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:07.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:07.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:07.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-29T17:37:07.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-29T17:37:07.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-29T17:37:07.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:07.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:07.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-29T17:37:07.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e09d4e4] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:07.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:07.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:37:07.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:07.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da108c7] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:07.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:37:07.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:07.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea8915f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:07.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192762692 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:07.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1521273982 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:07.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:07.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:07.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510190300 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:07.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:07.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:07.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-29T17:37:07.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-29T17:37:07.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:07.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da108c7]
2025-12-29T17:37:07.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:07.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:07.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18fd59da] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:07.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-29T17:37:07.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e09d4e4]
2025-12-29T17:37:07.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@340246846 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:07.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea8915f]
2025-12-29T17:37:07.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:07.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:07.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:07.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b386861] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:07.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:07.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:07.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1371146244 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:07.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:07.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:07.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:07.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-29T17:37:07.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:07.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-29T17:37:07.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18fd59da]
2025-12-29T17:37:07.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-29T17:37:07.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:07.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-29T17:37:07.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:07.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-29T17:37:07.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:07.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:07.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b386861]
2025-12-29T17:37:07.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:37:07.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:07.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:37:07.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d0396] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:07.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:07.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2132678772 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:07.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261bebb9] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:07.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:07.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:07.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1268809512 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:07.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:07.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-29T17:37:07.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d0396]
2025-12-29T17:37:07.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-29T17:37:08.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:08.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c05617f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:08.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871094490 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:08.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-29T17:37:08.078+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261bebb9]
2025-12-29T17:37:08.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:08.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:08.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:08.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:08.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:08.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:08.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c05617f]
2025-12-29T17:37:08.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:08.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:08.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.364+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:26.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:26.368+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:26.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:26.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:37:26.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:26.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:26.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:26.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:26.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:26.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:26.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:26.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:26.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:26.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a054a9] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:37:26.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:26.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a033c9] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:37:26.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:26.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:37:26.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1573966673 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:26.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:37:26.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318b4c5c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:26.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@15023137 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:26.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:26.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b562ff5] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:26.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:26.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@42677990 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:26.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:26.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:26.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009907480 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:26.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:26.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:26.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a033c9]
2025-12-29T17:37:26.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a054a9]
2025-12-29T17:37:26.412+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:26.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:26.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa3794d] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318b4c5c]
2025-12-29T17:37:26.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d3f8f8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1372619548 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:26.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1910653948 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:26.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:26.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:26.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f0bdd7] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:26.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b562ff5]
2025-12-29T17:37:26.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@961839128 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:26.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:37:26.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:26.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa3794d]
2025-12-29T17:37:26.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.428+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d3f8f8]
2025-12-29T17:37:26.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:26.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f0bdd7]
2025-12-29T17:37:26.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e73e5c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:26.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1761480224 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:26.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b97d3d2] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:26.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:26.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@454674802 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:26.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:26.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:26.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:26.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:26.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:26.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:26.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:26.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.467+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e73e5c]
2025-12-29T17:37:26.468+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.467+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10e618c0] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.468+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2862a80c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:26.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1185841617 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:26.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1957394050 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.473+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b97d3d2]
2025-12-29T17:37:26.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:26.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:26.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:26.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:26.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f2be6c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1280244675 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:26.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:26.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:26.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.480+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2862a80c]
2025-12-29T17:37:26.484+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10e618c0]
2025-12-29T17:37:26.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65beb293] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15715f5f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1478575328 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905012521 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:26.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f2be6c]
2025-12-29T17:37:26.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:26.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:26.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:26.492+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:26.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15715f5f]
2025-12-29T17:37:26.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65beb293]
2025-12-29T17:37:26.498+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:26.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:26.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:26.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c6ffcea] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.509+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817568222 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:26.511+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:26.511+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:26.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:26.512+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:26.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b184cd6] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:26.524+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c6ffcea]
2025-12-29T17:37:26.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:26.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1287484376 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405e3c06] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:26.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:26.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1129648203 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:26.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:26.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:26.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:26.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f3219e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:26.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b184cd6]
2025-12-29T17:37:26.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43fb1d51] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1270107419 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1756119724 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:26.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:26.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405e3c06]
2025-12-29T17:37:26.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:26.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:26.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:26.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43fb1d51]
2025-12-29T17:37:26.550+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f3219e]
2025-12-29T17:37:26.550+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:26.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3253dc9c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:26.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ed0a14] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702107154 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.557+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:26.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1619692581 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:26.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:26.561+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:26.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:26.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:26.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:26.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:26.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:26.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5200247a] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3253dc9c]
2025-12-29T17:37:26.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:26.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549557353 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ed0a14]
2025-12-29T17:37:26.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:26.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a166e58] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:26.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@109965498 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:26.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.577+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.580+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:26.580+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5200247a]
2025-12-29T17:37:26.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9724e91] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510115377 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.592+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a166e58]
2025-12-29T17:37:26.602+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:26.605+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9724e91]
2025-12-29T17:37:26.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:26.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5337f26c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:26.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1210726493 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:26.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:26.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:26.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:26.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:26.617+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795abe5d] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@38991254 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:26.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:26.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5337f26c]
2025-12-29T17:37:26.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:26.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1112cd74] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103110056 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:26.627+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:26.634+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:26.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795abe5d]
2025-12-29T17:37:26.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d632db] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:26.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1213382730 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1112cd74]
2025-12-29T17:37:26.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5922dc48] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1583141749 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.646+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d632db]
2025-12-29T17:37:26.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b32ff34] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1588020323 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:26.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5922dc48]
2025-12-29T17:37:26.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:26.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e848903] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@25943047 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:26.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:26.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:26.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:26.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b32ff34]
2025-12-29T17:37:26.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e848903]
2025-12-29T17:37:26.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:26.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16925811] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465fbd27] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:26.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172347048 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:26.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@754579582 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:26.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:26.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:26.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:26.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465fbd27]
2025-12-29T17:37:26.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16925811]
2025-12-29T17:37:26.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:26.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:26.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:26.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:26.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:28.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2025-12-29T17:37:28.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2025-12-29T17:37:28.619+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:28.619+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:28.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-29T17:37:28.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:28.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:28.629+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-29T17:37:28.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:28.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:28.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:28.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-29T17:37:28.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:28.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:28.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-29T17:37:28.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:28.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-29T17:37:28.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1a9285] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196bde87] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:37:28.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:37:28.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a0af90] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2018665870 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:28.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319989128 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:28.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-29T17:37:28.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:37:28.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050300197 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:28.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:28.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:28.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:28.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:28.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:28.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:28.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2025-12-29T17:37:28.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196bde87]
2025-12-29T17:37:28.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1a9285]
2025-12-29T17:37:28.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a0af90]
2025-12-29T17:37:28.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:28.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa1efb3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7359931e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:28.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@452108445 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:28.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@658729574 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:28.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:28.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:28.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:28.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:28.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:28.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-29T17:37:28.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:28.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa1efb3]
2025-12-29T17:37:28.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-29T17:37:28.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:28.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:28.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-29T17:37:28.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:28.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-29T17:37:28.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-29T17:37:28.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:28.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:37:28.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7359931e]
2025-12-29T17:37:28.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:37:28.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168cdea7] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33089a2b] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@695369227 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:28.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:28.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:28.828+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1773904131 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:28.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-29T17:37:28.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:37:28.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:28.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@168cdea7]
2025-12-29T17:37:28.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:28.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e823f4] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:28.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239530376 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:28.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:28.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:28.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2025-12-29T17:37:28.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33089a2b]
2025-12-29T17:37:28.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:28.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:28.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:28.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:28.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e823f4]
2025-12-29T17:37:28.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:28.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:28.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:43.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:43.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:43.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:43.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:37:43.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:43.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:43.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:43.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:43.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:43.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:43.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:43.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:37:43.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:37:43.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:37:43.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:37:43.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:43.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:43.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:43.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:43.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:43.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:43.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c21795a] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:43.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459e5882] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:43.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:43.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:43.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a229e3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:43.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:43.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223baf81] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:43.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829828934 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:43.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1989723521 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:43.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889371073 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:43.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:43.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49906684 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:43.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:43.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:43.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:43.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:43.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:43.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:43.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:43.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:43.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:44.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c21795a]
2025-12-29T17:37:44.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a229e3]
2025-12-29T17:37:44.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:44.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:44.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:37:44.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223baf81]
2025-12-29T17:37:44.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459e5882]
2025-12-29T17:37:44.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a6dfec] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9c9f21] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962327124 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:44.012+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.013+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065235474 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4c7527] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:44.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@456751419 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:44.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:44.045+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9c9f21]
2025-12-29T17:37:44.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.089+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da1d772] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@35339888 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:44.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:44.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:44.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4c7527]
2025-12-29T17:37:44.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a6dfec]
2025-12-29T17:37:44.110+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:44.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.118+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc0501d] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.118+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1679680495 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:44.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:44.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:44.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:44.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:44.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da1d772]
2025-12-29T17:37:44.160+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:44.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:44.173+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e1d5c8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1529387489 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:44.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:44.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:44.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc0501d]
2025-12-29T17:37:44.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:44.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:44.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:44.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c2a33a] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:44.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2036092775 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:44.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:44.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8f661c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e1d5c8]
2025-12-29T17:37:44.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1147876029 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.218+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d447dc] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.219+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@874355675 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:44.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.218+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:44.234+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:44.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d447dc]
2025-12-29T17:37:44.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c2a33a]
2025-12-29T17:37:44.245+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.246+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7582438a] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:44.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1710755905 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:44.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:44.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:44.256+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8f661c]
2025-12-29T17:37:44.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:44.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35185542] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@548563579 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:44.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:44.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:44.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:44.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7582438a]
2025-12-29T17:37:44.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:44.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:44.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39db1c59] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:44.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:44.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1587709691 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:44.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:44.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35185542]
2025-12-29T17:37:44.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dfa96f9] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:44.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601048434 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:44.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:44.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:44.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39db1c59]
2025-12-29T17:37:44.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:44.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:44.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dfa96f9]
2025-12-29T17:37:44.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:44.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:44.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:44.330+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f879c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:44.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:44.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868331707 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:44.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:44.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:44.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:44.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:44.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b056034] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:44.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f879c3]
2025-12-29T17:37:44.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a55d60] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1332418714 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8ab9fa] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:44.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794767785 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:44.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:44.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:44.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:44.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@879783716 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:44.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:44.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:44.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:44.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:44.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8ab9fa]
2025-12-29T17:37:44.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a55d60]
2025-12-29T17:37:44.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11005f98] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.384+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2289be4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1807708459 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:44.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2082060578 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:44.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b056034]
2025-12-29T17:37:44.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79d43a75] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203181721 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:44.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:44.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:44.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:44.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79d43a75]
2025-12-29T17:37:44.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11005f98]
2025-12-29T17:37:44.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2289be4e]
2025-12-29T17:37:44.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:44.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:44.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70889d39] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@521938600 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:44.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:44.413+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:44.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:44.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:44.430+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:44.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70889d39]
2025-12-29T17:37:44.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b362eb5] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:44.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137199551 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:44.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:44.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:44.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17eb2702] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.447+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:44.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723360279 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:44.450+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b362eb5]
2025-12-29T17:37:44.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:44.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:44.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eb0437] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062394297 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:44.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17eb2702]
2025-12-29T17:37:44.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed6ca0f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@326318156 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:44.462+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.466+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45eb0437]
2025-12-29T17:37:44.466+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.468+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc0d338] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1721219787 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:44.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed6ca0f]
2025-12-29T17:37:44.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:44.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1a511f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1970566657 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:44.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:44.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc0d338]
2025-12-29T17:37:44.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:44.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493441b1] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@881857212 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:44.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:44.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:44.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493441b1]
2025-12-29T17:37:44.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1a511f]
2025-12-29T17:37:44.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:44.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:44.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65843228] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:44.611+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:44.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710481198 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:44.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:44.617+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:44.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:44.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65843228]
2025-12-29T17:37:44.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:44.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:44.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:46.285+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/monthly-closing/list
2025-12-29T17:37:46.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:46.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:46.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/monthly-closing/list
2025-12-29T17:37:46.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:46.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:46.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:46.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:46.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-29T17:37:46.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:46.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:46.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:46.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-29T17:37:46.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:46.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-29T17:37:46.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600788c8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-29T17:37:46.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a263884] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-29T17:37:46.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:37:46.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@290214988 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:46.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203327500 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:46.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:46.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:37:46.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:46.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:46.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:46.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465bc0c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@38566629 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:46.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:46.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:46.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-29T17:37:46.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600788c8]
2025-12-29T17:37:46.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a263884]
2025-12-29T17:37:46.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:37:46.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9874d6c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360c82c1] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564704732 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:46.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648398065 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:46.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:46.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:46.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:46.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:46.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.M.findByCompanyId                : <==      Total: 0
2025-12-29T17:37:46.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465bc0c3]
2025-12-29T17:37:46.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:46.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:46.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360c82c1]
2025-12-29T17:37:46.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:46.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:46.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:46.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9874d6c]
2025-12-29T17:37:46.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:46.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:46.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19097de8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:46.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710324104 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:46.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:46.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:46.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-29T17:37:46.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-29T17:37:46.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-29T17:37:46.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-29T17:37:46.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-29T17:37:46.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:37:46.429+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:37:46.432+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:46.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19097de8]
2025-12-29T17:37:46.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5adcdcd3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:46.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67680a34] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:46.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895278348 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:46.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:46.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1901852368 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:46.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:46.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-29T17:37:46.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:37:46.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:46.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67680a34]
2025-12-29T17:37:46.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:46.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:46.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:46.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.M.findByCompanyId                : <==      Total: 0
2025-12-29T17:37:46.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5adcdcd3]
2025-12-29T17:37:46.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:46.473+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:46.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:52.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:52.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:52.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:52.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:52.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:37:52.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:52.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:52.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:37:52.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:52.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:52.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:52.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:37:52.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:52.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:52.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:52.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:37:52.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:52.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:52.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eadc4cb] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:37:52.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a87ee7] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54122d7] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.662+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1298447027 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:52.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:52.668+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f0a3e61] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865616436 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:52.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:52.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984656571 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:52.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:52.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1498010858 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:52.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:52.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:52.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:52.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:52.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:52.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:52.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eadc4cb]
2025-12-29T17:37:52.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54122d7]
2025-12-29T17:37:52.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:52.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54920542] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140172f1] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a87ee7]
2025-12-29T17:37:52.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:52.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484989871 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:52.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1007396238 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:52.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f0a3e61]
2025-12-29T17:37:52.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:52.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@267647d3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:52.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@809975660 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:52.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:37:52.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54920542]
2025-12-29T17:37:52.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140172f1]
2025-12-29T17:37:52.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.701+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:52.701+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@267647d3]
2025-12-29T17:37:52.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@816b54] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@529008463 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:52.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bae13ae] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:52.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:52.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601342935 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:52.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:52.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:52.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:52.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:52.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:52.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@816b54]
2025-12-29T17:37:52.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:52.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:52.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da0c5e4] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:52.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@644923599 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:52.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bae13ae]
2025-12-29T17:37:52.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b83bace] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6826d342] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395560075 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:52.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:52.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@838852901 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:52.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:52.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:52.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da0c5e4]
2025-12-29T17:37:52.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:52.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6826d342]
2025-12-29T17:37:52.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:52.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75fb642c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723064082 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:52.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b83bace]
2025-12-29T17:37:52.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:52.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c37b117] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208100927 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:52.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:52.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:52.731+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:52.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:52.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:52.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:52.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:52.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c37b117]
2025-12-29T17:37:52.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75fb642c]
2025-12-29T17:37:52.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc6039a] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:52.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a04161] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2010416253 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:52.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@34860430 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:52.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:52.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:52.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:52.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:52.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:52.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:52.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:52.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:52.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbff218] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:52.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1830405879 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:52.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a04161]
2025-12-29T17:37:52.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:52.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:52.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2bd550] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:52.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc6039a]
2025-12-29T17:37:52.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734025469 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45927a6e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:52.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@564940417 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:52.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbff218]
2025-12-29T17:37:52.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.778+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.778+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af2f542] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.779+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2bd550]
2025-12-29T17:37:52.780+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940569910 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:52.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:52.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:52.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45927a6e]
2025-12-29T17:37:52.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:52.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791fabc3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:52.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789118852 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:52.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:52.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:52.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:52.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af2f542]
2025-12-29T17:37:52.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:52.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:52.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:52.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:52.797+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:52.799+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a23831] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443199854 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:52.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:52.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:52.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791fabc3]
2025-12-29T17:37:52.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2551f207] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554960093 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:52.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:52.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a23831]
2025-12-29T17:37:52.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e47b30] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1583261773 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2551f207]
2025-12-29T17:37:52.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:52.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e47b30]
2025-12-29T17:37:52.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.879+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@413203e7] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697369354 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:52.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:52.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:52.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:52.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:52.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:52.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:52.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:52.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@413203e7]
2025-12-29T17:37:52.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a47669b] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b60a613] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103045709 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:52.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@178043811 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:52.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:52.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:52.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:52.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:52.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:52.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a47669b]
2025-12-29T17:37:52.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b60a613]
2025-12-29T17:37:52.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c437c4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbf9a74] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768714979 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:52.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102182318 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c437c4e]
2025-12-29T17:37:52.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbf9a74]
2025-12-29T17:37:52.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ed3f7c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4a1360] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@295410403 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:52.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606767271 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:52.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:52.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:52.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:52.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:52.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ed3f7c]
2025-12-29T17:37:52.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:52.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4a1360]
2025-12-29T17:37:52.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3ef4b4] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:52.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090990288 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:52.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a26e13] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:52.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@731882644 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:52.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:52.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:52.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3ef4b4]
2025-12-29T17:37:52.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:52.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:52.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a26e13]
2025-12-29T17:37:52.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:52.962+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:52.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:52.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:55.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:55.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:55.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:37:55.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:55.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:55.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:55.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-logs/list
2025-12-29T17:37:55.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:55.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:55.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:37:55.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:55.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:55.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-29T17:37:55.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:55.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-29T17:37:55.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.384+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:37:55.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594fd3ec] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56a4eefa] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:37:55.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4850943b] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841466628 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:55.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:55.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:55.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@542237689 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:55.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380398959 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:55.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:55.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-29T17:37:55.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:55.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:55.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-29T17:37:55.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594fd3ec]
2025-12-29T17:37:55.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:55.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-29T17:37:55.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62da1da5] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56a4eefa]
2025-12-29T17:37:55.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4850943b]
2025-12-29T17:37:55.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@694609970 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:55.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:55.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30142214] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646c2a3a] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:55.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135896811 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:55.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@154012097 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:55.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:55.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-29T17:37:55.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:55.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-29T17:37:55.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:55.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-29T17:37:55.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:55.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62da1da5]
2025-12-29T17:37:55.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646c2a3a]
2025-12-29T17:37:55.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30142214]
2025-12-29T17:37:55.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:55.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:55.446+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e8461f0] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-29T17:37:55.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:55.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275165872 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:55.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:55.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:55.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:37:55.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:55.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:55.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-logs/list
2025-12-29T17:37:55.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:37:55.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-29T17:37:55.471+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-29T17:37:55.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:37:55.473+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:37:55.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@706d2139] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:55.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e8461f0]
2025-12-29T17:37:55.476+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d2792d8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1886514541 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:55.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:55.479+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065666091 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:55.484+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:55.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-29T17:37:55.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-29T17:37:55.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:55.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d2792d8]
2025-12-29T17:37:55.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:55.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:55.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:55.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-29T17:37:55.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@706d2139]
2025-12-29T17:37:55.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:55.494+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a74a73] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:55.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1649826255 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:55.495+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-29T17:37:55.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-29T17:37:55.500+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-29T17:37:55.501+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a74a73]
2025-12-29T17:37:55.502+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:55.502+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-29T17:37:55.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:56.734+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:37:56.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-logs/list
2025-12-29T17:37:56.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:37:56.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-29T17:37:56.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-29T17:37:56.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:37:56.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:37:56.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:56.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696a218c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:56.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858380090 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:56.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-29T17:37:56.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-29T17:37:56.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-29T17:37:56.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696a218c]
2025-12-29T17:37:56.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:56.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7ec40c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:56.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@322112046 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:56.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-29T17:37:56.768+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-29T17:37:56.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-29T17:37:56.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7ec40c]
2025-12-29T17:37:56.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:56.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-29T17:37:56.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:59.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:59.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:59.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:37:59.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:59.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:59.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:59.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:59.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:59.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:59.184+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:59.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:37:59.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:59.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:59.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:59.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:37:59.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:59.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:59.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:37:59.215+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:37:59.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a8e9a6] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe25f37] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50839824] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e496043] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829977988 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:59.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227470298 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:59.244+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:59.247+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:59.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891686471 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:59.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:59.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:59.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:59.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@361865458 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.256+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:59.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:59.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:59.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a8e9a6]
2025-12-29T17:37:59.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:59.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:59.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:59.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5210c81c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe25f37]
2025-12-29T17:37:59.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50839824]
2025-12-29T17:37:59.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089647815 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:59.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:59.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:59.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2639b6b8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e496043]
2025-12-29T17:37:59.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:37:59.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1806232976 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:59.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:59.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f2dc7d] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:59.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865762144 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5210c81c]
2025-12-29T17:37:59.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:59.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4735d4d3] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2639b6b8]
2025-12-29T17:37:59.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330413057 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:59.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:59.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:59.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:59.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:59.295+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:59.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f2dc7d]
2025-12-29T17:37:59.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:59.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:59.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:59.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4735d4d3]
2025-12-29T17:37:59.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dea5fc8] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:59.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938123580 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:59.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:59.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:59.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c0415f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631231960 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:37:59.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@718166e9] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621235260 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:59.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:59.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:59.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:59.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dea5fc8]
2025-12-29T17:37:59.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ebfaf28] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.362+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098168104 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:59.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:59.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c0415f]
2025-12-29T17:37:59.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:59.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:59.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:59.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@718166e9]
2025-12-29T17:37:59.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.395+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:59.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7903c180] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ebfaf28]
2025-12-29T17:37:59.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:59.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63919719 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:37:59.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:59.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e9a3090] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:59.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:59.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1027539588 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:59.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:59.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:59.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:59.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e9a3090]
2025-12-29T17:37:59.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473d710f] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7903c180]
2025-12-29T17:37:59.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1210898376 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:59.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:59.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465e4efe] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:59.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1139184117 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:59.473+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:59.474+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:59.475+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:59.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473d710f]
2025-12-29T17:37:59.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:37:59.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:59.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:37:59.510+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c370f0] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.519+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:37:59.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239076942 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:37:59.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:37:59.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1babf654] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:59.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465e4efe]
2025-12-29T17:37:59.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b78349] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1781375275 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:59.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.557+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@564790975 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:59.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:37:59.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c370f0]
2025-12-29T17:37:59.561+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.568+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:37:59.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:59.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:37:59.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:37:59.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:37:59.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:37:59.602+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:37:59.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b78349]
2025-12-29T17:37:59.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1babf654]
2025-12-29T17:37:59.617+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:37:59.618+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.619+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.620+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:37:59.620+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@134c5569] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6acbe49c] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@986194306 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:59.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@319885737 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:37:59.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c84a622] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:59.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:37:59.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37625266 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:37:59.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:37:59.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:59.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:59.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:37:59.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:37:59.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:59.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@134c5569]
2025-12-29T17:37:59.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6acbe49c]
2025-12-29T17:37:59.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c84a622]
2025-12-29T17:37:59.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:59.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f748ada] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:37:59.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2ffd02] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315075904 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:37:59.644+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@365164307 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2ffd02]
2025-12-29T17:37:59.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f748ada]
2025-12-29T17:37:59.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.661+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:37:59.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e1db4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:37:59.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@102098717 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.687+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:37:59.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:59.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:59.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:59.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:37:59.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e1db4e]
2025-12-29T17:37:59.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:37:59.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e28c7b0] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1168656528 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:37:59.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:37:59.725+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:37:59.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:37:59.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:37:59.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59fe08bd] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:37:59.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e28c7b0]
2025-12-29T17:37:59.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477eedfa] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2144577506 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:37:59.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:37:59.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:37:59.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074503365 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:59.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:37:59.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:37:59.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477eedfa]
2025-12-29T17:37:59.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778ae4aa] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1202439836 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:37:59.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:37:59.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:37:59.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:37:59.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59fe08bd]
2025-12-29T17:37:59.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:37:59.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7450b174] was not registered for synchronization because synchronization is not active
2025-12-29T17:37:59.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2100521200 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:37:59.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:00.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778ae4aa]
2025-12-29T17:38:00.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:00.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19435744] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:00.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:00.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@969690994 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:00.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:00.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:00.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:00.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:00.079+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7450b174]
2025-12-29T17:38:00.082+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:00.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:00.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5617f7] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:00.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19435744]
2025-12-29T17:38:00.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1526515960 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:00.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:00.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:00.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:00.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:00.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:00.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:00.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5617f7]
2025-12-29T17:38:00.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:00.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2dff13] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:00.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1474273486 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:00.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:00.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:00.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:00.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2dff13]
2025-12-29T17:38:00.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:00.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:00.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:01.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:01.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:01.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-29T17:38:01.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:01.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:01.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:01.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:01.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-29T17:38:01.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:01.799+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:01.800+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-29T17:38:01.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-29T17:38:01.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:01.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:01.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:01.816+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:01.817+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ff4486] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:01.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-29T17:38:01.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80c8771] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:01.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:38:01.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:38:01.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:01.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f6fed71] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:01.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2012565259 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:01.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@446854837 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:02.056+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:02.059+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1759552302 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:02.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:02.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:02.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-29T17:38:02.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-29T17:38:02.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:02.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-29T17:38:02.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:02.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:02.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f6fed71]
2025-12-29T17:38:02.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ff4486]
2025-12-29T17:38:02.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80c8771]
2025-12-29T17:38:02.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:02.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:02.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:02.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:02.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c9ee4c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:02.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31969c8] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:02.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:02.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1462076270 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:02.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-29T17:38:02.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1241442511 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:02.111+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:02.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:02.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-29T17:38:02.118+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:02.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-29T17:38:02.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:02.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-29T17:38:02.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-29T17:38:02.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:38:02.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:38:02.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:02.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17df1879] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:02.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:02.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:02.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488601956 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:02.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31969c8]
2025-12-29T17:38:02.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c9ee4c3]
2025-12-29T17:38:02.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-29T17:38:02.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:02.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:02.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dbdac75] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:02.154+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-29T17:38:02.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:02.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973605667 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:02.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:02.165+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:02.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:02.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:02.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-29T17:38:02.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dbdac75]
2025-12-29T17:38:02.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17df1879]
2025-12-29T17:38:02.194+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:02.195+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:02.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a413ed7] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:02.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:02.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1515185646 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:02.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:02.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:02.221+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:02.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:02.241+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a413ed7]
2025-12-29T17:38:02.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:02.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:02.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:11.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:11.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:11.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:11.833+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:38:11.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:11.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:12.044+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:12.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:38:12.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:38:12.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:12.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:12.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:12.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:12.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:38:12.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:12.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:12.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:12.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:38:12.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:12.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:12.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.428+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c05a83] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242a6c55] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a82c449] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4d668d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257177619 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:12.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868122879 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:12.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554716766 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:12.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648907302 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:12.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:12.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:12.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:12.552+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:12.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:12.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:12.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:12.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:12.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:12.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:12.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:12.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:12.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242a6c55]
2025-12-29T17:38:12.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4d668d]
2025-12-29T17:38:12.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a82c449]
2025-12-29T17:38:12.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c05a83]
2025-12-29T17:38:12.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:12.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfb123b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47cd7d8a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:38:12.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3479779a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.678+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2085264021 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:12.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102838243 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:12.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:12.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794039436 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:12.799+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:12.798+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:12.799+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:12.800+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:12.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:12.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:12.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:12.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3479779a]
2025-12-29T17:38:12.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:12.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5206306f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:12.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@767313938 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:12.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:12.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:12.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:13.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfb123b]
2025-12-29T17:38:13.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:13.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:13.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47cd7d8a]
2025-12-29T17:38:13.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5206306f]
2025-12-29T17:38:13.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@92b134] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.028+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:13.030+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1170018775 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:13.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:13.033+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55698778] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:13.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:13.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@906969330 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:13.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:13.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:13.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:13.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:13.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@92b134]
2025-12-29T17:38:13.089+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:13.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf9e3ab] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:13.093+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158857745 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:13.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:13.095+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:13.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:13.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:13.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:13.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cf8cb1] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:13.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55698778]
2025-12-29T17:38:13.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:13.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:13.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf9e3ab]
2025-12-29T17:38:13.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:13.127+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:13.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147cdd96] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1204518921 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:13.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1910073936 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:13.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:13.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:13.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:13.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:13.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:13.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:13.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:13.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:13.450+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cf8cb1]
2025-12-29T17:38:13.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5314769b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147cdd96]
2025-12-29T17:38:13.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:13.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1369324429 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:13.465+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:13.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed6c980] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:13.467+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:13.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823750049 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:13.472+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:13.477+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:13.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.486+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:13.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2505b0a6] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:13.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:13.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5314769b]
2025-12-29T17:38:13.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed6c980]
2025-12-29T17:38:13.552+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:13.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5471c44c] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@746594210 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:13.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:13.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084801931 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:13.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:13.676+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:13.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:13.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:13.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:13.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:13.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:13.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:13.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:13.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5471c44c]
2025-12-29T17:38:13.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2505b0a6]
2025-12-29T17:38:13.832+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:13.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:13.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:13.833+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:13.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:13.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb52d07] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7b19c5] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:13.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@300644869 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:13.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@509973066 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:13.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:13.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:13.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:13.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:13.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:13.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:13.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7b19c5]
2025-12-29T17:38:13.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:13.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb52d07]
2025-12-29T17:38:13.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e357c0] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@9751400 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:13.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:13.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:13.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:13.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:13.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53874369] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:13.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:13.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1971097867 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:13.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:13.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:13.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@309fe753] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:13.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:14.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:14.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884912017 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:14.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:14.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e357c0]
2025-12-29T17:38:14.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:14.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53874369]
2025-12-29T17:38:14.282+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:14.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:14.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.283+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:14.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520ebd25] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:14.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@997924870 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:14.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:14.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:14.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:14.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@309fe753]
2025-12-29T17:38:14.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d786dc1] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1939936348 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:14.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:14.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:14.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:14.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d786dc1]
2025-12-29T17:38:14.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:14.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520ebd25]
2025-12-29T17:38:14.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb74db3] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:14.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1367293921 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:14.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:14.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:14.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:14.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:14.451+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:14.502+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:14.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:14.527+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb74db3]
2025-12-29T17:38:14.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19498450] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@740726815 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:14.528+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:14.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:14.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:14.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:14.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:14.544+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e7f9d21] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.568+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286023239 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:14.568+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:14.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:14.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:14.592+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19498450]
2025-12-29T17:38:14.592+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108edc58] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160818973 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:14.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:14.600+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:14.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:14.640+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e7f9d21]
2025-12-29T17:38:14.647+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:14.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108edc58]
2025-12-29T17:38:14.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2805ca1d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705809577 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:14.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:14.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2867aa72] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315819322 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:14.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:14.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:14.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:14.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:14.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:14.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2805ca1d]
2025-12-29T17:38:14.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2867aa72]
2025-12-29T17:38:14.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582967ab] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@228999aa] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585060753 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:14.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925406131 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:14.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:14.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:14.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:14.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:14.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:14.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:14.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582967ab]
2025-12-29T17:38:14.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@228999aa]
2025-12-29T17:38:14.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:14.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:14.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41836ced] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:14.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:14.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384402761 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:14.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:14.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:14.845+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:14.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:14.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41836ced]
2025-12-29T17:38:14.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:14.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:14.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:17.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-29T17:38:17.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-29T17:38:17.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-29T17:38:17.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:17.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:17.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:38:17.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:17.297+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:38:17.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:17.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-29T17:38:17.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-29T17:38:17.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:17.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:38:17.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:17.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-29T17:38:17.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-29T17:38:17.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-29T17:38:17.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-29T17:38:17.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:17.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:38:17.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:38:17.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:17.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-29T17:38:17.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-29T17:38:17.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:17.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fa00d2] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4589d5a2] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.326+09:00  INFO 52248 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-29T17:38:17.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c85b1a0] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-29T17:38:17.327+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:17.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-29T17:38:17.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572603429 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:17.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:17.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@268835734 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:17.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845800644 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:17.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:17.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33dba152] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:17.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:17.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:17.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a745b75] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:17.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1667866803 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:17.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:17.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:17.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068320299 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:17.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:17.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fa00d2]
2025-12-29T17:38:17.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:17.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:17.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:17.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c85b1a0]
2025-12-29T17:38:17.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:17.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4589d5a2]
2025-12-29T17:38:17.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:17.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-29T17:38:17.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:38:17.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33dba152]
2025-12-29T17:38:17.368+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9b82ea] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:17.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11868f4] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2141130756 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:17.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-29T17:38:17.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272009555 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:17.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c689d93] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:17.378+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a745b75]
2025-12-29T17:38:17.379+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:17.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37065819 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:17.383+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:17.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:17.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:17.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:17.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:17.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:17.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:17.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:17.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9b82ea]
2025-12-29T17:38:17.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:17.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11868f4]
2025-12-29T17:38:17.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.393+09:00  INFO 52248 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1, role: CEO
2025-12-29T17:38:17.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6cf784] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:17.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:17.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527526677 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:17.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-29T17:38:17.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c689d93]
2025-12-29T17:38:17.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:17.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:17.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:17.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:17.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:17.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-29T17:38:17.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:17.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-29T17:38:17.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-29T17:38:17.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:17.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-29T17:38:17.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6cf784]
2025-12-29T17:38:17.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-29T17:38:17.415+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.416+09:00  INFO 52248 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-29T17:38:17.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c3a0b23] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1456472567 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:17.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30930b9c] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:17.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589215469 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:17.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:17.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:17.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:17.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:17.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c3a0b23]
2025-12-29T17:38:17.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:17.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:17.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:17.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30930b9c]
2025-12-29T17:38:17.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:17.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:17.431+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee3d958] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:17.432+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1988425459 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:17.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:17.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:17.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:17.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee3d958]
2025-12-29T17:38:17.441+09:00  INFO 52248 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1, role: CEO
2025-12-29T17:38:17.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:17.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-29T17:38:17.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:23.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:23.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:23.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:23.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:38:23.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:23.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:23.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:23.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:38:23.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:38:23.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:23.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:23.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:23.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:23.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:23.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:38:23.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:23.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a83a85] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:23.779+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:23.782+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:23.783+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:38:23.800+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:23.801+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:23.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:23.810+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:23.811+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:23.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f027129] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:23.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@417a948e] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:23.820+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f1a616] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:23.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1536698485 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:23.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:23.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:23.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931286714 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:23.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937793610 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:23.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273551223 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:23.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:23.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:23.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:23.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:23.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:23.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:23.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:23.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a83a85]
2025-12-29T17:38:23.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:23.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c7d5a3] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:23.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1240397678 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:23.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:23.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:23.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:23.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:23.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:23.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:23.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@417a948e]
2025-12-29T17:38:23.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f027129]
2025-12-29T17:38:23.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c7d5a3]
2025-12-29T17:38:23.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f1a616]
2025-12-29T17:38:23.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:23.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:23.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6deaf45d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:23.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:23.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:23.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:38:23.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1975236083 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:23.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:23.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bfc307f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:23.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:23.977+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:23.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:23.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1361894060 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:23.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:23.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:23.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:24.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.059+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:24.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6deaf45d]
2025-12-29T17:38:24.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bfc307f]
2025-12-29T17:38:24.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:24.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.092+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:24.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5b4f83] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dbf382a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:24.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615061513 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931823658 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:24.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:24.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:24.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:24.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:24.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:24.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d89433] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1146611438 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:24.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:24.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:24.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:24.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:24.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dbf382a]
2025-12-29T17:38:24.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5b4f83]
2025-12-29T17:38:24.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52df74cc] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1445296341 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:24.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:24.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:24.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:24.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68530f5d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d89433]
2025-12-29T17:38:24.358+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749761155 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37a8397a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:24.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368270000 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:24.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52df74cc]
2025-12-29T17:38:24.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:24.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:24.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:24.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:24.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:24.396+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:24.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:24.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68530f5d]
2025-12-29T17:38:24.445+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:24.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37a8397a]
2025-12-29T17:38:24.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:24.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652fcc2d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:24.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368451122 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:24.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:24.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:24.460+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:24.461+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:24.466+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:24.459+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:24.469+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:24.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.471+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4b8806] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@352250697 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:24.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.531+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:24.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:24.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652fcc2d]
2025-12-29T17:38:24.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:24.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:24.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:24.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d0ac48] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:24.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1258642651 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:24.578+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:24.583+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:24.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:24.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4b8806]
2025-12-29T17:38:24.593+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eaff98f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.600+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@766a555f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.600+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@212719481 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:24.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:24.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:24.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1205067923 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:24.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:24.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:24.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@766a555f]
2025-12-29T17:38:24.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d0ac48]
2025-12-29T17:38:24.645+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:24.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f5a9096] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e19d5cc] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1539236495 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:24.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1811844267 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:24.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:24.677+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:24.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:24.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eaff98f]
2025-12-29T17:38:24.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:24.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c0ac80] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276542373 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:24.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:24.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:24.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e19d5cc]
2025-12-29T17:38:24.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f5a9096]
2025-12-29T17:38:24.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:24.701+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:24.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:24.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91e440] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:24.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@727980772 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:24.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:24.744+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:24.751+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c0ac80]
2025-12-29T17:38:24.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:24.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:24.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:24.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:24.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:24.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:24.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:24.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:24.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:24.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.777+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13916d1b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24145055 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:24.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91e440]
2025-12-29T17:38:24.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:24.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:24.804+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:24.807+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:24.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:24.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13916d1b]
2025-12-29T17:38:24.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:24.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d790c70] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.827+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:24.827+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@630736753 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:24.833+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:24.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:24.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:24.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:24.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:24.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d790c70]
2025-12-29T17:38:24.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@448d4f54] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d43125] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828559673 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:24.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@688009408 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:24.961+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:24.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:24.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:24.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:24.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:24.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@448d4f54]
2025-12-29T17:38:24.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d43125]
2025-12-29T17:38:24.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:24.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e73a2d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66723a87] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:24.994+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@691941994 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:24.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1133987607 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:25.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:25.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:25.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:25.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:25.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:25.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:25.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66723a87]
2025-12-29T17:38:25.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:25.016+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147836ac] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:25.011+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e73a2d]
2025-12-29T17:38:25.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:25.017+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663668390 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:25.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:25.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6a5cfb] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:25.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:25.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1407333673 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:25.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:25.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:25.033+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:25.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147836ac]
2025-12-29T17:38:25.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:25.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:25.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6a5cfb]
2025-12-29T17:38:25.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e2cfba2] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:25.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:25.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1798596509 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:25.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135695ef] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:25.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:25.044+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753180410 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:25.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:25.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:25.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:25.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:25.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:25.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e2cfba2]
2025-12-29T17:38:25.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135695ef]
2025-12-29T17:38:25.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:25.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:25.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:25.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4cadaa] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:25.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:25.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098373345 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:25.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:25.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:25.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:25.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4cadaa]
2025-12-29T17:38:25.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:25.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:25.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:30.605+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:30.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:30.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-29T17:38:30.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:30.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:30.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:30.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-29T17:38:30.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:30.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:30.617+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:30.617+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-29T17:38:30.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:30.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:30.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-29T17:38:30.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f6ba0d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.627+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.627+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-29T17:38:30.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30afc414] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.660+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@521402349 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:30.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:30.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:30.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:30.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:30.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ecb6ebe] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@556048837 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:30.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:30.692+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:30.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f6ba0d]
2025-12-29T17:38:30.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:30.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53876050] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.700+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1357663722 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:30.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2057216383 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:30.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:30.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-29T17:38:30.718+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:30.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:30.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:38:30.720+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30afc414]
2025-12-29T17:38:30.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9d9932] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.734+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@160310867 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:30.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:30.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:30.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.M.findByCompanyId                : <==      Total: 0
2025-12-29T17:38:30.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:30.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ecb6ebe]
2025-12-29T17:38:30.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53876050]
2025-12-29T17:38:30.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:30.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:30.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:30.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:30.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9d9932]
2025-12-29T17:38:30.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:30.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:30.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:30.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0df1e9] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.776+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283170579 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:30.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:30.827+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:30.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-29T17:38:30.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-29T17:38:30.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:30.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-29T17:38:30.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0df1e9]
2025-12-29T17:38:30.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-29T17:38:30.869+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-29T17:38:30.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db7d93c] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:30.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1010103770 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:30.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:30.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:30.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:30.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:30.878+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13816832] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:30.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:30.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1196372933 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:30.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db7d93c]
2025-12-29T17:38:30.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-29T17:38:30.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:30.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:38:30.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:30.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:30.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.M.findByCompanyId                : <==      Total: 0
2025-12-29T17:38:30.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13816832]
2025-12-29T17:38:30.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:30.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:30.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:36.733+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/monthly-closing/close
2025-12-29T17:38:36.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/monthly-closing/close
2025-12-29T17:38:36.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/close
2025-12-29T17:38:36.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/monthly-closing/close
2025-12-29T17:38:36.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/monthly-closing/close", parameters={}
2025-12-29T17:38:36.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#closeMonth(Map)
2025-12-29T17:38:36.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{year=2025, month=4}]
2025-12-29T17:38:36.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.closeMonth(java.util.Map); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:36.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.closeMonth(java.util.Map); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:36.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:36.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9]
2025-12-29T17:38:36.754+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273371325 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will be managed by Spring
2025-12-29T17:38:36.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.MonthlyClosingMapper.isClosed    : ==>  Preparing: SELECT COUNT(*) > 0 FROM monthly_closing_tb WHERE company_id = ? AND closing_year = ? AND closing_month = ? AND is_closed = 1
2025-12-29T17:38:36.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.MonthlyClosingMapper.isClosed    : ==> Parameters: 1(Long), 2025(Integer), 4(Integer)
2025-12-29T17:38:36.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.MonthlyClosingMapper.isClosed    : <==      Total: 1
2025-12-29T17:38:36.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9]
2025-12-29T17:38:36.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9] from current transaction
2025-12-29T17:38:36.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.MonthlyClosingMapper.insert      : ==>  Preparing: INSERT INTO monthly_closing_tb ( company_id, closing_year, closing_month, closed_by, closed_at, is_closed ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-29T17:38:36.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.MonthlyClosingMapper.insert      : ==> Parameters: 1(Long), 2025(Integer), 4(Integer), 1(Long), 2025-12-29T17:38:36.758473600(LocalDateTime), true(Boolean)
2025-12-29T17:38:36.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.MonthlyClosingMapper.insert      : <==    Updates: 1
2025-12-29T17:38:36.778+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9]
2025-12-29T17:38:36.784+09:00  INFO 52248 --- [http-nio-8080-exec-10] c.i.b.service.MonthlyClosingService      : 월 마감 처리 완료 - companyId: 1, year: 2025, month: 4, userId: 1
2025-12-29T17:38:36.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9] from current transaction
2025-12-29T17:38:36.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.M.findByCompanyAndDate           : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? AND mc.closing_year = ? AND mc.closing_month = ?
2025-12-29T17:38:36.785+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.M.findByCompanyAndDate           : ==> Parameters: 1(Long), 2025(Integer), 4(Integer)
2025-12-29T17:38:36.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.M.findByCompanyAndDate           : <==      Total: 1
2025-12-29T17:38:36.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9]
2025-12-29T17:38:36.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9]
2025-12-29T17:38:36.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9]
2025-12-29T17:38:36.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580df7a9]
2025-12-29T17:38:36.820+09:00  INFO 52248 --- [http-nio-8080-exec-10] c.i.b.c.MonthlyClosingController         : 월 마감 처리 완료 - year: 2025, month: 4, userId: 1
2025-12-29T17:38:36.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:36.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=월 마감이 완료되었습니다., data=MonthlyClosingDto(closingId=1, companyId=1, c (truncated)...]
2025-12-29T17:38:36.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:37.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-29T17:38:37.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-29T17:38:37.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-29T17:38:37.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-29T17:38:37.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-29T17:38:37.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:37.711+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:37.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:37.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c60934b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:37.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1139664397 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:37.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-29T17:38:37.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:38:37.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.M.findByCompanyId                : <==      Total: 1
2025-12-29T17:38:37.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c60934b]
2025-12-29T17:38:37.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:37.761+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[MonthlyClosingDto(closingId=1, companyId=1, closingYe (truncated)...]
2025-12-29T17:38:37.762+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:43.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/monthly-closing/reopen/1
2025-12-29T17:38:43.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/monthly-closing/reopen/1
2025-12-29T17:38:43.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/reopen/1
2025-12-29T17:38:43.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/monthly-closing/reopen/1
2025-12-29T17:38:43.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/monthly-closing/reopen/1", parameters={}
2025-12-29T17:38:43.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#reopenMonth(Long)
2025-12-29T17:38:43.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.reopenMonth(java.lang.Long); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:43.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.reopenMonth(java.lang.Long); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:43.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:43.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5fa94]
2025-12-29T17:38:43.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322937069 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will be managed by Spring
2025-12-29T17:38:43.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.MonthlyClosingMapper.findById    : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.closing_id = ? AND mc.company_id = ?
2025-12-29T17:38:43.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.MonthlyClosingMapper.findById    : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:43.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.MonthlyClosingMapper.findById    : <==      Total: 1
2025-12-29T17:38:43.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5fa94]
2025-12-29T17:38:43.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5fa94] from current transaction
2025-12-29T17:38:43.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.MonthlyClosingMapper.reopen      : ==>  Preparing: UPDATE monthly_closing_tb SET is_closed = 0, updated_at = NOW() WHERE closing_id = ? AND company_id = ?
2025-12-29T17:38:43.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.MonthlyClosingMapper.reopen      : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:43.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.MonthlyClosingMapper.reopen      : <==    Updates: 1
2025-12-29T17:38:43.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5fa94]
2025-12-29T17:38:43.938+09:00  INFO 52248 --- [http-nio-8080-exec-8] c.i.b.service.MonthlyClosingService      : 월 마감 해제 완료 - closingId: 1, userId: 1
2025-12-29T17:38:43.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5fa94]
2025-12-29T17:38:43.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5fa94]
2025-12-29T17:38:43.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5fa94]
2025-12-29T17:38:43.951+09:00  INFO 52248 --- [http-nio-8080-exec-8] c.i.b.c.MonthlyClosingController         : 월 마감 해제 완료 - closingId: 1, userId: 1
2025-12-29T17:38:43.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:43.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=월 마감이 해제되었습니다., data=null)]
2025-12-29T17:38:43.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:44.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-29T17:38:44.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-29T17:38:44.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-29T17:38:44.844+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-29T17:38:44.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-29T17:38:44.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:44.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-29T17:38:44.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:44.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@768ec759] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:44.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@570270646 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:44.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-29T17:38:44.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:38:44.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.M.findByCompanyId                : <==      Total: 1
2025-12-29T17:38:44.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@768ec759]
2025-12-29T17:38:44.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:44.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[MonthlyClosingDto(closingId=1, companyId=1, closingYe (truncated)...]
2025-12-29T17:38:44.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:46.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:46.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:38:46.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:46.883+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:46.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:46.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:46.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:38:46.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:46.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:46.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:46.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:38:46.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:46.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:46.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:46.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:38:46.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:46.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:46.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:46.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:38:46.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:46.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9f30e] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64f3e39f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa91240] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a026790] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@896918554 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:46.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081364746 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:46.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@268015046 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:46.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1051125195 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:46.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:46.900+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:46.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:46.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:46.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:46.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:46.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:46.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:46.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:46.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:46.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:46.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:46.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9f30e]
2025-12-29T17:38:46.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa91240]
2025-12-29T17:38:46.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a026790]
2025-12-29T17:38:46.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64f3e39f]
2025-12-29T17:38:46.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:46.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:38:46.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41de6ff7] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f21d2] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1671e1] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:46.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1701753243 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:46.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387076640 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:46.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@231355535 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:46.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:46.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:46.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:46.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:46.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:46.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:46.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:46.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:46.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:46.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41de6ff7]
2025-12-29T17:38:46.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f21d2]
2025-12-29T17:38:46.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1671e1]
2025-12-29T17:38:46.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:46.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.943+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.944+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:46.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a6377b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7924d400] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:46.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819059692 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:46.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427188668 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:46.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:46.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:46.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:46.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:46.960+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:46.966+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:46.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:46.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:46.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:46.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7924d400]
2025-12-29T17:38:46.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:46.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:46.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db5419f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a6377b]
2025-12-29T17:38:46.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d278ae1] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317589757 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:46.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1538393558 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:46.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:46.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c947da6] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:46.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:46.974+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:46.978+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130700236 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:46.980+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:46.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:46.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:46.982+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:46.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db5419f]
2025-12-29T17:38:46.984+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d278ae1]
2025-12-29T17:38:46.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:46.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f52422e] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:46.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2bed21] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:46.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@948722146 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:46.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c947da6]
2025-12-29T17:38:46.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1850347687 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:46.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:46.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:46.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:46.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:46.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:46.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:46.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:46.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:47.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:47.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:47.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f52422e]
2025-12-29T17:38:47.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2bed21]
2025-12-29T17:38:47.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:47.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.003+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:47.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:47.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606d3944] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:47.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:47.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@761484373 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:47.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:47.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:47.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:47.010+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3443e7aa] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.015+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:47.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@89867677 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:47.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:47.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:47.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:47.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:47.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:47.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606d3944]
2025-12-29T17:38:47.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:47.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15604a34] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@474932933 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:47.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.023+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:47.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:47.026+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f1dac7] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.027+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3443e7aa]
2025-12-29T17:38:47.029+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@433720720 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:47.031+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:47.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162ae3e3] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:47.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1031743547 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:47.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15604a34]
2025-12-29T17:38:47.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:47.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:47.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:47.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f1dac7]
2025-12-29T17:38:47.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:47.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1edef6c] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162ae3e3]
2025-12-29T17:38:47.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:47.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744962676 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:47.043+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ddb00] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:47.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:47.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502865545 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:47.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:47.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:47.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:47.053+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:47.059+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:47.060+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:47.061+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6942e1ff] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:47.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1edef6c]
2025-12-29T17:38:47.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:47.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:47.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:47.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841704546 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:47.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:47.077+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ddb00]
2025-12-29T17:38:47.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:47.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:47.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42467ac] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910424563 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:47.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.090+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:47.094+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6942e1ff]
2025-12-29T17:38:47.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42467ac]
2025-12-29T17:38:47.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57d210f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@382449648 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:47.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:47.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:47.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:47.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:47.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:47.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57d210f]
2025-12-29T17:38:47.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:47.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:47.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423057cb] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:47.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774464475 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:47.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:47.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db3afbc] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:47.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344485861 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:47.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:47.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:47.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:47.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423057cb]
2025-12-29T17:38:47.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:47.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1c6e98] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db3afbc]
2025-12-29T17:38:47.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127751327 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:47.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:47.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df67c8a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:47.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1835592391 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:47.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.143+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:47.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df67c8a]
2025-12-29T17:38:47.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1c6e98]
2025-12-29T17:38:47.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5ee830] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fecbd61] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1396886845 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:47.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@307851946 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:47.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:47.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:47.153+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:47.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5ee830]
2025-12-29T17:38:47.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fecbd61]
2025-12-29T17:38:47.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.160+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3583d71e] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.160+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e7f36c] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.161+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532063990 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:47.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237999044 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:47.167+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.167+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:47.167+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.168+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:47.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:47.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3583d71e]
2025-12-29T17:38:47.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e7f36c]
2025-12-29T17:38:47.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:47.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:47.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:47.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c063b86] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:47.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:47.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10932217 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:47.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:47.183+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:47.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:47.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c063b86]
2025-12-29T17:38:47.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:47.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:47.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:49.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-29T17:38:49.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:49.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/budget/list
2025-12-29T17:38:49.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:49.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:49.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:49.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-29T17:38:49.343+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-29T17:38:49.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:49.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:49.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:49.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-29T17:38:49.382+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:49.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:38:49.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:49.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:38:49.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56a5793d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:49.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bc47033] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@376294662 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:49.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7dd909] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.394+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:49.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690326451 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:49.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:49.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-29T17:38:49.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@505868464 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:49.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-29T17:38:49.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:49.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:49.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:49.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56a5793d]
2025-12-29T17:38:49.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34dcc429] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-29T17:38:49.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:49.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@681009181 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:49.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bc47033]
2025-12-29T17:38:49.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7dd909]
2025-12-29T17:38:49.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:49.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:49.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:49.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b76cfdd] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:49.410+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968139214 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:49.411+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:49.414+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:49.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:49.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:49.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-29T17:38:49.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34dcc429]
2025-12-29T17:38:49.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:49.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/budget/list
2025-12-29T17:38:49.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:49.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b76cfdd]
2025-12-29T17:38:49.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-29T17:38:49.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:49.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-29T17:38:49.425+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6965bf56] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:49.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-29T17:38:49.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684053376 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:49.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:49.429+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:38:49.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:49.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-29T17:38:49.435+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8a6141] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:49.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6965bf56]
2025-12-29T17:38:49.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:49.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b324796] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:49.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348876547 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:49.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609155753 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:49.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-29T17:38:49.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:49.448+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-29T17:38:49.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:49.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:49.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b324796]
2025-12-29T17:38:49.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:49.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-29T17:38:49.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:49.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8a6141]
2025-12-29T17:38:49.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:49.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:49.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:49.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:51.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:51.277+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:51.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:51.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:51.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:51.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1b0fc6] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814238593 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:51.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:51.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:51.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1b0fc6]
2025-12-29T17:38:51.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aea69b7] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1228855950 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:51.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:51.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:51.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aea69b7]
2025-12-29T17:38:51.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb278fd] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464606541 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:51.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:51.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:51.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb278fd]
2025-12-29T17:38:51.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.326+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11db6ff4] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@213096610 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:51.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:51.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:51.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11db6ff4]
2025-12-29T17:38:51.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1925bfbd] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1405867938 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:51.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:51.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:51.344+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1925bfbd]
2025-12-29T17:38:51.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:51.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af6e1b2] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:51.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1578791686 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:51.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:51.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:51.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:51.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:51.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3db60b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:51.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af6e1b2]
2025-12-29T17:38:51.364+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.361+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1921567018 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:51.364+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f9da96] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:51.365+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@610226026 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:51.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:51.368+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:51.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:51.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:51.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f9da96]
2025-12-29T17:38:51.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3db60b]
2025-12-29T17:38:51.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:51.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:51.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c74a868] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1053663240 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:51.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:51.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:51.377+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:51.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:51.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c74a868]
2025-12-29T17:38:51.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.387+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43289ff3] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@449206294 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:51.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:51.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:51.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:51.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:51.393+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:51.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:51.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:51.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:51.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab54773] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43289ff3]
2025-12-29T17:38:51.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@456d300] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1902931377 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:51.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@50725758 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:51.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:51.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:51.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:51.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:51.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:51.418+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:51.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@456d300]
2025-12-29T17:38:51.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab54773]
2025-12-29T17:38:51.419+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:51.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:51.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74582b77] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:51.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061859157 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:51.424+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:51.426+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:51.427+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:51.432+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74582b77]
2025-12-29T17:38:51.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:51.433+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:51.434+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:51.440+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:38:51.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:38:51.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:38:51.441+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:38:51.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:38:51.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:51.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c01f51] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:51.443+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58594658 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:51.444+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:51.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:51.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:51.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c01f51]
2025-12-29T17:38:51.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:51.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:38:51.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.534+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:55.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:55.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:55.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:55.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:55.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:38:55.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:55.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:55.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:55.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:55.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:38:55.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:55.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:55.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.543+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129c8728] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:55.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:38:55.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:38:55.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:55.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:55.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:38:55.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:55.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@329714067 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:55.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.561+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76788b40] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.566+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:55.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70020f15] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.573+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70f8754a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.574+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:55.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@765499797 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:55.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961377251 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:55.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833186672 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:55.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:55.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:55.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:55.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:55.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129c8728]
2025-12-29T17:38:55.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:55.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:55.592+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:55.592+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.594+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:55.598+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:55.599+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aeb03ec] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.600+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70f8754a]
2025-12-29T17:38:55.600+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76788b40]
2025-12-29T17:38:55.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670090106 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:55.601+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.602+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f6961b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@484ca7c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794868740 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:55.609+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@692229532 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:55.610+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:55.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.634+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:55.627+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70020f15]
2025-12-29T17:38:55.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:55.636+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:38:55.641+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:55.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.643+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@484ca7c3]
2025-12-29T17:38:55.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f6961b]
2025-12-29T17:38:55.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aeb03ec]
2025-12-29T17:38:55.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.653+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:55.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626a7d13] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c34054] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1739159819 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:55.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628819363 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:55.669+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:55.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:55.670+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:55.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:55.674+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:55.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:55.675+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:55.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:55.683+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:55.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705c2dd8] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:55.688+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:55.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c34054]
2025-12-29T17:38:55.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626a7d13]
2025-12-29T17:38:55.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745262012 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:55.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490af2e8] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.691+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4343c6ba] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:55.693+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269671037 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:55.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1928374564 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:55.701+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.701+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:55.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:55.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:55.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705c2dd8]
2025-12-29T17:38:55.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6843a97a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1332375690 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.707+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:55.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:55.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490af2e8]
2025-12-29T17:38:55.708+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4343c6ba]
2025-12-29T17:38:55.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:55.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.709+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:55.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5a8223] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.712+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1920067428 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:55.718+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.717+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:55.718+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.718+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:55.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6843a97a]
2025-12-29T17:38:55.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:55.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5a8223]
2025-12-29T17:38:55.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:55.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:55.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:55.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3409a917] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.726+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:55.727+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:55.728+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337552431 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:55.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:55.731+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.732+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:55.733+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:55.733+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ecba2ed] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.733+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:55.735+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:55.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:55.736+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:55.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.737+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3409a917]
2025-12-29T17:38:55.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a1fae7] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112126716 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136374671 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:55.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:55.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4986ee5c] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.739+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:55.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:55.740+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@809412458 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:38:55.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:55.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.742+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:55.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ecba2ed]
2025-12-29T17:38:55.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:55.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b07ff3d] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4986ee5c]
2025-12-29T17:38:55.751+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a1fae7]
2025-12-29T17:38:55.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037274284 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.752+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:55.753+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e93c2b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.755+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.756+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1273269779 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:55.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:55.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:55.764+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:38:55.767+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:55.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e93c2b]
2025-12-29T17:38:55.767+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:38:55.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b07ff3d]
2025-12-29T17:38:55.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:38:55.790+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:55.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.793+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:38:55.795+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a89775] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:38:55.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097314666 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:55.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:55.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214f4365] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@322132639 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.814+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:55.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:55.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:55.833+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a89775]
2025-12-29T17:38:55.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:55.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214f4365]
2025-12-29T17:38:55.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcdaa08] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313760187 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb6987a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@398048994 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.842+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcdaa08]
2025-12-29T17:38:55.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb6987a]
2025-12-29T17:38:55.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:55.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53345290] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:55.864+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725181892 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:55.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:55.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:55.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:55.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:55.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:55.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:55.881+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6533ce] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@986948294 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:55.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:55.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53345290]
2025-12-29T17:38:55.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:55.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5012394b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558055691 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:38:55.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:38:55.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:55.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6533ce]
2025-12-29T17:38:55.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3795484a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@289990197 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:38:55.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5012394b]
2025-12-29T17:38:55.908+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c83dd83] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496660281 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3795484a]
2025-12-29T17:38:55.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37de4b0e] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705991335 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:55.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:55.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c83dd83]
2025-12-29T17:38:55.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4702b4e0] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86967878 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:55.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:38:55.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:55.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37de4b0e]
2025-12-29T17:38:55.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe8eca2] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1512784490 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:55.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:38:55.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4702b4e0]
2025-12-29T17:38:55.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:55.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:55.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cebbb7b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:55.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe8eca2]
2025-12-29T17:38:55.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855765938 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:38:55.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:55.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:55.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:55.991+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:55.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:56.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:56.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cebbb7b]
2025-12-29T17:38:56.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:56.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:38:56.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:57.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-29T17:38:57.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:38:57.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:57.863+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:38:57.864+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:38:57.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-29T17:38:57.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-29T17:38:57.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-29T17:38:57.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-29T17:38:57.861+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:38:57.865+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:38:57.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:38:57.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:38:57.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:38:57.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:38:57.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1acb824a] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:38:57.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d945a4] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:38:57.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172478836 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:38:57.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130441878 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:57.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b28e8b] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-29T17:38:57.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:38:57.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:38:57.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:38:57.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1725646460 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:57.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:38:57.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2025-12-29T17:38:57.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:38:57.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1acb824a]
2025-12-29T17:38:57.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:38:57.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:57.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d945a4]
2025-12-29T17:38:57.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:57.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:57.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:38:57.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a12c75] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-29T17:38:57.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b28e8b]
2025-12-29T17:38:57.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732117434 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:57.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-29T17:38:57.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:57.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-29T17:38:57.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@502fe966] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:57.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-29T17:38:57.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452926906 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:38:57.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-29T17:38:57.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:38:57.929+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:38:57.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:38:57.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:38:57.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@668c076e] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:57.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a12c75]
2025-12-29T17:38:57.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:38:57.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.938+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127091883 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:38:57.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@502fe966]
2025-12-29T17:38:57.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464a500f] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-29T17:38:57.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:57.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@661200439 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:57.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:38:57.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:57.941+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:38:57.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:57.942+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:38:57.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2025-12-29T17:38:57.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:38:57.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@668c076e]
2025-12-29T17:38:57.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464a500f]
2025-12-29T17:38:57.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:57.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:38:57.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:38:57.952+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11bf11d1] was not registered for synchronization because synchronization is not active
2025-12-29T17:38:57.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:38:57.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90300865 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:38:57.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:38:57.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:38:57.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:38:57.957+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11bf11d1]
2025-12-29T17:38:57.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:38:57.958+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:38:57.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:00.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:00.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:00.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:39:00.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:00.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:39:00.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:00.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:00.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:00.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:39:00.968+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:00.969+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:39:00.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:39:00.974+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:39:00.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:00.975+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:00.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:39:00.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:00.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:00.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:00.983+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694c7f5f] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:00.974+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:39:00.975+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ea0693] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:00.976+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:39:00.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:00.987+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:39:00.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efee765] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:00.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:00.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44895ce5] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:00.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@42057020 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:00.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@4447817 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:00.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243615645 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:00.992+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1375976833 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:01.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:00.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:01.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:01.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:01.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:01.049+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:01.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:01.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:01.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:01.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:01.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:01.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ea0693]
2025-12-29T17:39:01.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694c7f5f]
2025-12-29T17:39:01.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44895ce5]
2025-12-29T17:39:01.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efee765]
2025-12-29T17:39:01.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c7002ee] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.126+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74211723] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d997cf] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.130+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:39:01.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150250638 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:01.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:01.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1621071977 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@505205343 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:01.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:01.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:01.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c7002ee]
2025-12-29T17:39:01.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d997cf]
2025-12-29T17:39:01.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74211723]
2025-12-29T17:39:01.172+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.173+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.173+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.173+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:01.173+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a3760e] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f301b2] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1600839706 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:01.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.176+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@362253216 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:01.177+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:01.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:01.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:01.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:01.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:01.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:01.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:01.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:01.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a3760e]
2025-12-29T17:39:01.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:01.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:01.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1248f102] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f301b2]
2025-12-29T17:39:01.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024928835 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:01.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753a1768] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:01.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762275985 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@720122bf] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:01.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:01.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@59655132 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:01.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:01.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:01.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1248f102]
2025-12-29T17:39:01.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753a1768]
2025-12-29T17:39:01.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@720122bf]
2025-12-29T17:39:01.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35f692b8] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1505be] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625535973 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:01.210+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:01.211+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2133969091 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.216+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.216+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.218+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.217+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:01.219+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:01.221+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:01.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:01.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:01.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:01.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1505be]
2025-12-29T17:39:01.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35f692b8]
2025-12-29T17:39:01.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:01.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.227+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:01.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:01.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a32d592] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.234+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2077293374 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:01.234+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab422b9] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:01.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:01.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:01.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:01.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728070391 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.241+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:01.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:01.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:01.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:01.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a32d592]
2025-12-29T17:39:01.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf9e440] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:01.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:01.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1191918312 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:01.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.256+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7209ff7b] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:01.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab422b9]
2025-12-29T17:39:01.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1393759129 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:01.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:01.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf9e440]
2025-12-29T17:39:01.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:01.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@574c8215] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:39:01.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1007076271 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:01.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7209ff7b]
2025-12-29T17:39:01.285+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dda292e] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.279+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:39:01.281+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1469605582 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:01.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:01.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:01.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:39:01.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:39:01.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:39:01.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:39:01.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:01.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@574c8215]
2025-12-29T17:39:01.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dda292e]
2025-12-29T17:39:01.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cebd57f] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65eab789] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:01.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@320896861 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451613451 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:01.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:01.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:01.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:01.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:01.308+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:01.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65eab789]
2025-12-29T17:39:01.309+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cebd57f]
2025-12-29T17:39:01.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45998e23] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.310+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.314+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1971269606 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:01.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dca947f] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.316+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869150356 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.319+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45998e23]
2025-12-29T17:39:01.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dca947f]
2025-12-29T17:39:01.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:01.324+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aaf11bd] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.328+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134499835 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:01.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:01.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:01.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:01.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:01.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:01.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:01.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c80b409] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:01.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aaf11bd]
2025-12-29T17:39:01.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19621b4] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675033282 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@899423726 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:01.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:01.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:01.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:01.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:01.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:01.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:01.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c80b409]
2025-12-29T17:39:01.351+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19621b4]
2025-12-29T17:39:01.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daf8fab] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb8080a] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093788031 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:01.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1553141672 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.360+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daf8fab]
2025-12-29T17:39:01.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb8080a]
2025-12-29T17:39:01.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.372+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4432b3] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@387607ef] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.374+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851204135 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:01.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@346202291 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:01.375+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:01.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:01.376+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:01.384+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:01.384+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:01.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4432b3]
2025-12-29T17:39:01.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@387607ef]
2025-12-29T17:39:01.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.386+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:01.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1c4ecd] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.388+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670850bd] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:01.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88286391 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:01.389+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1875471052 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:01.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.390+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:01.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.391+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:01.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.399+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:01.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670850bd]
2025-12-29T17:39:01.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1c4ecd]
2025-12-29T17:39:01.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.400+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:01.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:39:01.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:01.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:01.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:02.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:02.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-29T17:39:02.846+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:02.849+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:02.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-29T17:39:02.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:02.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:02.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-29T17:39:02.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:02.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:02.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:02.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-29T17:39:02.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-29T17:39:02.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:02.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:39:02.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:02.860+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.862+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:39:02.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343b7cc1] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c1a86f] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.868+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198b183b] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451002660 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:02.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1785000354 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:02.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-29T17:39:02.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993522102 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:02.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:02.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-29T17:39:02.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:02.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:02.877+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:02.882+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-29T17:39:02.884+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198b183b]
2025-12-29T17:39:02.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:02.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:02.885+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:02.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:02.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c1a86f]
2025-12-29T17:39:02.886+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343b7cc1]
2025-12-29T17:39:02.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:02.887+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32f384de] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321a08ac] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-29T17:39:02.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650789361 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:02.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@15361688 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:02.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-29T17:39:02.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:02.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:02.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-29T17:39:02.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:02.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:02.894+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-29T17:39:02.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-29T17:39:02.901+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:39:02.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:02.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:02.903+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-29T17:39:02.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32f384de]
2025-12-29T17:39:02.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321a08ac]
2025-12-29T17:39:02.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:02.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba6302d] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:02.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50692e13] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:02.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115143092 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:02.909+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@287883866 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:02.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:02.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-29T17:39:02.911+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:02.916+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-29T17:39:02.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:02.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50692e13]
2025-12-29T17:39:02.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:02.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d9744e] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:02.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1775879664 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:02.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:02.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:02.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-29T17:39:02.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba6302d]
2025-12-29T17:39:02.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:02.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:02.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:02.927+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d9744e]
2025-12-29T17:39:02.928+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:02.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:02.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:02.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:33.892+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:33.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:33.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:39:33.893+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:39:33.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:34.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:34.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:34.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:39:34.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:39:34.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:39:34.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:34.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:34.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:34.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:34.206+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:34.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:39:34.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:39:34.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:39:34.193+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:39:34.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63057be2] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.243+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e6960b0] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:39:34.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3439aaba] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.259+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723fedaa] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2147140806 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:34.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259343576 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:34.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321479947 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:34.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2001903050 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:34.278+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:34.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:34.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:34.287+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:34.291+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:34.294+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:34.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:34.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:34.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:34.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:34.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:34.325+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:34.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723fedaa]
2025-12-29T17:39:34.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3439aaba]
2025-12-29T17:39:34.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e6960b0]
2025-12-29T17:39:34.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63057be2]
2025-12-29T17:39:34.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d649f61] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:34.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2172bc94] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.356+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@421155087 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:34.366+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:34.367+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:34.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:39:34.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e607f52] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.359+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@784974255 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:34.370+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:34.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949282414 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:34.392+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:34.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:34.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:34.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:34.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:34.423+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d649f61]
2025-12-29T17:39:34.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:34.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:34.454+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e79dec7] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2172bc94]
2025-12-29T17:39:34.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e607f52]
2025-12-29T17:39:34.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@666884606 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:34.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:34.470+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.471+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:34.491+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:34.491+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4d57a3] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.492+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:34.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1064295490 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:34.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:34.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:34.509+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:34.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:34.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:34.526+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:34.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:34.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e79dec7]
2025-12-29T17:39:34.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:34.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565f61fa] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.554+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:34.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4d57a3]
2025-12-29T17:39:34.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270e2d0c] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:34.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717568016 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:34.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184859649 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:34.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:34.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:34.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aed865a] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:34.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:34.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@529808826 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:34.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:34.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:34.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:34.686+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:34.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565f61fa]
2025-12-29T17:39:34.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270e2d0c]
2025-12-29T17:39:34.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:34.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f5f61] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.721+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:34.722+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1402958981 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:34.723+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:34.724+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:34.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:34.741+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:34.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:34.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:34.769+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:34.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:34.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:34.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:34.831+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5aea2f] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aed865a]
2025-12-29T17:39:34.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f5f61]
2025-12-29T17:39:34.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@589fc7d6] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@758852254 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:34.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:34.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ba443b] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.856+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:34.858+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@252823834 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:34.869+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:34.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:34.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962906340 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:34.947+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:34.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:34.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:34.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:34.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@589fc7d6]
2025-12-29T17:39:34.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ba443b]
2025-12-29T17:39:34.956+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:34.955+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:34.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:34.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc85d3f] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:34.974+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056000257 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:34.975+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:34.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:34.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:35.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:35.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.066+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc85d3f]
2025-12-29T17:39:35.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:35.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:35.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5aea2f]
2025-12-29T17:39:35.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:35.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:35.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:35.072+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:35.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:39:35.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6993f0e9] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:35.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205600554 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:35.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:35.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c31ba8e] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:35.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:39:35.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:39:35.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@763488547 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:35.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.115+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6993f0e9]
2025-12-29T17:39:35.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d53b413] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993067496 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:35.119+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:35.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:39:35.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:39:35.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:35.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:35.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:39:35.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:35.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799e6edc] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452399838 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:35.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:35.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:35.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:35.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:35.224+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799e6edc]
2025-12-29T17:39:35.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a7a60e3] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1083707390 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:35.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:35.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:35.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d53b413]
2025-12-29T17:39:35.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350194a2] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705135421 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:35.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:35.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:35.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:35.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c31ba8e]
2025-12-29T17:39:35.274+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cea700b] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@109733812 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:35.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:35.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350194a2]
2025-12-29T17:39:35.401+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:35.402+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:35.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a7a60e3]
2025-12-29T17:39:35.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7edf1f83] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.385+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:35.404+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:35.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731921347 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:35.416+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:35.417+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:35.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:35.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7edf1f83]
2025-12-29T17:39:35.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45a97e75] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.538+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1133265476 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:35.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:35.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:35.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:35.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:35.546+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cea700b]
2025-12-29T17:39:35.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:35.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:35.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:35.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:35.560+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:35.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:35.562+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:35.563+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.563+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150b2583] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161148436 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:35.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:35.702+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:35.703+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45a97e75]
2025-12-29T17:39:35.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:35.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf4b173] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1965044398 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:35.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:35.706+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:35.743+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.746+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:35.750+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf4b173]
2025-12-29T17:39:35.757+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150b2583]
2025-12-29T17:39:35.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.758+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ae0614e] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.759+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208a644d] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.771+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1145123912 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:35.773+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417076780 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:35.774+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:35.775+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:35.782+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:35.783+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:35.802+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:35.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208a644d]
2025-12-29T17:39:35.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ae0614e]
2025-12-29T17:39:35.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d5fbec4] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a34f3b0] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@503580462 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:35.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63380393 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:35.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:35.825+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:35.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:35.826+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:35.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:35.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d5fbec4]
2025-12-29T17:39:35.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a34f3b0]
2025-12-29T17:39:35.851+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:35.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:35.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bdd786] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:35.854+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:39:35.855+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1963256939 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:35.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:35.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:35.857+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:35.871+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:35.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bdd786]
2025-12-29T17:39:35.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:35.874+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:35.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:38.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:38.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:39:38.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:38.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:38.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:38.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:38.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:38.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-logs/list
2025-12-29T17:39:38.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:38.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e36035e] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:39:38.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:38.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1039820623 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:38.403+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-29T17:39:38.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:38.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:38.405+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-29T17:39:38.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:38.406+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:38.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:39:38.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:39:38.408+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b186807] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.409+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f90d378] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:38.442+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e36035e]
2025-12-29T17:39:38.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3fa336] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598655743 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:38.452+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1800586711 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:38.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353179123 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:38.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:38.453+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-29T17:39:38.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:38.455+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:38.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-29T17:39:38.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:38.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:38.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-29T17:39:38.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:38.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3fa336]
2025-12-29T17:39:38.489+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f90d378]
2025-12-29T17:39:38.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b186807]
2025-12-29T17:39:38.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.491+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.496+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219b324c] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dda135c] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.497+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a02da0b] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.501+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@265297174 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:38.498+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@649728858 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:38.501+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@39574493 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:38.502+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:38.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:38.503+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-29T17:39:38.504+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:38.505+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:38.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-29T17:39:38.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-29T17:39:38.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:38.516+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:38.517+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dda135c]
2025-12-29T17:39:38.517+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219b324c]
2025-12-29T17:39:38.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a02da0b]
2025-12-29T17:39:38.519+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:38.519+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:38.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-29T17:39:38.522+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea6ef2d] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:38.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:38.524+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188537319 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:38.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:38.525+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:39:38.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:38.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:38.534+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-logs/list
2025-12-29T17:39:38.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-29T17:39:38.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-29T17:39:38.541+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-29T17:39:38.542+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:39:38.552+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-29T17:39:38.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:38.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.555+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea6ef2d]
2025-12-29T17:39:38.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c109c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.556+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:38.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295836304 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:38.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:38.558+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-29T17:39:38.559+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:38.571+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-29T17:39:38.575+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-29T17:39:38.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c109c3]
2025-12-29T17:39:38.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:38.580+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e2ee4c4] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:38.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@919171539 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:38.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-29T17:39:38.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-29T17:39:38.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-29T17:39:38.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e2ee4c4]
2025-12-29T17:39:38.589+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:38.590+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-29T17:39:38.591+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:40.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:40.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:40.964+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:40.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:39:40.959+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:39:40.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:39:40.965+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:40.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:40.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:40.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:40.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:40.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:39:40.974+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:39:40.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:39:40.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:39:40.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:40.974+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:40.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:39:40.986+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:39:41.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d60c5bf] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.007+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:41.008+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.019+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf61d69] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.009+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:39:41.018+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ffe9246] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.022+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf7a7a7] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737663162 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:41.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102128861 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.032+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:41.025+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:41.035+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:41.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1121381930 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:41.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:41.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@769844579 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:41.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:41.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:41.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:41.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:41.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d60c5bf]
2025-12-29T17:39:41.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.052+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfc7dff] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.041+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:41.042+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:41.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@844000529 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:41.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:41.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:41.055+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf61d69]
2025-12-29T17:39:41.058+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:41.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf7a7a7]
2025-12-29T17:39:41.075+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.076+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdcdee2] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1038606616 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:41.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.074+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.089+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:39:41.091+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:41.103+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ffe9246]
2025-12-29T17:39:41.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:41.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfc7dff]
2025-12-29T17:39:41.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.102+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdcdee2]
2025-12-29T17:39:41.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:41.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5054d9f8] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.108+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197084be] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.109+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1139210593 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:41.115+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:41.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@593584828 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:41.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:41.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:41.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:41.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:41.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:41.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:41.124+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5054d9f8]
2025-12-29T17:39:41.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:41.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197084be]
2025-12-29T17:39:41.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46271f97] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a065687] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1542403737 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:41.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:41.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:41.142+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7806f7a7] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282130726 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:41.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:41.159+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:41.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167204964 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:41.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:41.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:41.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:41.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:41.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a065687]
2025-12-29T17:39:41.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46271f97]
2025-12-29T17:39:41.192+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdc7563] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373c6ea5] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.204+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743168625 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:39:41.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234769010 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:41.208+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.219+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.209+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:41.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7806f7a7]
2025-12-29T17:39:41.223+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.224+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3f86f3] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.224+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.225+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.228+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdc7563]
2025-12-29T17:39:41.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869002524 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:39:41.226+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373c6ea5]
2025-12-29T17:39:41.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:41.238+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:41.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:41.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660c39b] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.242+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392368820 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:41.258+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:41.260+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:41.249+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:41.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:41.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:41.275+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:41.276+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3f86f3]
2025-12-29T17:39:41.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:41.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:41.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660c39b]
2025-12-29T17:39:41.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:41.292+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:41.293+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d095bdb] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.296+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1039481850 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:39:41.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:39:41.318+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3177c853] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:39:41.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:39:41.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:39:41.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:39:41.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0bf30a] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.341+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1757998236 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.342+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:41.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d095bdb]
2025-12-29T17:39:41.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:41.352+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@715126754 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:41.354+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:39:41.355+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:39:41.357+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.364+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:39:41.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:39:41.398+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:39:41.407+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:39:41.420+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:39:41.421+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:41.422+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:39:41.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0bf30a]
2025-12-29T17:39:41.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278a7379] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.438+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1677107251 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:39:41.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:39:41.439+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:39:41.436+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:39:41.437+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3177c853]
2025-12-29T17:39:41.456+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.457+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c7fcf3] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.458+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1109990159 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.487+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.488+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.449+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.490+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7a7c90] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.506+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1113861590 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.507+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:41.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:41.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:41.606+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:39:41.608+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c7fcf3]
2025-12-29T17:39:41.613+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7a7c90]
2025-12-29T17:39:41.614+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278a7379]
2025-12-29T17:39:41.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.616+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.617+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7470a2] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.618+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a8bb65] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.619+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:39:41.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830093275 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:41.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@787203964 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.625+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:41.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.632+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a8bb65]
2025-12-29T17:39:41.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0036c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:41.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7470a2]
2025-12-29T17:39:41.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@734385557 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:41.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:41.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d7351] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.657+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061217010 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.659+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.704+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.705+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:41.710+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d7351]
2025-12-29T17:39:41.719+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0036c3]
2025-12-29T17:39:41.783+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:41.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.784+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.792+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4178435] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.794+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415046746 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.808+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:41.809+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:39:41.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:39:41.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:39:41.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:39:41.823+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:39:41.824+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:39:41.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1864d35d] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.836+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@288524539 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:39:41.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:39:41.840+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4178435]
2025-12-29T17:39:41.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:39:41.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.843+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7b473e] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.850+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1475694792 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.852+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.853+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:39:41.859+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1864d35d]
2025-12-29T17:39:41.866+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7b473e]
2025-12-29T17:39:41.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.867+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.869+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@507fe82d] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.869+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3243f2cd] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858021188 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129237260 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.870+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:41.872+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.873+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:39:41.875+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.876+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:39:41.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@507fe82d]
2025-12-29T17:39:41.888+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3243f2cd]
2025-12-29T17:39:41.889+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.891+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe70f21] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdc230c] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@544645232 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@639921440 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:39:41.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:39:41.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:39:41.907+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:39:41.910+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe70f21]
2025-12-29T17:39:41.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdc230c]
2025-12-29T17:39:41.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:39:41.918+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c14926] was not registered for synchronization because synchronization is not active
2025-12-29T17:39:41.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:39:41.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334021784 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:39:41.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:39:41.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:39:41.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:39:41.925+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:39:41.926+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c14926]
2025-12-29T17:39:41.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:39:41.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:39:41.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:40:48.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:40:48.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:40:48.062+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-29T17:40:48.070+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-29T17:40:48.073+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-29T17:40:48.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-29T17:40:48.064+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:40:48.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:40:48.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-29T17:40:48.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:40:48.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:40:48.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:40:48.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:40:48.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:40:48.098+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:40:48.089+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:40:48.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:40:48.099+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.100+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d15ddf] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b7ce3b] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.107+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fcab644] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.120+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855382818 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:40:48.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098122001 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:40:48.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@36263302 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:40:48.121+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:40:48.122+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-29T17:40:48.128+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:40:48.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:40:48.125+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:40:48.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:40:48.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2025-12-29T17:40:48.138+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fcab644]
2025-12-29T17:40:48.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:40:48.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:40:48.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:40:48.139+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b7ce3b]
2025-12-29T17:40:48.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d15ddf]
2025-12-29T17:40:48.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:40:48.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.140+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.141+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:40:48.144+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562ea97c] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.145+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72eb53a2] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@983680156 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:40:48.147+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2082580674 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:40:48.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:40:48.148+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-29T17:40:48.149+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:40:48.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:40:48.151+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-29T17:40:48.152+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:40:48.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-29T17:40:48.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:40:48.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-29T17:40:48.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562ea97c]
2025-12-29T17:40:48.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:40:48.164+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-29T17:40:48.164+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:40:48.165+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72eb53a2]
2025-12-29T17:40:48.165+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:40:48.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:40:48.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.167+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb3b3ba] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:40:48.167+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:40:48.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466800557 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:40:48.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.170+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:40:48.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:40:48.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69cfab39] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@970977036 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:40:48.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:40:48.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-29T17:40:48.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb3b3ba]
2025-12-29T17:40:48.178+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:40:48.179+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:48.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c8c40ed] was not registered for synchronization because synchronization is not active
2025-12-29T17:40:48.183+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589643941 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:40:48.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:40:48.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2025-12-29T17:40:48.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:40:48.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69cfab39]
2025-12-29T17:40:48.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:40:48.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:40:48.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:40:48.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:40:48.188+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c8c40ed]
2025-12-29T17:40:48.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:40:48.196+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:40:48.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:40:59.738+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/create
2025-12-29T17:40:59.745+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/account-codes/create
2025-12-29T17:40:59.747+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/create
2025-12-29T17:40:59.748+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/account-codes/create
2025-12-29T17:40:59.749+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/account-codes/create", parameters={}
2025-12-29T17:40:59.751+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#createMapping(AccountCodeMappingDto)
2025-12-29T17:40:59.763+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AccountCodeMappingDto(mappingId=null, companyId=null, category=식대, merchantKeyword=null, accountCode (truncated)...]
2025-12-29T17:40:59.766+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:40:59.770+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:40:59.786+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:40:59.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63229889]
2025-12-29T17:40:59.787+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995207683 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will be managed by Spring
2025-12-29T17:40:59.789+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.insert  : ==>  Preparing: INSERT INTO account_code_mapping_tb ( company_id, category, merchant_keyword, account_code, account_name ) VALUES ( ?, ?, ?, ?, ? )
2025-12-29T17:40:59.791+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.insert  : ==> Parameters: 1(Long), 식대(String), null, 식대비(String), 식대비(String)
2025-12-29T17:40:59.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.insert  : <==    Updates: 1
2025-12-29T17:40:59.803+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63229889]
2025-12-29T17:40:59.804+09:00  INFO 52248 --- [http-nio-8080-exec-3] c.i.backend.service.AccountCodeService   : 계정 과목 매핑 생성 완료 - mappingId: 1
2025-12-29T17:40:59.805+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63229889] from current transaction
2025-12-29T17:40:59.806+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2025-12-29T17:40:59.813+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:40:59.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : <==      Total: 1
2025-12-29T17:40:59.818+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63229889]
2025-12-29T17:40:59.819+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63229889]
2025-12-29T17:40:59.821+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63229889]
2025-12-29T17:40:59.822+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63229889]
2025-12-29T17:40:59.834+09:00  INFO 52248 --- [http-nio-8080-exec-3] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 생성 완료 - mappingId: 1
2025-12-29T17:40:59.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:40:59.837+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=계정 과목 매핑이 생성되었습니다., data=AccountCodeMappingDto(mappingId=1, compan (truncated)...]
2025-12-29T17:40:59.841+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:01.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-29T17:41:01.039+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-29T17:41:01.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-29T17:41:01.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-29T17:41:01.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-29T17:41:01.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:41:01.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-29T17:41:01.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:01.050+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6757f8e3] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:01.123+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860659709 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:01.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-29T17:41:01.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-29T17:41:01.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2025-12-29T17:41:01.216+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6757f8e3]
2025-12-29T17:41:01.222+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:01.224+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2025-12-29T17:41:01.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:02.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:02.890+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:41:02.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:41:02.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:41:02.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:41:02.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:02.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:41:02.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:41:02.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:41:02.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:41:02.902+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:41:02.915+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:41:02.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:41:02.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:41:02.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:41:02.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:41:02.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:41:02.933+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:41:02.922+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:02.923+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:02.937+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dad6a1d] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:02.932+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:41:02.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:41:02.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:02.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c749976] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:02.949+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:02.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0822] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:02.950+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a08d41e] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:02.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959861409 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:41:02.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44177058 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:41:02.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254606698 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:41:02.967+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@54626513 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:02.970+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:41:02.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:41:02.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:41:02.971+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:41:02.972+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:41:02.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:41:02.973+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:41:02.974+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:41:02.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:41:02.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:41:02.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:41:02.985+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:41:02.988+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c749976]
2025-12-29T17:41:02.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a08d41e]
2025-12-29T17:41:02.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dad6a1d]
2025-12-29T17:41:02.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0822]
2025-12-29T17:41:02.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:02.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:02.990+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:02.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:02.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13cebd31] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:02.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:41:02.997+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71025a7e] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:02.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ce738f] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:02.998+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1433471166 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:41:02.999+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.000+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334202035 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.001+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26814495 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:41:03.002+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:41:03.004+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.005+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.006+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:41:03.014+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.020+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.021+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:41:03.024+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13cebd31]
2025-12-29T17:41:03.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71025a7e]
2025-12-29T17:41:03.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.034+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.036+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5332c0c3] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.037+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ce738f]
2025-12-29T17:41:03.038+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:41:03.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905173153 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:41:03.040+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.047+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:03.048+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@779c9c4] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.051+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:41:03.054+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@19763375 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:41:03.057+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:03.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:41:03.065+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:41:03.067+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:41:03.068+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:41:03.069+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:41:03.071+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:41:03.080+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:41:03.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:41:03.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa650f] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.081+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5332c0c3]
2025-12-29T17:41:03.082+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@779c9c4]
2025-12-29T17:41:03.083+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.084+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246b8b6] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.085+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425707560 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:41:03.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0756dc] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.086+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203193061 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:41:03.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:41:03.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@83460433 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:41:03.087+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.088+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:41:03.089+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:41:03.097+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.101+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:41:03.104+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:41:03.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa650f]
2025-12-29T17:41:03.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:41:03.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.105+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.106+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0756dc]
2025-12-29T17:41:03.113+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246b8b6]
2025-12-29T17:41:03.114+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57aa2920] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.116+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.132+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e78b5a] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.117+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273588491 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c1958a3] will not be managed by Spring
2025-12-29T17:41:03.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@857838764 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:41:03.133+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:41:03.134+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:41:03.135+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:41:03.136+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.137+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.150+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:03.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:41:03.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:41:03.155+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e78b5a]
2025-12-29T17:41:03.156+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:03.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57aa2920]
2025-12-29T17:41:03.157+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.158+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:41:03.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.163+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74254ef3] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.164+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:41:03.165+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:41:03.165+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207664758 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:41:03.165+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:03.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.166+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54312eeb] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.168+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:41:03.169+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:41:03.171+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:41:03.174+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:41:03.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@364014004 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.175+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:41:03.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:41:03.181+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:41:03.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74254ef3]
2025-12-29T17:41:03.182+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:41:03.184+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:41:03.184+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2d77a1] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.185+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.186+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1168236769 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will not be managed by Spring
2025-12-29T17:41:03.187+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6792e580] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.189+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960977591 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:41:03.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:41:03.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.190+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:41:03.191+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54312eeb]
2025-12-29T17:41:03.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:41:03.198+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.199+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d9873b] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.200+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2d77a1]
2025-12-29T17:41:03.201+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1603907486 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:41:03.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6792e580]
2025-12-29T17:41:03.202+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:41:03.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.203+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.205+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e96490] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.207+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@673658088 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:41:03.212+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:41:03.214+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:41:03.217+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:41:03.216+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:41:03.217+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:41:03.218+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:41:03.218+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:41:03.219+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.220+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.229+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bdfdfe] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.230+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d9873b]
2025-12-29T17:41:03.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.232+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a63ac] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.233+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1563479097 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.235+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:03.231+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1116962726 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.236+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:41:03.237+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:41:03.239+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:41:03.240+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:41:03.250+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e96490]
2025-12-29T17:41:03.251+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:41:03.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:41:03.252+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:41:03.253+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a63ac]
2025-12-29T17:41:03.254+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bdfdfe]
2025-12-29T17:41:03.255+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.257+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.261+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126a86b4] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.262+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3cb837] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.263+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177092182 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2091507875 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.264+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.265+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.267+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.268+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3cb837]
2025-12-29T17:41:03.269+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126a86b4]
2025-12-29T17:41:03.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.270+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3865a35a] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.271+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:41:03.272+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1715882337 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.273+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:03.280+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:41:03.284+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:03.286+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:41:03.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:41:03.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3865a35a]
2025-12-29T17:41:03.289+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.288+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:03.290+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66245a0] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.298+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:41:03.299+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@327702853 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:41:03.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:41:03.300+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:41:03.301+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.302+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d7ccf4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.303+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2004326863 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.304+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:41:03.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:41:03.305+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:41:03.306+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66245a0]
2025-12-29T17:41:03.307+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.311+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1a489d] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321290043 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.312+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.313+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.315+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:41:03.317+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d7ccf4e]
2025-12-29T17:41:03.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.320+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444fa35b] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1607598627 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.321+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1a489d]
2025-12-29T17:41:03.322+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.323+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.329+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5074ae8e] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.331+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1487035069 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:03.332+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.333+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:41:03.334+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444fa35b]
2025-12-29T17:41:03.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.335+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719340f5] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216307431 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:41:03.336+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:03.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5074ae8e]
2025-12-29T17:41:03.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:41:03.337+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.338+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102e4c92] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1708888263 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:03.339+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.340+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.345+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:41:03.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719340f5]
2025-12-29T17:41:03.346+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:03.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ca6621] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:03.347+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2058684421 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:03.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102e4c92]
2025-12-29T17:41:03.348+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:03.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:03.349+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:41:03.350+09:00 DEBUG 52248 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:03.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:03.353+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ca6621]
2025-12-29T17:41:03.369+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:03.371+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:41:03.373+09:00 DEBUG 52248 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:05.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:41:05.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:05.570+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:41:05.572+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:41:05.567+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T17:41:05.569+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:41:05.576+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:41:05.583+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:41:05.584+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.579+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/approvers
2025-12-29T17:41:05.585+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T17:41:05.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T17:41:05.582+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:41:05.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:41:05.587+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:41:05.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.588+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1febdecc] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.584+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f64a877] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.586+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T17:41:05.595+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.600+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124c5e66] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@130659693 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:05.603+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2113397864 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:41:05.605+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:41:05.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:41:05.605+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1048570747 wrapping com.mysql.cj.jdbc.ConnectionImpl@11e571c3] will not be managed by Spring
2025-12-29T17:41:05.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T17:41:05.607+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:41:05.612+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:41:05.615+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T17:41:05.619+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:41:05.620+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:41:05.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1febdecc]
2025-12-29T17:41:05.620+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f64a877]
2025-12-29T17:41:05.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T17:41:05.621+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124c5e66]
2025-12-29T17:41:05.622+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4519a90b] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.623+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c6dc6e4] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.626+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665111792 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:05.623+09:00  INFO 52248 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T17:41:05.624+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1028815474 wrapping com.mysql.cj.jdbc.ConnectionImpl@351d9a43] will not be managed by Spring
2025-12-29T17:41:05.628+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:05.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:05.630+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:41:05.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:05.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T17:41:05.631+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:41:05.633+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:05.634+09:00 DEBUG 52248 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:05.635+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c6dc6e4]
2025-12-29T17:41:05.637+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cc71bf5] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.642+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@250587247 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:05.649+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:41:05.650+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:41:05.638+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T17:41:05.639+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:41:05.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/approvers
2025-12-29T17:41:05.651+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4519a90b]
2025-12-29T17:41:05.652+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T17:41:05.654+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:05.656+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:41:05.655+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T17:41:05.658+09:00 DEBUG 52248 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:05.664+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T17:41:05.666+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:41:05.667+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cc71bf5]
2025-12-29T17:41:05.668+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192c188] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.671+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1171159804 wrapping com.mysql.cj.jdbc.ConnectionImpl@e51c452] will not be managed by Spring
2025-12-29T17:41:05.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:41:05.672+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:41:05.667+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:05.673+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541a6564] was not registered for synchronization because synchronization is not active
2025-12-29T17:41:05.679+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:41:05.680+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192c188]
2025-12-29T17:41:05.681+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:05.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:41:05.682+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507708597 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will not be managed by Spring
2025-12-29T17:41:05.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T17:41:05.684+09:00 DEBUG 52248 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:05.685+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T17:41:05.689+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T17:41:05.690+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541a6564]
2025-12-29T17:41:05.691+09:00  INFO 52248 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T17:41:05.694+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:05.695+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T17:41:05.696+09:00 DEBUG 52248 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:41:25.478+09:00 DEBUG 52248 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/create
2025-12-29T17:41:25.483+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-29T17:41:25.484+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/create
2025-12-29T17:41:25.484+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-29T17:41:25.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-29T17:41:25.485+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-29T17:41:25.493+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=1, reportDate=2025-12-29, title=test, totalAmount=1 (truncated)...]
2025-12-29T17:41:25.503+09:00  INFO 52248 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 1, currentUserId: 1, title: test, totalAmount: 1234
2025-12-29T17:41:25.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:25.518+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.519+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823495439 wrapping com.mysql.cj.jdbc.ConnectionImpl@486a1805] will be managed by Spring
2025-12-29T17:41:25.520+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:41:25.521+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:41:25.523+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:41:25.524+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.529+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a] from current transaction
2025-12-29T17:41:25.530+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:41:25.533+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), 12(Integer), 12(Integer), 식대(String)
2025-12-29T17:41:25.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:41:25.535+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a] from current transaction
2025-12-29T17:41:25.536+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:41:25.537+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), null, null, 식대(String)
2025-12-29T17:41:25.539+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:41:25.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a] from current transaction
2025-12-29T17:41:25.540+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:41:25.545+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 1(Long), 2025-12-29(LocalDate), test(String), 1234(Long), WAIT(String), 2025-12-29(LocalDate), false(Boolean), 1(Long)
2025-12-29T17:41:25.550+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-29T17:41:25.551+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.551+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-29T17:41:25.552+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a] from current transaction
2025-12-29T17:41:25.552+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-29T17:41:25.553+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 9(Long), 식대(String), 테스트(String), 1234(Long), (String), 1(Long)
2025-12-29T17:41:25.563+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-29T17:41:25.563+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-29T17:41:25.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 결재 라인 저장 시작 - 라인 수: 1
2025-12-29T17:41:25.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a] from current transaction
2025-12-29T17:41:25.564+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:41:25.565+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 9(Long), 2(Long), null, WAIT(String), null, null, null, 1(Long)
2025-12-29T17:41:25.604+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.760+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40eac76a]
2025-12-29T17:41:25.772+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException, HttpServletRequest)
2025-12-29T17:41:25.777+09:00 ERROR 52248 --- [http-nio-8080-exec-5] c.i.b.exception.GlobalExceptionHandler   : 런타임 예외 발생

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO approval_line_tb (             expense_report_id,             approver_id,             step_order,             status,             approval_date,             signature_data,             rejection_reason,             company_id         ) VALUES (             ?,             ?,             ?,             ?,             ?,             ?,             ?,             ?         )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null
; Column 'step_order' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:106) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:95) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy89.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:224) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy93.insertApprovalLine(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.ExpenseService.createExpense(ExpenseService.java:558) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.ExpenseService$$SpringCGLIB$$0.createExpense(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.ExpenseController.createExpense(ExpenseController.java:222) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.ExpenseController$$SpringCGLIB$$0.createExpense(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 142 common frames omitted

2025-12-29T17:41:25.834+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:25.835+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: <EOL><EOL>### Error updating database.  Cause: java.sql.SQ (truncated)...]
2025-12-29T17:41:25.838+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null<EOL><EOL>### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO approval_line_tb (             expense_report_id,             approver_id,             step_order,             status,             approval_date,             signature_data,             rejection_reason,             company_id         ) VALUES (             ?,             ?,             ?,             ?,             ?,             ?,             ?,             ?         )<EOL><EOL>### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null<EOL>; Column 'step_order' cannot be null]
2025-12-29T17:41:25.839+09:00 DEBUG 52248 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-29T17:41:45.895+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-29T17:41:45.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/create
2025-12-29T17:41:45.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-29T17:41:45.897+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-29T17:41:45.898+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-29T17:41:45.899+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=1, reportDate=2025-12-29, title=test, totalAmount=1 (truncated)...]
2025-12-29T17:41:45.899+09:00  INFO 52248 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 1, currentUserId: 1, title: test, totalAmount: 1234
2025-12-29T17:41:45.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:41:45.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.904+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814176874 wrapping com.mysql.cj.jdbc.ConnectionImpl@464b1e79] will be managed by Spring
2025-12-29T17:41:45.905+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:41:45.906+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:41:45.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:41:45.912+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4] from current transaction
2025-12-29T17:41:45.913+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:41:45.914+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), 12(Integer), 12(Integer), 식대(String)
2025-12-29T17:41:45.917+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:41:45.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.919+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4] from current transaction
2025-12-29T17:41:45.920+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:41:45.921+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), null, null, 식대(String)
2025-12-29T17:41:45.924+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:41:45.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4] from current transaction
2025-12-29T17:41:45.930+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:41:45.931+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 1(Long), 2025-12-29(LocalDate), test(String), 1234(Long), WAIT(String), 2025-12-29(LocalDate), false(Boolean), 1(Long)
2025-12-29T17:41:45.934+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-29T17:41:45.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-29T17:41:45.935+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4] from current transaction
2025-12-29T17:41:45.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-29T17:41:45.936+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 10(Long), 식대(String), 테스트(String), 1234(Long), (String), 1(Long)
2025-12-29T17:41:45.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-29T17:41:45.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.939+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-29T17:41:45.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 결재 라인 저장 시작 - 라인 수: 1
2025-12-29T17:41:45.940+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4] from current transaction
2025-12-29T17:41:45.945+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:41:45.946+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 10(Long), 2(Long), null, WAIT(String), null, null, null, 1(Long)
2025-12-29T17:41:45.951+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.953+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.954+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38341ef4]
2025-12-29T17:41:45.963+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException, HttpServletRequest)
2025-12-29T17:41:45.963+09:00 ERROR 52248 --- [http-nio-8080-exec-2] c.i.b.exception.GlobalExceptionHandler   : 런타임 예외 발생

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO approval_line_tb (             expense_report_id,             approver_id,             step_order,             status,             approval_date,             signature_data,             rejection_reason,             company_id         ) VALUES (             ?,             ?,             ?,             ?,             ?,             ?,             ?,             ?         )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null
; Column 'step_order' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:106) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:95) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy89.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:224) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy93.insertApprovalLine(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.ExpenseService.createExpense(ExpenseService.java:558) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.ExpenseService$$SpringCGLIB$$0.createExpense(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.ExpenseController.createExpense(ExpenseController.java:222) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.ExpenseController$$SpringCGLIB$$0.createExpense(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 142 common frames omitted

2025-12-29T17:41:45.989+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:41:45.993+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=서버 오류가 발생했습니다: <EOL><EOL>### Error updating database.  Cause: java.sql.SQ (truncated)...]
2025-12-29T17:41:45.995+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null<EOL><EOL>### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO approval_line_tb (             expense_report_id,             approver_id,             step_order,             status,             approval_date,             signature_data,             rejection_reason,             company_id         ) VALUES (             ?,             ?,             ?,             ?,             ?,             ?,             ?,             ?         )<EOL><EOL>### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'step_order' cannot be null<EOL>; Column 'step_order' cannot be null]
2025-12-29T17:41:45.996+09:00 DEBUG 52248 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-29T17:45:43.780+09:00  INFO 61128 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 61128 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-29T17:45:43.783+09:00 DEBUG 61128 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-29T17:45:43.785+09:00  INFO 61128 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-29T17:45:45.621+09:00 DEBUG 61128 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-29T17:45:45.624+09:00 DEBUG 61128 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-29T17:45:45.979+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2025-12-29T17:45:45.980+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2025-12-29T17:45:45.980+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2025-12-29T17:45:45.981+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2025-12-29T17:45:45.981+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-29T17:45:45.982+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2025-12-29T17:45:45.983+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-29T17:45:45.984+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2025-12-29T17:45:45.987+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-29T17:45:45.997+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-29T17:45:45.997+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-29T17:45:45.999+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-29T17:45:46.000+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-29T17:45:46.012+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2025-12-29T17:45:46.015+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2025-12-29T17:45:46.016+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2025-12-29T17:45:46.021+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2025-12-29T17:45:46.027+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-29T17:45:46.029+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2025-12-29T17:45:46.030+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-29T17:45:46.031+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2025-12-29T17:45:46.033+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-29T17:45:46.034+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-29T17:45:46.038+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-29T17:45:46.039+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-29T17:45:46.041+09:00 DEBUG 61128 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-29T17:45:47.463+09:00  INFO 61128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-29T17:45:47.516+09:00  INFO 61128 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-29T17:45:47.522+09:00  INFO 61128 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-29T17:45:47.670+09:00  INFO 61128 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-29T17:45:47.672+09:00  INFO 61128 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3791 ms
2025-12-29T17:45:47.796+09:00 DEBUG 61128 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-29T17:45:47.797+09:00 DEBUG 61128 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-29T17:45:48.309+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2025-12-29T17:45:48.327+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2025-12-29T17:45:48.345+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2025-12-29T17:45:48.365+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2025-12-29T17:45:48.389+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-29T17:45:48.412+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2025-12-29T17:45:48.478+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-29T17:45:48.494+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2025-12-29T17:45:48.530+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-29T17:45:48.561+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-29T17:45:48.603+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-29T17:45:48.629+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-29T17:45:48.658+09:00 DEBUG 61128 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-29T17:45:49.665+09:00 DEBUG 61128 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 118 mappings in 'requestMappingHandlerMapping'
2025-12-29T17:45:49.940+09:00 DEBUG 61128 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-29T17:45:50.029+09:00  WARN 61128 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ed23b62d-ab5b-4e63-b1ad-26f01f66d0a1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-29T17:45:50.148+09:00  INFO 61128 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-29T17:45:50.579+09:00 DEBUG 61128 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-29T17:45:50.776+09:00 DEBUG 61128 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-29T17:45:50.904+09:00 DEBUG 61128 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-29T17:45:50.916+09:00 DEBUG 61128 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-29T17:45:51.364+09:00  INFO 61128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-29T17:45:51.410+09:00  INFO 61128 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.531 seconds (process running for 9.412)
2025-12-29T17:45:53.504+09:00  INFO 61128 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-29T17:45:53.527+09:00  INFO 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-29T17:45:53.531+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-29T17:45:53.648+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-29T17:45:53.693+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-29T17:45:53.731+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@761f234c
2025-12-29T17:45:53.744+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@53b7bf01
2025-12-29T17:45:53.748+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-29T17:45:53.759+09:00  INFO 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 228 ms
2025-12-29T17:45:53.910+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-29T17:45:54.215+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/create
2025-12-29T17:45:54.222+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-29T17:45:54.227+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-29T17:45:54.238+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-29T17:45:54.395+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=1, reportDate=2025-12-29, title=test, totalAmount=1 (truncated)...]
2025-12-29T17:45:54.517+09:00  INFO 61128 --- [http-nio-8080-exec-1] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 1, currentUserId: 1, title: test, totalAmount: 1234
2025-12-29T17:45:54.529+09:00  INFO 61128 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-29T17:45:54.983+09:00  INFO 61128 --- [http-nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f597b0d
2025-12-29T17:45:54.991+09:00  INFO 61128 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-29T17:45:55.065+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:55.074+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.088+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896033605 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will be managed by Spring
2025-12-29T17:45:55.097+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:45:55.162+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:45:55.209+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:45:55.238+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.244+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.247+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:45:55.254+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), 12(Integer), 12(Integer), 식대(String)
2025-12-29T17:45:55.266+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:45:55.267+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.272+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.273+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:45:55.277+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), null, null, 식대(String)
2025-12-29T17:45:55.283+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:45:55.284+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.291+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.300+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:45:55.324+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 1(Long), 2025-12-29(LocalDate), test(String), 1234(Long), WAIT(String), 2025-12-29(LocalDate), false(Boolean), 1(Long)
2025-12-29T17:45:55.360+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-29T17:45:55.365+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.373+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-29T17:45:55.377+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.378+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-29T17:45:55.380+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 11(Long), 식대(String), 테스트(String), 1234(Long), (String), 1(Long)
2025-12-29T17:45:55.394+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-29T17:45:55.395+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.396+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-29T17:45:55.398+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 결재 라인 저장 시작 - 라인 수: 1
2025-12-29T17:45:55.426+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.434+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:45:55.439+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 11(Long), 2(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-29T17:45:55.459+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-29T17:45:55.460+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.461+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 결재 라인 저장 완료
2025-12-29T17:45:55.463+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.464+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:45:55.465+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:55.468+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:45:55.471+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.473+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.474+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:45:55.478+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:55.482+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:45:55.484+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.489+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3] from current transaction
2025-12-29T17:45:55.490+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.A.findActiveByCompanyId          : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? AND is_active = 1 ORDER BY rule_type, rule_name
2025-12-29T17:45:55.491+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.A.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-29T17:45:55.497+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.A.findActiveByCompanyId          : <==      Total: 0
2025-12-29T17:45:55.498+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.498+09:00  INFO 61128 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 11
2025-12-29T17:45:55.499+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.503+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.505+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b6466a3]
2025-12-29T17:45:55.518+09:00  INFO 61128 --- [http-nio-8080-exec-1] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 11
2025-12-29T17:45:55.548+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:45:55.557+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=11)]
2025-12-29T17:45:55.597+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:45:55.614+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/11/approval-lines
2025-12-29T17:45:55.623+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/11/approval-lines
2025-12-29T17:45:55.631+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/11/approval-lines
2025-12-29T17:45:55.632+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/11/approval-lines
2025-12-29T17:45:55.633+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/11/approval-lines", parameters={}
2025-12-29T17:45:55.637+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#setApprovalLines(Long, ApprovalLineRequest)
2025-12-29T17:45:55.643+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.ApprovalLineRequest(approvalLines=[ApprovalLineDto(approvalLineId=null, expenseRep (truncated)...]
2025-12-29T17:45:55.648+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:55.649+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75991de9]
2025-12-29T17:45:55.650+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2108770968 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will be managed by Spring
2025-12-29T17:45:55.650+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:45:55.655+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 11(Long), 2(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-29T17:45:55.660+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-29T17:45:55.661+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75991de9]
2025-12-29T17:45:55.662+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.backend.service.ExpenseService       : 결재 라인 저장 완료 - expenseReportId: 11, 라인 수: 1
2025-12-29T17:45:55.663+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75991de9]
2025-12-29T17:45:55.663+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75991de9]
2025-12-29T17:45:55.663+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75991de9]
2025-12-29T17:45:55.671+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:45:55.672+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 라인 설정 성공, data=null)]
2025-12-29T17:45:55.674+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:45:57.563+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/11
2025-12-29T17:45:57.566+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:45:57.567+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/11
2025-12-29T17:45:57.567+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:45:57.578+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:45:57.581+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:45:57.587+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:45:57.587+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/11
2025-12-29T17:45:57.589+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:45:57.590+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:45:57.596+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:45:57.599+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:45:57.594+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:45:57.599+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/11
2025-12-29T17:45:57.602+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.604+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.605+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/11
2025-12-29T17:45:57.607+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fbcf262] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.606+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d9e96b] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.608+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/11", parameters={}
2025-12-29T17:45:57.615+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@243398745 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:45:57.620+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:45:57.621+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:45:57.625+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.626+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:45:57.626+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5347b886] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.628+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1172617927 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:45:57.631+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:45:57.633+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482166437 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.633+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:45:57.640+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:45:57.641+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:45:57.645+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fbcf262]
2025-12-29T17:45:57.664+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.666+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.675+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e8a225] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.677+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1793105177 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:45:57.698+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:45:57.708+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:45:57.710+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:45:57.711+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:45:57.712+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5347b886]
2025-12-29T17:45:57.713+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d9e96b]
2025-12-29T17:45:57.714+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.716+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.721+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d6b1854] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.722+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9958600] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.722+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@174874220 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880061549 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:45:57.730+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:45:57.731+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:45:57.731+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:45:57.732+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.735+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:45:57.738+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e8a225]
2025-12-29T17:45:57.742+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.743+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5638ac86] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.746+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:45:57.746+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:45:57.747+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d6b1854]
2025-12-29T17:45:57.748+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9958600]
2025-12-29T17:45:57.749+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.750+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:45:57.755+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c1cb49] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.756+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:45:57.758+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1830210726 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.764+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:45:57.773+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:45:57.779+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.780+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57378390 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:45:57.782+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:45:57.788+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:45:57.792+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-29T17:45:57.796+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c1cb49]
2025-12-29T17:45:57.798+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.798+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:45:57.798+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c80048] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.799+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5638ac86]
2025-12-29T17:45:57.799+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1201248516 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.800+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.801+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:45:57.805+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c23271] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.807+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.808+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625527607 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:45:57.810+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:45:57.811+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:45:57.814+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:45:57.815+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c80048]
2025-12-29T17:45:57.815+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:45:57.816+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.817+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2635c2] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.818+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c23271]
2025-12-29T17:45:57.820+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2063118862 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.823+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:45:57.823+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:45:57.824+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:45:57.824+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:45:57.830+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:45:57.831+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:45:57.840+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2635c2]
2025-12-29T17:45:57.841+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:45:57.842+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=11, drafterId=1, r (truncated)...]
2025-12-29T17:45:57.847+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:45:57.849+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/11
2025-12-29T17:45:57.854+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/11
2025-12-29T17:45:57.858+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/11
2025-12-29T17:45:57.861+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/11", parameters={}
2025-12-29T17:45:57.862+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:45:57.864+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.864+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a26cd77] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.865+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2091711035 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.865+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:45:57.866+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.874+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:45:57.877+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a26cd77]
2025-12-29T17:45:57.877+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.878+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f8357c] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.878+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2044268481 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.879+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:45:57.879+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.883+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:45:57.888+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f8357c]
2025-12-29T17:45:57.888+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.888+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2db51956] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.889+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033359433 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.891+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:45:57.892+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.895+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-29T17:45:57.896+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2db51956]
2025-12-29T17:45:57.897+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.897+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50fcab09] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.898+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1426487273 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.898+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:45:57.898+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:45:57.902+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:45:57.905+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50fcab09]
2025-12-29T17:45:57.906+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:45:57.906+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51eb2c07] was not registered for synchronization because synchronization is not active
2025-12-29T17:45:57.907+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694134736 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:45:57.908+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:45:57.909+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:45:57.911+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:45:57.911+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51eb2c07]
2025-12-29T17:45:57.913+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:45:57.914+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=11, drafterId=1, r (truncated)...]
2025-12-29T17:45:57.915+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:07.811+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:07.812+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:46:07.813+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:07.829+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:46:07.814+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:46:07.823+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:07.843+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:07.847+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:07.837+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:07.853+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:07.838+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:46:07.841+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:46:07.848+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:07.859+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:07.854+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:07.855+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:46:07.857+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:46:07.860+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbd8056] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:07.878+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:07.896+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:46:07.896+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:46:07.899+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:07.906+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6302f29a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:07.905+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:07.906+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:46:07.908+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb2773a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:07.909+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:07.911+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796abfa6] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:07.959+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464199974 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:07.960+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:07.959+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254586736 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:07.962+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:07.964+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:07.960+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@515240695 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:07.960+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245533104 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:07.961+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:07.971+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:07.975+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:07.980+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:07.983+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:07.994+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:08.010+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb2773a]
2025-12-29T17:46:08.015+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:08.033+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6302f29a]
2025-12-29T17:46:08.015+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:08.042+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796abfa6]
2025-12-29T17:46:08.029+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:08.033+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.042+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.044+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.045+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbd8056]
2025-12-29T17:46:08.045+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c69539] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.050+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a46ba1] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.074+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:46:08.077+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.077+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872691153 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:08.078+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1762292783 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:08.082+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.083+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9d7afb] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.086+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.086+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:08.087+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660538394 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.088+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.089+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:08.089+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.121+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.122+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.129+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:08.131+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c69539]
2025-12-29T17:46:08.132+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a46ba1]
2025-12-29T17:46:08.133+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.138+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.139+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.141+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b333be] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.142+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9d7afb]
2025-12-29T17:46:08.142+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:08.143+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453983180 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:08.144+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.148+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e6895b] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.145+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.146+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:08.155+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013095390 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.160+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 11(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:08.160+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:08.161+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:08.165+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:08.178+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:08.178+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:08.182+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:08.183+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b333be]
2025-12-29T17:46:08.193+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:08.193+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e6895b]
2025-12-29T17:46:08.193+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.194+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:08.194+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.195+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8548131] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.195+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:08.197+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ecc95b2] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.197+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408685420 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:08.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282569057 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:08.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75dd23d5] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.199+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.199+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:08.199+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065355550 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:08.200+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.203+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:08.208+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:08.209+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:08.212+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.213+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8548131]
2025-12-29T17:46:08.214+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ecc95b2]
2025-12-29T17:46:08.215+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.215+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.223+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2035a3f9] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.224+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:08.225+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205841351 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:08.227+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.225+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:08.227+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.231+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75dd23d5]
2025-12-29T17:46:08.233+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.232+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.241+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a27d925] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.242+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645432895 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:08.245+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:08.248+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:08.249+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:08.265+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.273+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2035a3f9]
2025-12-29T17:46:08.265+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:08.274+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.276+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:08.277+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8cf0f31] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.277+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:08.279+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99110842 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:08.280+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:08.280+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:08.281+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.281+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 11(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:08.282+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:08.282+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1780229c] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.290+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a27d925]
2025-12-29T17:46:08.291+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@424140316 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.292+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.295+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:08.295+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:08.295+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:08.296+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8cf0f31]
2025-12-29T17:46:08.297+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:08.298+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.298+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.304+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f84c4e] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.308+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1983806759 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:08.308+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:08.310+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.311+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.311+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:08.312+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1780229c]
2025-12-29T17:46:08.313+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.314+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.315+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:08.315+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587ad427] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.315+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f84c4e]
2025-12-29T17:46:08.316+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:08.316+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1324915062 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.317+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.321+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:08.322+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.324+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:08.325+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.325+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.326+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:46:08.328+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b681fb] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.330+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.339+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@958796013 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:08.339+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587ad427]
2025-12-29T17:46:08.340+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:08.341+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.342+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36801a73] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.342+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.342+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:08.343+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@945105768 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.345+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:08.347+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:46:08.347+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:08.354+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:46:08.358+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:46:08.359+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:08.359+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:08.360+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b681fb]
2025-12-29T17:46:08.360+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.359+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:46:08.360+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36801a73]
2025-12-29T17:46:08.360+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd266db] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.361+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:46:08.361+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.361+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493082051 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:08.363+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.364+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be1c5aa] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.365+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:08.367+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:08.365+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116559e6] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.366+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872061428 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.376+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.379+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.374+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500234762 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:08.390+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:08.392+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:08.395+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:08.398+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd266db]
2025-12-29T17:46:08.398+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.406+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:08.407+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be1c5aa]
2025-12-29T17:46:08.407+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.408+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.407+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116559e6]
2025-12-29T17:46:08.408+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:08.409+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:08.410+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.413+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36cedb9a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.411+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.413+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224333516 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:08.413+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.415+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.419+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:08.424+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.427+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:08.430+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:08.431+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:08.431+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.432+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:08.433+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.433+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541c2bd] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.432+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36cedb9a]
2025-12-29T17:46:08.442+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@323337018 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.442+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.443+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:08.444+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569a0192] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.446+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:08.447+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@373822160 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:08.450+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:08.451+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 11(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:08.463+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:08.463+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:08.464+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569a0192]
2025-12-29T17:46:08.466+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541c2bd]
2025-12-29T17:46:08.474+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.475+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.476+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59453d93] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.477+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aab5392] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.478+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1599418808 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:08.479+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569649232 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.479+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:08.480+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.481+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:08.481+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.496+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.496+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:08.498+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aab5392]
2025-12-29T17:46:08.505+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.505+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a8b41d] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.499+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59453d93]
2025-12-29T17:46:08.508+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223645017 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.509+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.509+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:08.509+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4835d11f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.510+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:08.511+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@955044911 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:08.513+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.514+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.516+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:08.522+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a8b41d]
2025-12-29T17:46:08.523+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.524+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.524+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4835d11f]
2025-12-29T17:46:08.524+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fff5bb] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.525+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.525+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470465989 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:08.526+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.526+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.525+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ccd7845] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.529+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1251408362 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:08.530+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:08.531+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 11(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:08.532+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.536+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fff5bb]
2025-12-29T17:46:08.539+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.540+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:08.540+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:08.541+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ccd7845]
2025-12-29T17:46:08.541+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:08.541+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:08.543+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7721175d] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:08.546+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259461707 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:08.548+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:08.549+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:08.555+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:08.556+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7721175d]
2025-12-29T17:46:08.557+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:08.558+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:46:08.559+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:12.370+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/11?userId=1
2025-12-29T17:46:12.397+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/expenses/11?userId=1
2025-12-29T17:46:12.415+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/11
2025-12-29T17:46:12.421+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/expenses/11?userId=1
2025-12-29T17:46:12.422+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/api/expenses/11?userId=1", parameters={masked}
2025-12-29T17:46:12.427+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#deleteExpense(Long)
2025-12-29T17:46:12.430+09:00  INFO 61128 --- [http-nio-8080-exec-3] c.i.b.controller.ExpenseController       : 지출결의서 삭제 요청 - expenseId: 11, userId: 1
2025-12-29T17:46:12.443+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:12.443+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.443+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450957690 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will be managed by Spring
2025-12-29T17:46:12.444+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:46:12.444+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:46:12.447+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:46:12.447+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.448+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2] from current transaction
2025-12-29T17:46:12.449+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:12.450+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:12.458+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:12.459+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.459+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2] from current transaction
2025-12-29T17:46:12.459+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.460+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2] from current transaction
2025-12-29T17:46:12.461+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.462+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2] from current transaction
2025-12-29T17:46:12.462+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.MonthlyClosingMapper.isClosed    : ==>  Preparing: SELECT COUNT(*) > 0 FROM monthly_closing_tb WHERE company_id = ? AND closing_year = ? AND closing_month = ? AND is_closed = 1
2025-12-29T17:46:12.463+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.MonthlyClosingMapper.isClosed    : ==> Parameters: 1(Long), 2025(Integer), 12(Integer)
2025-12-29T17:46:12.466+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.MonthlyClosingMapper.isClosed    : <==      Total: 1
2025-12-29T17:46:12.467+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.473+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2] from current transaction
2025-12-29T17:46:12.473+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.deleteExpenseReport            : ==>  Preparing: DELETE FROM expense_report_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:46:12.473+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.deleteExpenseReport            : ==> Parameters: 11(Long), 1(Long)
2025-12-29T17:46:12.477+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.deleteExpenseReport            : <==    Updates: 1
2025-12-29T17:46:12.478+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.479+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.480+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.480+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c05abc2]
2025-12-29T17:46:12.493+09:00  INFO 61128 --- [http-nio-8080-exec-3] c.i.b.controller.ExpenseController       : 지출결의서 삭제 완료 - expenseId: 11
2025-12-29T17:46:12.494+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:12.495+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 삭제 완료, data=null)]
2025-12-29T17:46:12.497+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:13.253+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:46:13.260+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:46:13.261+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:46:13.261+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:46:13.262+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:46:13.263+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:13.263+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b9357a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:13.266+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866472118 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:13.272+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:13.276+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:13.279+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:46:13.281+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b9357a]
2025-12-29T17:46:13.281+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:13.282+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41cc73b1] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:13.283+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@427609192 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:13.289+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:13.292+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:13.296+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:13.300+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41cc73b1]
2025-12-29T17:46:13.304+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:13.348+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e8fd02] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:13.355+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68899733 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:13.358+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:13.360+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:13.444+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:46:13.447+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e8fd02]
2025-12-29T17:46:13.447+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:13.448+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3abef3fe] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:13.449+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1541347654 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:13.474+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:13.475+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:13.481+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 8
2025-12-29T17:46:13.483+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3abef3fe]
2025-12-29T17:46:13.490+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:13.491+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20df5241] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:13.495+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1832084647 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:13.495+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:13.496+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:13.499+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:13.505+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20df5241]
2025-12-29T17:46:13.507+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:13.508+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78c7ce1b] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:13.509+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@584107544 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:13.510+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:13.511+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:13.516+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 9
2025-12-29T17:46:13.526+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78c7ce1b]
2025-12-29T17:46:13.526+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:13.527+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fa9974] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:13.529+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1988832870 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:13.530+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:13.533+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:13.545+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:13.546+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fa9974]
2025-12-29T17:46:13.547+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:13.549+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:46:13.551+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:15.688+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:15.689+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:15.689+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T17:46:15.695+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:15.697+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:15.710+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/approvers
2025-12-29T17:46:15.710+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:15.713+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:15.713+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T17:46:15.714+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:15.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:15.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T17:46:15.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:15.716+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:15.721+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T17:46:15.725+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.727+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162144f4] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e622272] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.729+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a20802e] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.738+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934402818 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:15.739+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@950213226 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:15.741+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2045194441 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:15.741+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:15.742+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:15.742+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T17:46:15.743+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:15.744+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T17:46:15.743+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:15.747+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:15.747+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:15.749+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162144f4]
2025-12-29T17:46:15.748+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T17:46:15.750+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e622272]
2025-12-29T17:46:15.753+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.754+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a20802e]
2025-12-29T17:46:15.755+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.755+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56370486] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.755+09:00  INFO 61128 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T17:46:15.755+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45664d63] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.756+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732195533 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:15.759+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581652179 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:15.757+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:15.759+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:15.759+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:15.760+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:15.760+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:15.762+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:15.762+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:15.766+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T17:46:15.763+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45664d63]
2025-12-29T17:46:15.766+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56370486]
2025-12-29T17:46:15.773+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:15.777+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-29T17:46:15.778+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:15.779+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.792+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18200d90] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.789+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/approvers
2025-12-29T17:46:15.791+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:15.793+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1994205478 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:15.794+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:15.793+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-29T17:46:15.794+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:15.795+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:15.795+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-29T17:46:15.798+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-29T17:46:15.799+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.800+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca2e924] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.800+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:15.806+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18200d90]
2025-12-29T17:46:15.805+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1377350357 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:15.807+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:15.811+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-29T17:46:15.812+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7609b036] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:15.814+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-29T17:46:15.814+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851621354 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:15.814+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:15.815+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:15.817+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 4
2025-12-29T17:46:15.821+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca2e924]
2025-12-29T17:46:15.822+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:15.822+09:00  INFO 61128 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 4
2025-12-29T17:46:15.823+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7609b036]
2025-12-29T17:46:15.823+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:15.824+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:15.825+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=2, username=test_user1, passwor (truncated)...]
2025-12-29T17:46:15.826+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:15.827+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:15.831+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:18.282+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-29T17:46:18.283+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-29T17:46:32.524+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-29T17:46:32.527+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/create
2025-12-29T17:46:32.528+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-29T17:46:32.528+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-29T17:46:32.529+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-29T17:46:32.530+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=1, reportDate=2025-12-29, title=test, totalAmount=1 (truncated)...]
2025-12-29T17:46:32.531+09:00  INFO 61128 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 1, currentUserId: 1, title: test, totalAmount: 11111
2025-12-29T17:46:32.543+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:32.543+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.544+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998720546 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will be managed by Spring
2025-12-29T17:46:32.545+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:32.547+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:32.550+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:32.557+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.558+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.558+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:46:32.561+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), 12(Integer), 12(Integer), 식대(String)
2025-12-29T17:46:32.565+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:46:32.566+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.566+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.572+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-29T17:46:32.574+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), null, null, 식대(String)
2025-12-29T17:46:32.578+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-29T17:46:32.578+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.580+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.580+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:46:32.581+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 1(Long), 2025-12-29(LocalDate), test(String), 11111(Long), WAIT(String), 2025-12-29(LocalDate), false(Boolean), 1(Long)
2025-12-29T17:46:32.589+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-29T17:46:32.589+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.590+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-29T17:46:32.591+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.591+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-29T17:46:32.592+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 12(Long), 식대(String), test(String), 11111(Long), 1111(String), 1(Long)
2025-12-29T17:46:32.595+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-29T17:46:32.595+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.597+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-29T17:46:32.598+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 결재 라인 저장 시작 - 라인 수: 2
2025-12-29T17:46:32.598+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.598+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:46:32.599+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 12(Long), 2(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-29T17:46:32.606+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-29T17:46:32.606+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.607+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.607+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:46:32.608+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 12(Long), 4(Long), 2(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-29T17:46:32.611+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-29T17:46:32.612+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.612+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 결재 라인 저장 완료
2025-12-29T17:46:32.613+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.613+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:46:32.614+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:32.616+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:46:32.621+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.622+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.624+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:46:32.624+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:32.627+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:46:32.628+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.629+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c] from current transaction
2025-12-29T17:46:32.629+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.A.findActiveByCompanyId          : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? AND is_active = 1 ORDER BY rule_type, rule_name
2025-12-29T17:46:32.630+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.A.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-29T17:46:32.632+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.A.findActiveByCompanyId          : <==      Total: 0
2025-12-29T17:46:32.633+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.636+09:00  INFO 61128 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 12
2025-12-29T17:46:32.637+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.638+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.638+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43afe02c]
2025-12-29T17:46:32.645+09:00  INFO 61128 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 12
2025-12-29T17:46:32.646+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:32.646+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=12)]
2025-12-29T17:46:32.647+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:32.654+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12/approval-lines
2025-12-29T17:46:32.657+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/12/approval-lines
2025-12-29T17:46:32.660+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/12/approval-lines
2025-12-29T17:46:32.661+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/12/approval-lines
2025-12-29T17:46:32.662+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/12/approval-lines", parameters={}
2025-12-29T17:46:32.663+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#setApprovalLines(Long, ApprovalLineRequest)
2025-12-29T17:46:32.664+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.ApprovalLineRequest(approvalLines=[ApprovalLineDto(approvalLineId=null, expenseRep (truncated)...]
2025-12-29T17:46:32.665+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:32.666+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e7c04]
2025-12-29T17:46:32.671+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797266267 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will be managed by Spring
2025-12-29T17:46:32.672+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:46:32.673+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 12(Long), 2(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-29T17:46:32.676+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-29T17:46:32.677+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e7c04]
2025-12-29T17:46:32.677+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e7c04] from current transaction
2025-12-29T17:46:32.677+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-29T17:46:32.678+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 12(Long), 4(Long), 2(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-29T17:46:32.681+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-29T17:46:32.681+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e7c04]
2025-12-29T17:46:32.682+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.backend.service.ExpenseService       : 결재 라인 저장 완료 - expenseReportId: 12, 라인 수: 2
2025-12-29T17:46:32.686+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e7c04]
2025-12-29T17:46:32.686+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e7c04]
2025-12-29T17:46:32.686+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e7c04]
2025-12-29T17:46:32.695+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:32.695+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 라인 설정 성공, data=null)]
2025-12-29T17:46:32.697+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:33.609+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2025-12-29T17:46:33.610+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2025-12-29T17:46:33.610+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:33.610+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:33.615+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:33.621+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:33.622+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:33.624+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-29T17:46:33.625+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:33.626+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:33.632+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:33.631+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/12
2025-12-29T17:46:33.637+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:33.638+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:33.639+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-29T17:46:33.639+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.639+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.641+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41bee45a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.640+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-29T17:46:33.640+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ffde5e] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.643+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:46:33.658+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.660+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@230087902 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:33.660+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@694917316 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:33.660+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31083841] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.661+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:33.662+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:33.663+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:33.666+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:33.673+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@261896900 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.675+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:46:33.675+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:33.676+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.676+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41bee45a]
2025-12-29T17:46:33.678+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:33.680+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.681+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ffde5e]
2025-12-29T17:46:33.681+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ff595e] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.682+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.682+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158155835 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:33.682+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28b81c9c] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.684+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:46:33.687+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:33.689+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1129691092 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:33.691+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31083841]
2025-12-29T17:46:33.692+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:33.692+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:33.693+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.699+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39cef979] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.699+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:33.708+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1846604048 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.709+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:46:33.710+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.723+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:33.723+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:33.725+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:46:33.726+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ff595e]
2025-12-29T17:46:33.726+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28b81c9c]
2025-12-29T17:46:33.727+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39cef979]
2025-12-29T17:46:33.727+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:33.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a75554f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.728+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:33.729+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f8b316] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.730+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1359731446 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:33.730+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@666077793 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.730+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:33.731+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:33.733+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:46:33.740+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:33.741+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.752+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:46:33.753+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:33.760+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f8b316]
2025-12-29T17:46:33.760+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a75554f]
2025-12-29T17:46:33.761+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.761+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.762+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb366ee] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.763+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316e56c9] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.766+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@25277062 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:33.765+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1199507597 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.771+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:33.771+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:46:33.771+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:33.774+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.777+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:33.779+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316e56c9]
2025-12-29T17:46:33.779+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:46:33.780+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:33.780+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb366ee]
2025-12-29T17:46:33.781+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:33.781+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.782+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:33.782+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2104d724] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.790+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366311420 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.795+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:33.797+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:33.805+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:33.807+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2104d724]
2025-12-29T17:46:33.808+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:33.809+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-29T17:46:33.810+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:33.813+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-29T17:46:33.824+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/12
2025-12-29T17:46:33.825+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-29T17:46:33.826+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-29T17:46:33.826+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:46:33.827+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.831+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2e3c8a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.832+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@465197623 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.840+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:46:33.841+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.846+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:46:33.847+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2e3c8a]
2025-12-29T17:46:33.847+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.848+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbe147d] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.850+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1169072492 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.853+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:46:33.854+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.857+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:46:33.858+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbe147d]
2025-12-29T17:46:33.858+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.858+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7764404] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.859+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745139051 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.860+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:46:33.861+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.865+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:46:33.870+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7764404]
2025-12-29T17:46:33.871+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.871+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650cf58] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.872+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084849271 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.872+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:46:33.873+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:33.877+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:46:33.877+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650cf58]
2025-12-29T17:46:33.878+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:33.878+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d1b8b7] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:33.879+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@863738778 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:33.879+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:33.880+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:33.882+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:33.882+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d1b8b7]
2025-12-29T17:46:33.885+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:33.886+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-29T17:46:33.889+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:39.469+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:46:39.469+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:39.470+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:39.471+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-29T17:46:39.474+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:39.473+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:46:39.473+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:39.476+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:46:39.475+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:39.476+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-29T17:46:39.477+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:39.477+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:46:39.477+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:39.478+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-29T17:46:39.480+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:39.480+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:46:39.481+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:39.490+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.481+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-29T17:46:39.484+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:39.489+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.492+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5535873f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.492+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-29T17:46:39.493+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.494+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.493+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@603251d0] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.494+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c338d53] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.495+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5d6e7f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.496+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@980642685 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:39.507+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:39.509+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609718498 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.510+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:39.509+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2077392988 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.509+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709046083 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:39.510+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:39.510+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:39.510+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:39.511+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:39.513+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:39.514+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:39.520+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:39.521+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5535873f]
2025-12-29T17:46:39.523+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.524+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:39.526+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58794e6b] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.527+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:39.527+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:39.529+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@603251d0]
2025-12-29T17:46:39.530+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@306384442 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:39.530+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c338d53]
2025-12-29T17:46:39.532+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5d6e7f]
2025-12-29T17:46:39.532+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.533+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:39.535+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.538+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6868f3] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.538+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:39.539+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:39.539+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb7f94d] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.540+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1714005457 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.540+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-29T17:46:39.542+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136644663 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.544+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.546+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:39.546+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.547+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.548+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:39.549+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.553+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58794e6b]
2025-12-29T17:46:39.557+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:39.559+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:39.560+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:39.560+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:39.562+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:39.562+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb7f94d]
2025-12-29T17:46:39.563+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6868f3]
2025-12-29T17:46:39.563+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.564+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.565+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6783958e] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.565+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:39.565+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f883d9] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.569+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1448048034 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.577+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:39.575+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:39.576+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@714363365 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.578+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:39.578+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:39.578+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:39.579+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:39.579+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:39.580+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:39.581+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.587+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e88bb6] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.588+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:39.588+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:39.591+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f883d9]
2025-12-29T17:46:39.590+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1706976940 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:39.590+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6783958e]
2025-12-29T17:46:39.592+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.592+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:39.594+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.596+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e9ace6] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.597+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:39.597+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4420ffbb] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.598+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161617385 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.598+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1064578388 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.600+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.599+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:39.604+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.605+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:39.606+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:39.607+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e88bb6]
2025-12-29T17:46:39.608+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.608+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:39.609+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e7f18a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.610+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4420ffbb]
2025-12-29T17:46:39.611+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@618625595 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:39.611+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:39.611+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:39.613+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:39.613+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:39.614+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:39.614+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e9ace6]
2025-12-29T17:46:39.615+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.615+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:39.618+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b90a0a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.623+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:39.624+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@719196167 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.625+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.636+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:39.637+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.639+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:39.640+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:39.641+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:39.641+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e7f18a]
2025-12-29T17:46:39.642+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:39.642+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:39.642+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:39.645+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.645+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b90a0a]
2025-12-29T17:46:39.646+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:39.648+09:00 DEBUG 61128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:39.646+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1182ac14] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.647+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.658+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318542169 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.658+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3943beae] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.660+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:39.662+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841030358 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.665+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:39.661+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:39.665+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:39.671+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:39.672+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:39.672+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:39.674+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:39.677+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:39.678+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:39.678+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:39.679+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.679+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3943beae]
2025-12-29T17:46:39.680+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1182ac14]
2025-12-29T17:46:39.690+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.691+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f78884] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.680+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f61342e] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.680+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.693+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1351707650 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.698+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.700+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.696+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1424086202 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.698+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a11744] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.707+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:39.708+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@766737936 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:39.709+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:39.709+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.710+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.712+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:39.712+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:39.712+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:39.713+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a11744]
2025-12-29T17:46:39.714+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f78884]
2025-12-29T17:46:39.714+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f61342e]
2025-12-29T17:46:39.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:39.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321971bf] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.715+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:46:39.716+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19120acf] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.721+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1514306768 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.722+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@534027655 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:39.722+09:00 DEBUG 61128 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:39.723+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:39.723+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:39.725+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-29T17:46:39.726+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:39.726+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:39.729+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-29T17:46:39.731+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-29T17:46:39.738+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-29T17:46:39.739+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-29T17:46:39.739+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:39.739+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:39.741+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.741+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321971bf]
2025-12-29T17:46:39.741+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19120acf]
2025-12-29T17:46:39.741+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ce7a210] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.742+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.743+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:39.744+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610377051 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:39.744+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60e76c79] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.745+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:39.745+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:39.746+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@420113747 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:39.753+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.747+09:00 DEBUG 61128 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:39.749+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:39.754+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.943+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:39.968+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ce7a210]
2025-12-29T17:46:39.969+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:39.970+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d88d6a2] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:39.970+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1818106401 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:39.971+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:39.973+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:39.975+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:39.980+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60e76c79]
2025-12-29T17:46:39.989+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:39.991+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:40.005+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:40.005+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d88d6a2]
2025-12-29T17:46:40.006+09:00 DEBUG 61128 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:40.007+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.011+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce0b711] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.020+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@659970537 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:40.021+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:40.024+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:40.027+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:40.029+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:40.030+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:40.031+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:40.043+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:40.062+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.062+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@319bd70a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.064+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:40.074+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@908168170 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:40.076+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce0b711]
2025-12-29T17:46:40.077+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:40.077+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.079+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:40.079+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48609f08] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.092+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1636950314 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:40.111+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-29T17:46:40.112+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-29T17:46:40.115+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:40.122+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@319bd70a]
2025-12-29T17:46:40.124+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.125+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b36d215] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.126+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-29T17:46:40.127+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1148871678 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:40.131+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48609f08]
2025-12-29T17:46:40.131+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:40.132+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.142+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:40.144+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@614cff03] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.145+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@756589821 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:40.153+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:40.157+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:40.159+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:40.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b36d215]
2025-12-29T17:46:40.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71271c3f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.201+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1822219892 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:40.205+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:40.208+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:40.224+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:40.224+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:40.227+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@614cff03]
2025-12-29T17:46:40.228+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.229+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc3472d] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.227+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71271c3f]
2025-12-29T17:46:40.231+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1525747537 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:40.233+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:40.231+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.239+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732ab869] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.237+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-29T17:46:40.240+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975541463 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:40.241+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:40.242+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:40.261+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:40.262+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732ab869]
2025-12-29T17:46:40.262+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:40.263+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:40.265+09:00 DEBUG 61128 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:40.273+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-29T17:46:40.274+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc3472d]
2025-12-29T17:46:40.275+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:40.275+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9e99f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:40.276+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1132805162 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:40.276+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:40.277+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:40.281+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:40.282+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9e99f]
2025-12-29T17:46:40.283+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:40.285+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-29T17:46:40.287+09:00 DEBUG 61128 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:41.132+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:41.135+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-29T17:46:41.137+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-29T17:46:41.147+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-29T17:46:41.155+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-29T17:46:41.153+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-29T17:46:41.155+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/12
2025-12-29T17:46:41.157+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-29T17:46:41.156+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-29T17:46:41.156+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-29T17:46:41.158+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-29T17:46:41.157+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-29T17:46:41.157+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-29T17:46:41.159+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-29T17:46:41.160+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:46:41.163+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.160+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.161+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.165+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ce9c96] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.171+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23b37aa7] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.173+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b08c781] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.193+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059768791 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:41.193+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389684667 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:41.194+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802399308 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:41.194+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-29T17:46:41.195+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-29T17:46:41.196+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:46:41.198+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-29T17:46:41.204+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-29T17:46:41.208+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.213+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-29T17:46:41.214+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-29T17:46:41.216+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23b37aa7]
2025-12-29T17:46:41.221+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b08c781]
2025-12-29T17:46:41.223+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.224+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.224+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285684b7] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.225+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:46:41.228+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdbab3a] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.229+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1668905355 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:41.229+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ce9c96]
2025-12-29T17:46:41.230+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1447088120 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c082fa7] will not be managed by Spring
2025-12-29T17:46:41.231+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:41.231+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.237+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a53556f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.232+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-29T17:46:41.233+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:41.238+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1596254377 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:41.239+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-29T17:46:41.239+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:46:41.240+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.244+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-29T17:46:41.244+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:46:41.244+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:41.244+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdbab3a]
2025-12-29T17:46:41.245+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a53556f]
2025-12-29T17:46:41.245+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285684b7]
2025-12-29T17:46:41.245+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:41.247+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.248+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b28603] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.247+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.248+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-29T17:46:41.249+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685392983 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:41.249+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7126d3ee] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.250+09:00 DEBUG 61128 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:41.255+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:46:41.256+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841922625 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:41.259+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.259+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-29T17:46:41.263+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-29T17:46:41.265+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:46:41.271+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b28603]
2025-12-29T17:46:41.272+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.273+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-29T17:46:41.273+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21417e22] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.274+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7126d3ee]
2025-12-29T17:46:41.274+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176559731 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:41.275+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.275+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:46:41.276+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6e61c5] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.278+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.278+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829793477 wrapping com.mysql.cj.jdbc.ConnectionImpl@4f597b0d] will not be managed by Spring
2025-12-29T17:46:41.279+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:41.281+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:41.281+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:46:41.290+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21417e22]
2025-12-29T17:46:41.292+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.292+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a8776e] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.293+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:41.294+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2108859351 wrapping com.mysql.cj.jdbc.ConnectionImpl@59bfd3f6] will not be managed by Spring
2025-12-29T17:46:41.295+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6e61c5]
2025-12-29T17:46:41.295+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:41.297+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:41.297+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:41.298+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-29T17:46:41.307+09:00 DEBUG 61128 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:41.307+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:41.314+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a8776e]
2025-12-29T17:46:41.315+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:41.321+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-29T17:46:41.323+09:00 DEBUG 61128 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-29T17:46:41.326+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-29T17:46:41.330+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/12
2025-12-29T17:46:41.331+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-29T17:46:41.338+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-29T17:46:41.339+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-29T17:46:41.342+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.346+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18342197] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.348+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160401073 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:41.349+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-29T17:46:41.355+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.359+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-29T17:46:41.359+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18342197]
2025-12-29T17:46:41.360+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.361+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b46d74] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.362+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1054024127 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:41.362+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-29T17:46:41.363+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.371+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-29T17:46:41.372+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b46d74]
2025-12-29T17:46:41.375+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.377+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d133520] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.378+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500966971 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:41.378+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-29T17:46:41.381+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.388+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 4
2025-12-29T17:46:41.395+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d133520]
2025-12-29T17:46:41.395+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.397+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4935678f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.397+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562108348 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:41.397+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-29T17:46:41.398+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-29T17:46:41.407+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-29T17:46:41.408+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4935678f]
2025-12-29T17:46:41.408+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-29T17:46:41.408+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322b4d0f] was not registered for synchronization because synchronization is not active
2025-12-29T17:46:41.409+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354780122 wrapping com.mysql.cj.jdbc.ConnectionImpl@78deba66] will not be managed by Spring
2025-12-29T17:46:41.409+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-29T17:46:41.410+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-29T17:46:41.412+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-29T17:46:41.413+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322b4d0f]
2025-12-29T17:46:41.415+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-29T17:46:41.416+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-29T17:46:41.422+09:00 DEBUG 61128 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
