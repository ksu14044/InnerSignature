2025-12-17T15:00:47.456+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:37.621+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T15:01:37.631+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/logout
2025-12-17T15:01:37.642+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T15:01:37.647+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T15:01:37.666+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T15:01:37.675+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNiIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T15:01:37.684+09:00  INFO 21000 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=16
2025-12-17T15:01:37.685+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:37.686+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T15:01:37.688+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:43.629+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T15:01:43.630+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:01:43.631+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T15:01:43.631+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T15:01:43.631+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T15:01:43.632+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testuser3, password=1234)]
2025-12-17T15:01:43.632+09:00  INFO 21000 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: testuser3
2025-12-17T15:01:43.633+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:43.633+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17eb85b6] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:43.635+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216273988 wrapping com.mysql.cj.jdbc.ConnectionImpl@1907be77] will not be managed by Spring
2025-12-17T15:01:43.635+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T15:01:43.636+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testuser3(String)
2025-12-17T15:01:43.639+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T15:01:43.640+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17eb85b6]
2025-12-17T15:01:43.728+09:00  INFO 21000 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 34, role: USER, companyId: 4
2025-12-17T15:01:43.729+09:00  INFO 21000 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=34 username=testuser3 role=USER
2025-12-17T15:01:43.730+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:43.730+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=34, username=testuser3, password (truncated)...]
2025-12-17T15:01:43.731+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:44.100+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T15:01:44.100+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:01:44.104+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T15:01:44.104+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses
2025-12-17T15:01:44.108+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T15:01:44.105+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:01:44.115+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=34", parameters={masked}
2025-12-17T15:01:44.116+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T15:01:44.116+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.115+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T15:01:44.117+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T15:01:44.117+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@132233b] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.118+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.119+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@700a34cc] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.133+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267999545 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.133+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T15:01:44.134+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112541175 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:44.135+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 34(Long), 4(Long)
2025-12-17T15:01:44.135+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:01:44.137+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:01:44.139+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T15:01:44.140+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@132233b]
2025-12-17T15:01:44.140+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:01:44.141+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:44.141+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@700a34cc]
2025-12-17T15:01:44.142+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T15:01:44.148+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.148+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7289bfd8] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.148+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1594071086 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:44.148+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:44.149+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:44.150+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:44.150+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:01:44.153+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T15:01:44.154+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:01:44.155+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:44.155+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=34", parameters={masked}
2025-12-17T15:01:44.155+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7289bfd8]
2025-12-17T15:01:44.155+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T15:01:44.155+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.156+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb2f0ce] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.156+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.156+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1408955903 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:44.156+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77980bd5] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.158+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:01:44.171+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:01:44.184+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@302769162 wrapping com.mysql.cj.jdbc.ConnectionImpl@2579807c] will not be managed by Spring
2025-12-17T15:01:44.185+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T15:01:44.187+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:01:44.189+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 34(Long), 4(Long)
2025-12-17T15:01:44.190+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb2f0ce]
2025-12-17T15:01:44.191+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.191+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa616bc] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.193+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@74034438 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:44.194+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T15:01:44.202+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:01:44.203+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77980bd5]
2025-12-17T15:01:44.204+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:01:44.205+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:44.206+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T15:01:44.208+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:44.217+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:01:44.220+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa616bc]
2025-12-17T15:01:44.220+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.222+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea751cd] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.222+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@33275219 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:44.223+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:44.223+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:44.225+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:44.227+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea751cd]
2025-12-17T15:01:44.232+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.232+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6786a5] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.233+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067437501 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:44.233+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:01:44.233+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:01:44.235+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:01:44.236+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f6786a5]
2025-12-17T15:01:44.236+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.238+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769a1d3c] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.238+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1174142948 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:44.240+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:44.240+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:44.242+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:44.243+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769a1d3c]
2025-12-17T15:01:44.249+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:44.249+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T15:01:44.250+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:44.258+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T15:01:44.264+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses
2025-12-17T15:01:44.265+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T15:01:44.265+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T15:01:44.266+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T15:01:44.267+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.267+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377bc866] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.268+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@999453880 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.268+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:01:44.269+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:01:44.271+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:01:44.272+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377bc866]
2025-12-17T15:01:44.273+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.273+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c1c50db] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.274+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1699578310 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.274+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:44.276+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:44.283+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:44.284+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c1c50db]
2025-12-17T15:01:44.284+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.284+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a02dd52] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.285+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425463361 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.285+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:01:44.286+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:01:44.289+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:01:44.289+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a02dd52]
2025-12-17T15:01:44.290+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.290+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c09c6a] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.291+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@746862957 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.299+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:01:44.301+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:01:44.304+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:01:44.304+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c09c6a]
2025-12-17T15:01:44.305+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.305+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d7186e] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.305+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995504018 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.305+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:44.306+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:44.309+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:44.310+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d7186e]
2025-12-17T15:01:44.314+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.314+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fbcfd2] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.315+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764075435 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.316+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:01:44.317+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:01:44.324+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:01:44.325+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fbcfd2]
2025-12-17T15:01:44.326+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:44.328+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fdfc70] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:44.329+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@151337058 wrapping com.mysql.cj.jdbc.ConnectionImpl@4920a1c8] will not be managed by Spring
2025-12-17T15:01:44.329+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:44.330+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:44.332+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:44.332+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fdfc70]
2025-12-17T15:01:44.333+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:44.334+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T15:01:44.335+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:46.738+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/73
2025-12-17T15:01:46.740+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/73
2025-12-17T15:01:46.740+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/73
2025-12-17T15:01:46.741+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/73", parameters={}
2025-12-17T15:01:46.742+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T15:01:46.748+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.748+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fbabc1c] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.750+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44141774 wrapping com.mysql.cj.jdbc.ConnectionImpl@2579807c] will not be managed by Spring
2025-12-17T15:01:46.751+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T15:01:46.752+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.755+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T15:01:46.756+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fbabc1c]
2025-12-17T15:01:46.758+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.758+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f40130f] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.758+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@106013261 wrapping com.mysql.cj.jdbc.ConnectionImpl@2579807c] will not be managed by Spring
2025-12-17T15:01:46.759+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T15:01:46.763+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.766+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T15:01:46.767+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f40130f]
2025-12-17T15:01:46.768+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.768+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd282c0] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.768+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1916086302 wrapping com.mysql.cj.jdbc.ConnectionImpl@2579807c] will not be managed by Spring
2025-12-17T15:01:46.769+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T15:01:46.769+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.775+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-17T15:01:46.775+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd282c0]
2025-12-17T15:01:46.779+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.779+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ec309fa] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.780+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@743414130 wrapping com.mysql.cj.jdbc.ConnectionImpl@2579807c] will not be managed by Spring
2025-12-17T15:01:46.780+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T15:01:46.781+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.783+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T15:01:46.784+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ec309fa]
2025-12-17T15:01:46.784+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.784+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb5987] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.785+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2056324915 wrapping com.mysql.cj.jdbc.ConnectionImpl@2579807c] will not be managed by Spring
2025-12-17T15:01:46.785+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:46.786+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:46.788+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:46.788+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb5987]
2025-12-17T15:01:46.789+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:46.801+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=73, drafterId=34,  (truncated)...]
2025-12-17T15:01:46.804+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:01:46.806+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/73
2025-12-17T15:01:46.813+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/73
2025-12-17T15:01:46.815+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/73
2025-12-17T15:01:46.816+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/73", parameters={}
2025-12-17T15:01:46.817+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T15:01:46.819+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.820+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b4d77e] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.822+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774051673 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:46.822+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T15:01:46.823+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.825+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T15:01:46.826+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b4d77e]
2025-12-17T15:01:46.832+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.834+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ca8815] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.834+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@803800221 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:46.836+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T15:01:46.837+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.839+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T15:01:46.840+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ca8815]
2025-12-17T15:01:46.840+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.841+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@827209c] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.841+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1808702381 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:46.845+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T15:01:46.847+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.851+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-17T15:01:46.852+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@827209c]
2025-12-17T15:01:46.854+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.854+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273638b8] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.855+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@379903746 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:46.855+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T15:01:46.856+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:01:46.858+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T15:01:46.859+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273638b8]
2025-12-17T15:01:46.863+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:01:46.864+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d8fa87] was not registered for synchronization because synchronization is not active
2025-12-17T15:01:46.865+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@918414812 wrapping com.mysql.cj.jdbc.ConnectionImpl@33f822d7] will not be managed by Spring
2025-12-17T15:01:46.866+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:01:46.866+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:01:46.869+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:01:46.870+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d8fa87]
2025-12-17T15:01:46.870+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:01:46.871+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=73, drafterId=34,  (truncated)...]
2025-12-17T15:01:46.872+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:25:53.443+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/73
2025-12-17T15:25:53.612+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/73
2025-12-17T15:25:53.701+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/73
2025-12-17T15:25:53.918+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/73", parameters={}
2025-12-17T15:25:54.001+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T15:25:54.075+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.103+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172cdbfd] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.246+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@692547602 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.268+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T15:25:54.280+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.300+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T15:25:54.310+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172cdbfd]
2025-12-17T15:25:54.311+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.312+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ae850f] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.326+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640282511 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.333+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T15:25:54.343+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.367+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T15:25:54.370+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ae850f]
2025-12-17T15:25:54.370+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.371+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e335c6] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.377+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@77612552 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.380+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T15:25:54.382+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.390+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-17T15:25:54.401+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e335c6]
2025-12-17T15:25:54.401+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.402+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f579c83] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.413+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732432810 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.414+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T15:25:54.414+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.430+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T15:25:54.432+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f579c83]
2025-12-17T15:25:54.433+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.434+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68655956] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.435+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1800758109 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.435+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:54.436+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:54.445+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:54.445+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68655956]
2025-12-17T15:25:54.446+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:25:54.447+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=73, drafterId=34,  (truncated)...]
2025-12-17T15:25:54.448+09:00 DEBUG 21000 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:25:54.460+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/73
2025-12-17T15:25:54.465+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/73
2025-12-17T15:25:54.469+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/73
2025-12-17T15:25:54.471+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/73", parameters={}
2025-12-17T15:25:54.480+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T15:25:54.484+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.487+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c1fc713] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.488+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@745692132 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.496+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T15:25:54.498+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.503+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T15:25:54.511+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c1fc713]
2025-12-17T15:25:54.515+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.517+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1467394c] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.520+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@912413580 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.521+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T15:25:54.530+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.534+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T15:25:54.535+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1467394c]
2025-12-17T15:25:54.537+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.538+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4498ad] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.539+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910458832 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.547+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T15:25:54.547+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.569+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-17T15:25:54.572+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4498ad]
2025-12-17T15:25:54.581+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.582+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1675a250] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.583+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@692830659 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.596+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T15:25:54.599+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 73(Long), 4(Long)
2025-12-17T15:25:54.607+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T15:25:54.611+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1675a250]
2025-12-17T15:25:54.613+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:54.614+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b38b172] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:54.618+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617231719 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:54.619+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:54.620+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:54.629+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:54.630+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b38b172]
2025-12-17T15:25:54.632+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:25:54.633+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=73, drafterId=34,  (truncated)...]
2025-12-17T15:25:54.635+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:25:55.142+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-17T15:25:55.147+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=34
2025-12-17T15:25:55.147+09:00 DEBUG 21000 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-17T15:25:55.148+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=34
2025-12-17T15:25:55.153+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T15:25:55.153+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:25:55.163+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses
2025-12-17T15:25:55.176+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T15:25:55.176+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T15:25:55.177+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T15:25:55.177+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:25:55.178+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T15:25:55.179+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=34", parameters={masked}
2025-12-17T15:25:55.181+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.182+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T15:25:55.182+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5d49e9] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.183+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.185+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1aaa15] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.200+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@878965479 wrapping com.mysql.cj.jdbc.ConnectionImpl@56605867] will not be managed by Spring
2025-12-17T15:25:55.200+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887182232 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.200+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T15:25:55.201+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:25:55.202+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 34(Long), 4(Long)
2025-12-17T15:25:55.203+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:25:55.214+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:25:55.214+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T15:25:55.214+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5d49e9]
2025-12-17T15:25:55.214+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1aaa15]
2025-12-17T15:25:55.214+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.215+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:25:55.216+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5990984d] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.216+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T15:25:55.217+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1145630910 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.218+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:25:55.218+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:55.221+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:55.222+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:25:55.227+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T15:25:55.228+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:55.229+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5990984d]
2025-12-17T15:25:55.229+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=34
2025-12-17T15:25:55.229+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.230+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=34", parameters={masked}
2025-12-17T15:25:55.230+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d8725e6] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.230+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T15:25:55.231+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074304235 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.232+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.233+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:25:55.233+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac3eaa9] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.238+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:25:55.238+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@592090907 wrapping com.mysql.cj.jdbc.ConnectionImpl@56605867] will not be managed by Spring
2025-12-17T15:25:55.246+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T15:25:55.247+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 34(Long), 4(Long)
2025-12-17T15:25:55.248+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:25:55.254+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d8725e6]
2025-12-17T15:25:55.260+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.262+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b49f7b] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.265+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991784670 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.266+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:25:55.267+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:25:55.268+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T15:25:55.270+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac3eaa9]
2025-12-17T15:25:55.270+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:25:55.277+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T15:25:55.279+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:25:55.281+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:25:55.283+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b49f7b]
2025-12-17T15:25:55.285+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.285+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ee6c9] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.286+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1964502672 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.286+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:55.286+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:55.291+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:55.293+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ee6c9]
2025-12-17T15:25:55.295+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.295+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8cd174] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.296+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1591763522 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.297+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:25:55.300+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:25:55.304+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:25:55.305+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8cd174]
2025-12-17T15:25:55.310+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.312+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24166fbb] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.312+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1750928700 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.313+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:55.313+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:55.315+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:55.317+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24166fbb]
2025-12-17T15:25:55.319+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:25:55.319+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T15:25:55.320+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:25:55.321+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T15:25:55.329+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 34, role: USER, companyId: 4, uri: /api/expenses
2025-12-17T15:25:55.345+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T15:25:55.345+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T15:25:55.346+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T15:25:55.349+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.365+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a4e440] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.366+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675224789 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.378+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:25:55.379+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:25:55.393+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:25:55.395+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a4e440]
2025-12-17T15:25:55.396+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.397+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bdf0639] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.397+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@214853606 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.398+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:55.398+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:55.400+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:55.401+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bdf0639]
2025-12-17T15:25:55.402+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.402+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7aa6ae] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.403+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762814358 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.404+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:25:55.404+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:25:55.411+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:25:55.411+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7aa6ae]
2025-12-17T15:25:55.411+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.411+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0563d5] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.412+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@122812717 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.412+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T15:25:55.413+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T15:25:55.415+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T15:25:55.417+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0563d5]
2025-12-17T15:25:55.419+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.419+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dcda64a] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.420+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@987850733 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.421+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:55.421+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:55.426+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:55.426+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dcda64a]
2025-12-17T15:25:55.427+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.428+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e9d7280] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.429+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@511861999 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.429+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T15:25:55.430+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T15:25:55.432+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T15:25:55.433+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e9d7280]
2025-12-17T15:25:55.434+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T15:25:55.434+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@166d8b3c] was not registered for synchronization because synchronization is not active
2025-12-17T15:25:55.435+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57799171 wrapping com.mysql.cj.jdbc.ConnectionImpl@6b22459] will not be managed by Spring
2025-12-17T15:25:55.435+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T15:25:55.435+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 34(Long)
2025-12-17T15:25:55.437+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T15:25:55.438+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@166d8b3c]
2025-12-17T15:25:55.443+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T15:25:55.443+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T15:25:55.444+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T15:38:14.209+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:14.209+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:38:19.800+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:19.818+09:00 DEBUG 21000 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:38:21.484+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:21.494+09:00 DEBUG 21000 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:38:27.163+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:27.248+09:00 DEBUG 21000 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:38:27.897+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:27.917+09:00 DEBUG 21000 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:38:34.518+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:34.519+09:00 DEBUG 21000 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:38:35.081+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:35.081+09:00 DEBUG 21000 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:38:40.640+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /
2025-12-17T15:38:40.643+09:00 DEBUG 21000 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T15:45:54.546+09:00  INFO 21000 --- [http-nio-8080-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x010x0a0x010x000x010x060x030x03ZDM0xf40xa50x9c0xb1x0x14@(0xc60xec0xca0xcd0xd00x02\10xa80xbdv0xf20xceM'0xd30x000xc40xa7F0xe3 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:402) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-17T15:56:18.603+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-17T15:56:18.605+09:00 DEBUG 21000 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:05:04.661+09:00  INFO 44840 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 44840 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-17T16:05:04.668+09:00 DEBUG 44840 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-17T16:05:04.671+09:00  INFO 44840 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-17T16:05:06.568+09:00 DEBUG 44840 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-17T16:05:06.569+09:00 DEBUG 44840 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-17T16:05:06.921+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-17T16:05:06.924+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-17T16:05:06.924+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-17T16:05:06.925+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-17T16:05:06.927+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-17T16:05:06.933+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-17T16:05:06.937+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-17T16:05:06.942+09:00 DEBUG 44840 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-17T16:05:08.338+09:00  INFO 44840 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-17T16:05:08.371+09:00  INFO 44840 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-17T16:05:08.372+09:00  INFO 44840 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-17T16:05:08.494+09:00  INFO 44840 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-17T16:05:08.495+09:00  INFO 44840 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3711 ms
2025-12-17T16:05:08.618+09:00 DEBUG 44840 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-17T16:05:08.619+09:00 DEBUG 44840 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-17T16:05:09.109+09:00 DEBUG 44840 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-17T16:05:09.220+09:00 DEBUG 44840 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-17T16:05:09.237+09:00 DEBUG 44840 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-17T16:05:09.290+09:00 DEBUG 44840 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-17T16:05:10.363+09:00 DEBUG 44840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 58 mappings in 'requestMappingHandlerMapping'
2025-12-17T16:05:10.561+09:00 DEBUG 44840 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-17T16:05:10.604+09:00  WARN 44840 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 37d5a208-ecd5-4c5c-8a92-2526be908990

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-17T16:05:10.654+09:00  INFO 44840 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-17T16:05:10.937+09:00 DEBUG 44840 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-17T16:05:11.207+09:00 DEBUG 44840 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-17T16:05:11.342+09:00 DEBUG 44840 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-17T16:05:11.367+09:00 DEBUG 44840 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-17T16:05:11.935+09:00  INFO 44840 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-17T16:05:11.956+09:00  INFO 44840 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.283 seconds (process running for 8.956)
2025-12-17T16:05:15.131+09:00  INFO 44840 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-17T16:05:15.149+09:00  INFO 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-17T16:05:15.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-17T16:05:15.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-17T16:05:15.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-17T16:05:15.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@fce39b4
2025-12-17T16:05:15.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4afe5091
2025-12-17T16:05:15.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-17T16:05:15.406+09:00  INFO 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 245 ms
2025-12-17T16:05:15.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:05:15.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-17T16:05:15.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:05:15.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:05:16.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:05:16.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:05:16.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:05:16.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:05:16.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzNCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:05:16.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:16.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:05:16.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:33.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-17T16:05:33.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:05:33.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:05:33.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:05:33.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:05:33.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:05:33.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ha_exec, password=1234)]
2025-12-17T16:05:33.233+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: ha_exec
2025-12-17T16:05:33.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:33.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207d6fcf] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:33.270+09:00  INFO 44840 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-17T16:05:33.654+09:00  INFO 44840 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7059417f
2025-12-17T16:05:33.659+09:00  INFO 44840 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-17T16:05:33.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2034987299 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:33.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:05:33.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ha_exec(String)
2025-12-17T16:05:34.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:05:34.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207d6fcf]
2025-12-17T16:05:34.223+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 15, role: ADMIN, companyId: 1
2025-12-17T16:05:34.240+09:00  INFO 44840 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=15 username=ha_exec role=ADMIN
2025-12-17T16:05:34.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:34.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=15, username=ha_exec, password=n (truncated)...]
2025-12-17T16:05:34.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:35.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-17T16:05:35.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=15
2025-12-17T16:05:35.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-17T16:05:35.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=15
2025-12-17T16:05:35.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-17T16:05:35.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:05:35.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:05:35.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:05:35.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:05:35.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-17T16:05:35.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:05:35.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:05:35.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:05:35.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:05:35.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:05:35.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:05:35.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:05:35.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:05:35.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:05:35.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:05:35.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:05:35.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:05:35.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:05:35.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:05:35.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:05:35.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:05:35.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:05:35.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e2f9163] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:05:35.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6265b696] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23162984] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:05:35.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14995019] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934832347 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@662788568 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:05:35.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:05:35.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:05:35.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:05:35.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 15(Long)
2025-12-17T16:05:35.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610676666 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:05:35.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:05:35.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153102439 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:05:35.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:05:35.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:05:35.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:05:35.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:05:35.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23162984]
2025-12-17T16:05:35.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:35.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:05:35.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:05:35.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14995019]
2025-12-17T16:05:35.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:35.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:35.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:05:35.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:05:35.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6265b696]
2025-12-17T16:05:35.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:35.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:05:35.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e2f9163]
2025-12-17T16:05:35.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ce5081] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582178126 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cab6287] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:35.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:05:35.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@954316695 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:05:35.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:35.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:35.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:35.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:05:35.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:05:35.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:05:35.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:05:35.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:35.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:35.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cab6287]
2025-12-17T16:05:35.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:05:35.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ce5081]
2025-12-17T16:05:35.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4146db99] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:05:35.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2024fe8c] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@807984242 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:05:35.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:05:35.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@349890641 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a147415] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:05:35.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:05:35.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916588027 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:05:35.544+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:05:35.544+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:05:35.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:05:35.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:05:35.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:05:35.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a147415]
2025-12-17T16:05:35.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2024fe8c]
2025-12-17T16:05:35.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:35.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:05:35.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:05:35.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac8ed8d] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4146db99]
2025-12-17T16:05:35.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:35.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894480281 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:35.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f57edea] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:35.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1798995551 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:05:35.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:05:35.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:05:35.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:35.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac8ed8d]
2025-12-17T16:05:35.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:05:35.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:35.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f57edea]
2025-12-17T16:05:35.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:05:35.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.678+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@173f9596] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@412727457 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:05:35.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:35.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:35.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:35.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:05:35.738+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:05:35.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:05:35.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:05:35.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:05:35.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:35.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7086dab7] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@173f9596]
2025-12-17T16:05:35.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2118200023 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c209f2a] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:05:35.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2002270749 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:05:35.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:05:35.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:05:35.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:05:35.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:05:35.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7086dab7]
2025-12-17T16:05:35.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:05:35.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f7c20ec] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c209f2a]
2025-12-17T16:05:35.844+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2036926166 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:35.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b64d44e] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:35.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@928948517 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:05:35.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:35.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:35.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:35.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f7c20ec]
2025-12-17T16:05:35.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:35.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b64d44e]
2025-12-17T16:05:35.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45a263f2] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:35.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1178369230 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:05:35.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:05:35.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:35.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:05:35.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:05:35.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45a263f2]
2025-12-17T16:05:35.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:35.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aff9702] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:35.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747951708 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:35.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:35.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:35.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:05:36.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:05:36.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:36.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:05:36.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aff9702]
2025-12-17T16:05:36.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:05:36.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:36.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:05:36.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:05:36.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:36.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:36.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7923f405] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:36.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2011436369 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:36.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:05:36.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:05:36.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:05:36.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7923f405]
2025-12-17T16:05:36.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:36.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d91f6a] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:36.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354516072 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:36.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:36.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:36.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:36.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d91f6a]
2025-12-17T16:05:36.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:36.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@282a8805] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:36.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1459019813 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:36.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:05:36.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:05:36.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:05:36.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@282a8805]
2025-12-17T16:05:36.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:36.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f38a0b8] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:36.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@858678266 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:36.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:05:36.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:05:36.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:05:36.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f38a0b8]
2025-12-17T16:05:36.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:36.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd05c6b] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:36.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734810633 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:36.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:36.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:36.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:36.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd05c6b]
2025-12-17T16:05:36.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:36.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ed37f6] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:36.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1488000612 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:36.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:05:36.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:05:36.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:05:36.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ed37f6]
2025-12-17T16:05:36.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:05:36.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1479bf9c] was not registered for synchronization because synchronization is not active
2025-12-17T16:05:36.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257597026 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:05:36.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:05:36.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:05:36.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:05:36.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1479bf9c]
2025-12-17T16:05:36.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:36.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:05:36.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:05:41.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:05:41.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-17T16:05:41.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:05:41.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:05:41.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:05:41.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:05:41.067+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=15
2025-12-17T16:05:41.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:05:41.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:05:41.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:13.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:06:13.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:06:13.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:06:13.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:06:13.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:06:13.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo2, password=1234)]
2025-12-17T16:06:13.630+09:00  INFO 44840 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo2
2025-12-17T16:06:13.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:13.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60aad4f1] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:13.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783807873 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:13.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:06:13.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo2(String)
2025-12-17T16:06:13.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:06:13.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60aad4f1]
2025-12-17T16:06:13.724+09:00  INFO 44840 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 32, role: CEO, companyId: 4
2025-12-17T16:06:13.725+09:00  INFO 44840 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=32 username=testceo2 role=CEO
2025-12-17T16:06:13.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:13.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=32, username=testceo2, password= (truncated)...]
2025-12-17T16:06:13.731+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:14.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:14.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:14.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:14.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:14.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:14.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:06:14.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:14.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:14.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:14.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:14.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:14.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:14.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:14.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:14.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:14.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:14.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:14.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:14.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:14.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:14.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:14.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:14.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:14.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67981797] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cc3238f] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:14.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:14.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7126f1f5] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:14.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5586f05] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909854975 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:14.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1361038175 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:14.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:14.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:14.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:14.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887510507 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:14.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@800636307 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:14.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:14.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:14.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cc3238f]
2025-12-17T16:06:14.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:14.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:14.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:14.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:14.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:14.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:14.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:14.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:14.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7126f1f5]
2025-12-17T16:06:14.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5586f05]
2025-12-17T16:06:14.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:14.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67981797]
2025-12-17T16:06:14.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:14.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd2ee93] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c290eeb] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220562546 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:14.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1327098571 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:14.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:14.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:14.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:14.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:14.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:14.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:14.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:14.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd2ee93]
2025-12-17T16:06:14.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c290eeb]
2025-12-17T16:06:14.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf0e1e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba099c8] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73b568e0] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1244739832 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1471829081 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925855275 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:14.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:14.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:14.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:14.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:14.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:14.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:14.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:14.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:14.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf0e1e3]
2025-12-17T16:06:14.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba099c8]
2025-12-17T16:06:14.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed82ea0] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:14.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559517802 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:14.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:14.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:14.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73b568e0]
2025-12-17T16:06:14.392+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.392+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.392+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed82ea0]
2025-12-17T16:06:14.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e623235] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.394+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:14.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:14.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@642299761 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:14.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:14.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:14.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:14.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:14.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:14.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e623235]
2025-12-17T16:06:14.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:14.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:14.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5924b674] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:14.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1771298965 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:14.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:14.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201bfc3d] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@792296368 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:14.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:14.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5924b674]
2025-12-17T16:06:14.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:14.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201bfc3d]
2025-12-17T16:06:14.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ce88cf] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@401366240 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:14.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464a8c08] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:14.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@961510120 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:14.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:14.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464a8c08]
2025-12-17T16:06:14.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ce88cf]
2025-12-17T16:06:14.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c57dc52] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf98562] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129602332 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@137749698 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:14.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:14.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:14.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:14.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf98562]
2025-12-17T16:06:14.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c57dc52]
2025-12-17T16:06:14.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:14.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac8642d] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:14.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1211080298 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:14.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:14.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:14.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac8642d]
2025-12-17T16:06:14.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:14.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:14.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:14.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:14.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:14.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:14.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:14.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a13c2e] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@526827626 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:14.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:14.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:14.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a13c2e]
2025-12-17T16:06:14.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e5bca51] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1174658552 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e5bca51]
2025-12-17T16:06:14.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7d79c2] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1047803166 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:14.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:14.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:14.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7d79c2]
2025-12-17T16:06:14.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701fb61f] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@628716215 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:14.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:14.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:14.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701fb61f]
2025-12-17T16:06:14.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39238c42] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1343138002 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.544+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39238c42]
2025-12-17T16:06:14.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae6b023] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862431905 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:14.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:14.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:14.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae6b023]
2025-12-17T16:06:14.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:14.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d70200] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:14.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2052054321 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:14.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:14.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:14.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:14.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d70200]
2025-12-17T16:06:14.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:14.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:14.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:15.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-17T16:06:15.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-17T16:06:16.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:06:16.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/company
2025-12-17T16:06:16.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:06:16.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:06:16.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:06:16.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:16.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:16.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:16.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf2d19b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:16.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@240578655 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:16.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:06:16.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 4(Long)
2025-12-17T16:06:16.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-17T16:06:16.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf2d19b]
2025-12-17T16:06:16.034+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 4, count: 3
2025-12-17T16:06:16.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:16.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:06:16.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:16.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:06:16.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/company
2025-12-17T16:06:16.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:06:16.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:06:16.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:06:16.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:16.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:16.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:16.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e6bca52] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:16.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1422734725 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:16.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:06:16.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 4(Long)
2025-12-17T16:06:16.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-17T16:06:16.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e6bca52]
2025-12-17T16:06:16.065+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 4, count: 3
2025-12-17T16:06:16.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:16.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:06:16.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:27.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:27.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:27.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:27.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:27.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:27.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:27.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:27.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:27.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:27.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:27.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:27.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:27.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:27.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:27.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:27.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:27.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:27.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f9fae] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ab1a46] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@244fb5cc] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1474303897 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:27.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428777154 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:27.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@786609160 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:27.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:27.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:27.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:27.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:27.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:27.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:27.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:27.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:27.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@244fb5cc]
2025-12-17T16:06:27.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f9fae]
2025-12-17T16:06:27.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ab1a46]
2025-12-17T16:06:27.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:27.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17530ccd] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d2b04e1] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:27.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1343123096 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:27.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540017138 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:27.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:27.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:27.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:27.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:27.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17530ccd]
2025-12-17T16:06:27.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:27.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d2b04e1]
2025-12-17T16:06:27.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:27.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8355fb] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:27.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1933118402 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:27.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26864685] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:27.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@596591288 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eac0589] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:27.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:27.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1158593399 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:27.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:27.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:27.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:27.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:27.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:27.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8355fb]
2025-12-17T16:06:27.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26864685]
2025-12-17T16:06:27.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d14500] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b1ea6b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1671161036 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:27.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1964452534 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:27.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:27.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eac0589]
2025-12-17T16:06:27.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:27.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:27.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:27.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:27.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:27.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b1ea6b]
2025-12-17T16:06:27.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d14500]
2025-12-17T16:06:27.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:27.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:27.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7d2ab4] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:27.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17536830 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:27.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:27.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:27.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:27.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:27.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e7d2ab4]
2025-12-17T16:06:27.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:27.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590a7934] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0af94a] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1053151275 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:27.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:27.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:27.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@844236281 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:27.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:27.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:27.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:27.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590a7934]
2025-12-17T16:06:27.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:27.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0af94a]
2025-12-17T16:06:27.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3ae08e] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32766724 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:27.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@96b9fe7] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606115095 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:27.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3ae08e]
2025-12-17T16:06:27.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:27.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@96b9fe7]
2025-12-17T16:06:27.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:27.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:27.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63688fbe] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@908697747 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:27.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:27.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:27.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:27.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:27.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:27.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:27.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63688fbe]
2025-12-17T16:06:27.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f7124b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1313170868 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:27.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:27.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:27.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3484fa8d] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.673+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f7124b]
2025-12-17T16:06:27.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@159263007 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:27.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:27.685+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:27.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:27.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:27.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:27.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3484fa8d]
2025-12-17T16:06:27.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba3226b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@945874176 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba3226b]
2025-12-17T16:06:27.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.738+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc3e0f8] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423706513 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:27.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:27.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:27.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc3e0f8]
2025-12-17T16:06:27.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1686004d] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@586610245 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:27.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:27.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:27.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1686004d]
2025-12-17T16:06:27.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f5335b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114809696 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.781+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f5335b]
2025-12-17T16:06:27.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e71596c] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2006438418 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:27.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:27.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:27.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e71596c]
2025-12-17T16:06:27.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:27.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0dd4d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:27.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@440617539 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:27.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:27.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:27.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:27.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0dd4d7]
2025-12-17T16:06:27.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:27.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:27.806+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:29.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-17T16:06:29.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-17T16:06:29.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/switch-company
2025-12-17T16:06:29.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-17T16:06:29.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-17T16:06:29.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-17T16:06:29.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=3, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzMiIsI (truncated)...]
2025-12-17T16:06:29.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:29.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:29.705+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 32, companyId: 3
2025-12-17T16:06:29.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:29.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f4b5267] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:29.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@536456396 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:29.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:29.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:29.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:29.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f4b5267]
2025-12-17T16:06:29.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:29.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d079283] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:29.806+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1670954958 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:29.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:29.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:29.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:29.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d079283]
2025-12-17T16:06:29.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:29.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38eaf337] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:29.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772682531 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:29.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:06:29.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testceo2(String), null, 대표(String), CEO(String), true(Boolean), 3(Long), APPROVED(String), 32(Long)
2025-12-17T16:06:29.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:06:29.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38eaf337]
2025-12-17T16:06:29.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:29.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742d2c3b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:29.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1108191577 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:29.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:29.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:29.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:29.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742d2c3b]
2025-12-17T16:06:29.902+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 32, companyId: 3
2025-12-17T16:06:29.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:29.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=32, username=testceo2,  (truncated)...]
2025-12-17T16:06:29.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:30.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:30.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:30.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:30.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/companies
2025-12-17T16:06:30.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:06:30.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:06:30.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:06:30.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:30.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:30.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:30.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:30.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:30.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:30.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:30.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:30.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:30.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:30.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:30.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:30.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:30.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631d13e6] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:30.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570ba909] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334463846 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:30.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:30.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:30.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c13356] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1f9806] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680518218 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:30.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1488189799 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:30.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:30.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:30.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:30.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:30.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555405725 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:30.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:06:30.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631d13e6]
2025-12-17T16:06:30.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:30.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:06:30.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8387854] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:30.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1409963218 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:30.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c13356]
2025-12-17T16:06:30.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:06:30.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:30.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:30.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570ba909]
2025-12-17T16:06:30.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:30.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1f9806]
2025-12-17T16:06:30.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:30.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:06:30.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:30.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:30.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8387854]
2025-12-17T16:06:30.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:30.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:30.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:30.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:06:30.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/companies
2025-12-17T16:06:30.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:06:30.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:06:30.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:30.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:30.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:30.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:30.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:30.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:30.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:30.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:30.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:30.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:30.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:30.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:06:30.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38cdf8cd] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:30.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:30.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914186316 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:30.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:30.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:30.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1bbfb7] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e12e55c] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352577607 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:30.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:30.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:06:30.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684581090 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:30.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:30.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:30.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:30.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499280d] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:06:30.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070437137 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:30.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:06:30.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:30.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38cdf8cd]
2025-12-17T16:06:30.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:30.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:30.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e12e55c]
2025-12-17T16:06:30.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:06:30.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:30.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1bbfb7]
2025-12-17T16:06:30.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:30.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:30.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:30.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499280d]
2025-12-17T16:06:30.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6181bdaa] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747976919 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:30.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:30.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:30.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:30.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6181bdaa]
2025-12-17T16:06:30.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:06:30.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:06:30.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/company
2025-12-17T16:06:30.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:06:30.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:06:30.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:06:30.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6164be37] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1333777376 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:30.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:06:30.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 3(Long)
2025-12-17T16:06:30.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-17T16:06:30.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6164be37]
2025-12-17T16:06:30.938+09:00  INFO 44840 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 3, count: 2
2025-12-17T16:06:30.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:06:30.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:30.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:06:30.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/company
2025-12-17T16:06:30.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:06:30.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:06:30.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:06:30.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:30.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:30.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@578f92f0] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:30.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256071374 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:30.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:06:30.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 3(Long)
2025-12-17T16:06:30.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-17T16:06:30.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@578f92f0]
2025-12-17T16:06:30.971+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 3, count: 2
2025-12-17T16:06:30.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:30.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:06:30.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:34.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:06:34.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/logout
2025-12-17T16:06:34.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:06:34.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:06:34.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:06:34.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzMiIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:06:34.592+09:00  INFO 44840 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=32
2025-12-17T16:06:34.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:34.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:06:34.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:37.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:06:37.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:06:37.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:06:37.728+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:06:37.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:06:37.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo2, password=1234)]
2025-12-17T16:06:37.733+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo2
2025-12-17T16:06:37.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:37.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222b5855] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:37.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1618746632 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:37.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:06:37.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo2(String)
2025-12-17T16:06:37.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:06:37.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222b5855]
2025-12-17T16:06:37.836+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 32, role: CEO, companyId: 3
2025-12-17T16:06:37.840+09:00  INFO 44840 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=32 username=testceo2 role=CEO
2025-12-17T16:06:37.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:37.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=32, username=testceo2, password= (truncated)...]
2025-12-17T16:06:37.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:38.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:38.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/companies
2025-12-17T16:06:38.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:38.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:38.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:38.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:06:38.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:06:38.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:38.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:38.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:38.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:38.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:06:38.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:38.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:38.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:38.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:38.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:38.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:38.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:38.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:38.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:38.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36629172] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@619d0050] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:38.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11288a98] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2079969950 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:38.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@87593440 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:38.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:38.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:38.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:38.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:38.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:38.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:38.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@487597118 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:38.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:38.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14aa9dd1] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:06:38.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:38.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:38.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@619d0050]
2025-12-17T16:06:38.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36629172]
2025-12-17T16:06:38.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:06:38.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@575007703 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:38.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11288a98]
2025-12-17T16:06:38.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:38.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:38.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:38.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3369fbb] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:38.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:06:38.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:38.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:06:38.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963940484 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:38.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:38.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:38.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:38.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:38.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:38.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14aa9dd1]
2025-12-17T16:06:38.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:06:38.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:38.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:38.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:38.500+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:38.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:38.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:38.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:38.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:06:38.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:38.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3369fbb]
2025-12-17T16:06:38.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:38.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:38.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a43d715] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:38.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:06:38.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650338074 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:38.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:38.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:38.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:38.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:38.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:06:38.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:38.554+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:38.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb140b6] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2053166161 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:38.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:06:38.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:38.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:06:38.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:38.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:06:38.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a43d715]
2025-12-17T16:06:38.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:38.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:38.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:38.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:06:38.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:38.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:38.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb140b6]
2025-12-17T16:06:38.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745145f9] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:38.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:38.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1600278929 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:38.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:38.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:38.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:38.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:38.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745145f9]
2025-12-17T16:06:38.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:38.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311fe2a9] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:38.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1327437822 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:38.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:38.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:38.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:06:38.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311fe2a9]
2025-12-17T16:06:38.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:38.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:06:38.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:40.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-17T16:06:40.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/switch-company
2025-12-17T16:06:40.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-17T16:06:40.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-17T16:06:40.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-17T16:06:40.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=4, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzMiIsI (truncated)...]
2025-12-17T16:06:40.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:40.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:40.883+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 32, companyId: 4
2025-12-17T16:06:40.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:40.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e81d359] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:40.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@385825154 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:40.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:40.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:40.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:40.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e81d359]
2025-12-17T16:06:40.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:40.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6e0a93] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:40.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@373337292 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:40.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:40.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:40.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:40.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6e0a93]
2025-12-17T16:06:40.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:40.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb73e6e] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:40.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@25331641 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:40.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:06:40.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testceo2(String), null, 대표(String), CEO(String), true(Boolean), 4(Long), APPROVED(String), 32(Long)
2025-12-17T16:06:40.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:06:40.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb73e6e]
2025-12-17T16:06:40.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:40.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f1405a] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:40.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1245304367 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:40.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:40.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:40.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:40.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f1405a]
2025-12-17T16:06:40.925+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 32, companyId: 4
2025-12-17T16:06:40.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:40.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=32, username=testceo2,  (truncated)...]
2025-12-17T16:06:40.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:40.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:40.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:06:40.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:40.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:40.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:40.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:40.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:40.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:40.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130e8eae] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:40.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1301121268 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:40.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:40.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:41.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:41.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130e8eae]
2025-12-17T16:06:41.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:41.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:41.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:41.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:41.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:41.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:41.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:41.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:06:41.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:41.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:41.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:41.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:41.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:41.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:41.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:41.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:41.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:41.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:41.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:41.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:41.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:41.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:41.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:41.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:41.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:41.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305e75cd] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39251252] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5c482f] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28715098 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1632757596 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:41.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@573532d5] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:41.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:41.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:41.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:41.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1058980999 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:41.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:41.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056660194 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:41.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:41.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:41.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:41.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:41.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39251252]
2025-12-17T16:06:41.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:41.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:41.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:41.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:41.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@573532d5]
2025-12-17T16:06:41.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305e75cd]
2025-12-17T16:06:41.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:41.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:06:41.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5c482f]
2025-12-17T16:06:41.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:41.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:41.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3275e811] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:41.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1908806543 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4223733a] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:41.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:41.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089319567 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:41.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:41.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:41.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:41.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:41.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:41.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3275e811]
2025-12-17T16:06:41.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:41.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb4a42a] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:41.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@573f8b35] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@836061726 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:41.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:41.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:41.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4223733a]
2025-12-17T16:06:41.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243075747 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:41.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:41.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47f89eb3] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0ee176] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:41.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@324469286 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:41.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351138126 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:41.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:41.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:41.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:41.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:41.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:41.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:41.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@573f8b35]
2025-12-17T16:06:41.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb4a42a]
2025-12-17T16:06:41.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:41.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:41.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47f89eb3]
2025-12-17T16:06:41.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a575ec8] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:41.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:41.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1905922196 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0ee176]
2025-12-17T16:06:41.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430653d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033786768 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:41.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:41.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:41.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:41.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430653d7]
2025-12-17T16:06:41.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a575ec8]
2025-12-17T16:06:41.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:41.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69dc58b2] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161348191 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:41.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:41.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:41.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:41.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69dc58b2]
2025-12-17T16:06:41.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:41.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1e3aa4] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1158476317 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48553021] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:41.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2085973357 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:41.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:41.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:41.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:41.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:41.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:41.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1e3aa4]
2025-12-17T16:06:41.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48553021]
2025-12-17T16:06:41.392+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.399+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1997bec8] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44df1441] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@644049988 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@627765443 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:41.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1997bec8]
2025-12-17T16:06:41.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44df1441]
2025-12-17T16:06:41.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:41.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd07110] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286328311 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:41.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:41.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:41.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:41.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:41.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:41.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:41.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:41.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:41.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd07110]
2025-12-17T16:06:41.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6840f52b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646203424 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f980b76] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:41.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569291620 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:41.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:41.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:41.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f980b76]
2025-12-17T16:06:41.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6840f52b]
2025-12-17T16:06:41.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:41.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7286ee0f] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:41.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@494974169 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7286ee0f]
2025-12-17T16:06:41.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1084b683] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438110730 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:41.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:41.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:41.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1084b683]
2025-12-17T16:06:41.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d082e9b] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745726231 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:41.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:41.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:41.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d082e9b]
2025-12-17T16:06:41.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d940b3] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507103877 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d940b3]
2025-12-17T16:06:41.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11be2446] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1504322074 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:41.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:41.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:41.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11be2446]
2025-12-17T16:06:41.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:41.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed31b93] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:41.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1051691035 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:41.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:41.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:41.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:41.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed31b93]
2025-12-17T16:06:41.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:41.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:41.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:51.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:06:51.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/logout
2025-12-17T16:06:51.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:06:51.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:06:51.779+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:06:51.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzMiIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:06:51.840+09:00  INFO 44840 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=32
2025-12-17T16:06:51.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:51.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:06:51.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:55.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:06:55.745+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:06:55.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:06:55.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:06:55.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:06:55.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo2, password=1234)]
2025-12-17T16:06:55.748+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo2
2025-12-17T16:06:55.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:55.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a8d6a96] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:55.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810498363 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:55.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:06:55.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo2(String)
2025-12-17T16:06:55.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:06:55.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a8d6a96]
2025-12-17T16:06:55.841+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 32, role: CEO, companyId: 4
2025-12-17T16:06:55.841+09:00  INFO 44840 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=32 username=testceo2 role=CEO
2025-12-17T16:06:55.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:55.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=32, username=testceo2, password= (truncated)...]
2025-12-17T16:06:55.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:56.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:06:57.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:06:57.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:57.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:57.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:57.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:06:57.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:57.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:57.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:57.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:57.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:06:57.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:57.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:57.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:57.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:06:57.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:57.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:57.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:57.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:57.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fae586] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:57.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:57.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:06:57.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:57.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1361655348 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:57.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626bee45] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:57.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:57.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f703614] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:57.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10075906 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208e4086] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:57.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1616080299 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:57.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:57.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:06:57.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:06:57.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:57.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149765958 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:57.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:57.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fae586]
2025-12-17T16:06:57.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:57.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626bee45]
2025-12-17T16:06:57.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:57.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f51bca] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3919a75d] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2040141154 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:57.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@514296459 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:06:57.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f51bca]
2025-12-17T16:06:57.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:57.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f703614]
2025-12-17T16:06:57.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3919a75d]
2025-12-17T16:06:57.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:57.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208e4086]
2025-12-17T16:06:57.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6238bf35] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:57.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9b12ea] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:57.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:06:57.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217957363 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:57.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:57.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221359979 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:57.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:57.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:57.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:57.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:57.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:06:57.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:06:57.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:06:57.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:06:57.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:06:57.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:57.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:06:57.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9ec93f] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:57.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9b12ea]
2025-12-17T16:06:57.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a0bf4d] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@122219921 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@754430384 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:06:57.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:06:57.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:06:57.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:57.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6238bf35]
2025-12-17T16:06:57.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146953d8] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865048439 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:57.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:57.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:57.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:06:57.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:57.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9ec93f]
2025-12-17T16:06:57.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a0bf4d]
2025-12-17T16:06:57.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146953d8]
2025-12-17T16:06:57.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:57.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:57.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:06:57.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:57.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:57.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bd0493a] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:57.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@100218379 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:57.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bd0493a]
2025-12-17T16:06:57.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:57.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6260364a] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:06:57.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1000352421 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:57.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:57.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:06:57.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:57.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:06:57.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:06:57.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac9cb4a] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772556069 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:57.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:06:57.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:06:57.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:57.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6260364a]
2025-12-17T16:06:57.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9334f1] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1336055119 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:06:57.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:06:57.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac9cb4a]
2025-12-17T16:06:57.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7872b093] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009104716 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:57.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9334f1]
2025-12-17T16:06:57.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:57.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:57.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:57.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7872b093]
2025-12-17T16:06:57.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:06:57.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6380c408] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245044931 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:57.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:57.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:06:57.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:06:57.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:06:57.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:06:57.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:06:57.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c24017] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817066658 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:57.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:57.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:06:57.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:57.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6380c408]
2025-12-17T16:06:57.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c24017]
2025-12-17T16:06:57.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80aac11] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49f7156e] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1842321820 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:06:57.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013542079 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49f7156e]
2025-12-17T16:06:57.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80aac11]
2025-12-17T16:06:57.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:57.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2325d46c] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:06:57.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1376315651 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:06:57.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:57.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:57.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:57.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2325d46c]
2025-12-17T16:06:57.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd36848] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1985496554 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:06:57.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:06:57.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:06:57.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd36848]
2025-12-17T16:06:57.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c037385] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217237349 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c037385]
2025-12-17T16:06:57.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34668ab3] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1133402337 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:06:57.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:06:57.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:06:57.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34668ab3]
2025-12-17T16:06:57.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:06:57.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf978a1] was not registered for synchronization because synchronization is not active
2025-12-17T16:06:57.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816806559 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:06:57.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:06:57.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:06:57.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:06:57.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf978a1]
2025-12-17T16:06:57.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:06:57.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:06:57.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:03.614+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:07:03.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/company
2025-12-17T16:07:03.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:07:03.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:07:03.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:07:03.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:03.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:03.622+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:03.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c024b] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:03.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@107493849 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:03.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:07:03.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 4(Long)
2025-12-17T16:07:03.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-17T16:07:03.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c024b]
2025-12-17T16:07:03.642+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 4, count: 3
2025-12-17T16:07:03.643+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:03.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:07:03.649+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:03.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:07:03.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/company
2025-12-17T16:07:03.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:07:03.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:07:03.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:07:03.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:03.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:03.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:03.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63fd9a02] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:03.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1045685687 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:03.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:07:03.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 4(Long)
2025-12-17T16:07:03.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 3
2025-12-17T16:07:03.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63fd9a02]
2025-12-17T16:07:03.680+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 4, count: 3
2025-12-17T16:07:03.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:03.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:07:03.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:07.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:07.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:07.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:07.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:07:07.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:07:07.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:07:07.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:07.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:07.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:07.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:07.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:07.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:07.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:07.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:07.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:07.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:07.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e94a4e] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:07.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c549849] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176f8043] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@818376785 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:07.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1586698285 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:07.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:07.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:07.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348933771 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:07.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:07:07.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:07.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:07.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:07:07.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:07.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:07.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e94a4e]
2025-12-17T16:07:07.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c549849]
2025-12-17T16:07:07.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:07.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257f36f8] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176f8043]
2025-12-17T16:07:07.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2be14dd1] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139459835 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:07.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:07.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684533871 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:07.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:07.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:07.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257f36f8]
2025-12-17T16:07:07.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:07.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2be14dd1]
2025-12-17T16:07:07.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7c4de4] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:07:07.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.352+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122529317 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:07.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:07.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:07.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7544fb30] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:07:07.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:07.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1424670604 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:07.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:07.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:07.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:07.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:07.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:07.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:07.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7c4de4]
2025-12-17T16:07:07.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:07.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b8dddf] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7544fb30]
2025-12-17T16:07:07.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@465845702 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:07.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4a5c6c] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:07.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084568940 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:07.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a39ef6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:07:07.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1634500297 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:07.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:07.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:07.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:07.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b8dddf]
2025-12-17T16:07:07.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4a5c6c]
2025-12-17T16:07:07.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:07.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:07.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:07.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:07.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:07.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:07:07.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a39ef6]
2025-12-17T16:07:07.399+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.399+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:07.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e39508d] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1900163474 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:07.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:07.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:07:07.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:07.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:07.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e39508d]
2025-12-17T16:07:07.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:07.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec1388a] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1516811495 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:07.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:07.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa88325] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:07.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10478617 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:07.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:07.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:07:07.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:07.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec1388a]
2025-12-17T16:07:07.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da1ac3f] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524879977 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:07.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:07.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa88325]
2025-12-17T16:07:07.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da1ac3f]
2025-12-17T16:07:07.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1a5ed] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:07.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1277083455 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:07.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:07.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:07.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:07.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.547+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1a5ed]
2025-12-17T16:07:07.547+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:07:07.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:07.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70192454] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.554+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:07.554+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2144872823 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:07.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:07.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:07:07.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:07.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441054e0] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:07.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70192454]
2025-12-17T16:07:07.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b681c0] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631551834 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:07.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1026829958 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:07.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:07.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:07.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:07.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b681c0]
2025-12-17T16:07:07.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441054e0]
2025-12-17T16:07:07.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:07.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:07:07.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251ad6ec] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607626336 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:07.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:07.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.613+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251ad6ec]
2025-12-17T16:07:07.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307f0fa] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.622+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884945344 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:07.622+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:07.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:07.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:07.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307f0fa]
2025-12-17T16:07:07.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eab4c74] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@311945595 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:07.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:07.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:07.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:07.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eab4c74]
2025-12-17T16:07:07.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618c395] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@312802254 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:07.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.649+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618c395]
2025-12-17T16:07:07.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e93933f] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320673555 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:07.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:07.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:07.664+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:07.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e93933f]
2025-12-17T16:07:07.666+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:07.666+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1cf1bb] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:07.666+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@509910380 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:07.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:07.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:07.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:07.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1cf1bb]
2025-12-17T16:07:07.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:07.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:07.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:08.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-17T16:07:08.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/switch-company
2025-12-17T16:07:08.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-17T16:07:08.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-17T16:07:08.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-17T16:07:08.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=3, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzMiIsI (truncated)...]
2025-12-17T16:07:08.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:08.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:08.946+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 32, companyId: 3
2025-12-17T16:07:08.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:08.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee84e02] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:08.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120756068 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:08.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:08.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:08.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:08.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee84e02]
2025-12-17T16:07:08.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:08.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108cc8e5] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:08.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006095183 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:08.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:08.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:08.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:08.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108cc8e5]
2025-12-17T16:07:08.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:08.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef5adf0] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:08.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2018023211 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:08.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:07:08.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testceo2(String), null, 대표(String), CEO(String), true(Boolean), 3(Long), APPROVED(String), 32(Long)
2025-12-17T16:07:08.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:07:08.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef5adf0]
2025-12-17T16:07:08.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:08.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3204bfc3] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:08.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1269500219 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:08.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:08.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:08.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:08.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3204bfc3]
2025-12-17T16:07:08.987+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 32, companyId: 3
2025-12-17T16:07:08.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:08.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=32, username=testceo2,  (truncated)...]
2025-12-17T16:07:08.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:09.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:09.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:09.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:07:09.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:07:09.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:07:09.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:09.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:07:09.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/companies
2025-12-17T16:07:09.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:09.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:09.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:09.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:07:09.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:09.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:09.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:09.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:07:09.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:09.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:09.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:07:09.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fed10bd] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:09.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce8a506] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:09.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1412782431 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:09.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:09.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cb7413] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1990625964 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:09.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:09.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:07:09.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3268f3] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:09.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1740042645 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:09.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:09.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:07:09.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:09.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:07:09.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1457095719 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:09.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce8a506]
2025-12-17T16:07:09.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fed10bd]
2025-12-17T16:07:09.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:07:09.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:07:09.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:07:09.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:09.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb14cc9] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cb7413]
2025-12-17T16:07:09.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:07:09.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1144121431 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:09.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3268f3]
2025-12-17T16:07:09.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:09.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:09.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:09.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:09.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:07:09.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:07:09.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:09.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:09.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:09.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:07:09.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:07:09.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:09.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:09.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:09.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb14cc9]
2025-12-17T16:07:09.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.295+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/companies
2025-12-17T16:07:09.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:09.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8df70bd] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:07:09.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:09.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:07:09.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122252892 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:09.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:09.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:07:09.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:07:09.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:07:09.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:09.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:09.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@193a419d] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:09.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:07:09.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2004731882 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:09.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:09.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497d4879] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:09.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:09.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1496175933 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:09.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:07:09.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:09.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:07:09.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:07:09.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715aac77] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:07:09.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:09.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1104321309 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:09.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8df70bd]
2025-12-17T16:07:09.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@193a419d]
2025-12-17T16:07:09.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:09.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:07:09.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:09.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497d4879]
2025-12-17T16:07:09.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:07:09.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:09.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:07:09.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:09.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715aac77]
2025-12-17T16:07:09.399+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.399+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17038ac3] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@866039104 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:09.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:09.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:09.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:09.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17038ac3]
2025-12-17T16:07:09.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:07:09.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:07:09.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/company
2025-12-17T16:07:09.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:07:09.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:07:09.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:07:09.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242160d9] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294276888 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:09.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:07:09.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 3(Long)
2025-12-17T16:07:09.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-17T16:07:09.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242160d9]
2025-12-17T16:07:09.724+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 3, count: 2
2025-12-17T16:07:09.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:07:09.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:09.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:07:09.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/company
2025-12-17T16:07:09.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:07:09.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:07:09.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:07:09.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:09.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:09.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f37018] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:09.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1603962185 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:09.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:07:09.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 3(Long)
2025-12-17T16:07:09.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-17T16:07:09.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f37018]
2025-12-17T16:07:09.770+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 3, count: 2
2025-12-17T16:07:09.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:09.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=32, username=testceo2, pass (truncated)...]
2025-12-17T16:07:09.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:12.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:12.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:12.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:12.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:07:12.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:07:12.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:07:12.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:12.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:12.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:12.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:12.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:12.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:12.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:12.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:12.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:12.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:12.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f3a225] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:12.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e6b060c] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7a72e2] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767047766 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:12.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764570759 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:12.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:12.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:12.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:12.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:07:12.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1034297584 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:12.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:12.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:07:12.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:12.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e6b060c]
2025-12-17T16:07:12.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:07:12.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f3a225]
2025-12-17T16:07:12.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7e4639] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.622+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:12.622+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:12.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1776006442 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:12.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7a72e2]
2025-12-17T16:07:12.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:07:12.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:12.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:12.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:12.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:12.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:12.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:12.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:12.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:12.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:12.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-17T16:07:12.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7e4639]
2025-12-17T16:07:12.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/pending
2025-12-17T16:07:12.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:12.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:12.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:12.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:07:12.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:12.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:12.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:12.664+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:12.666+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:12.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:12.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494c9993] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:12.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/expenses
2025-12-17T16:07:12.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:12.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:12.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:12.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35982967] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.691+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:12.691+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177681393 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:12.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:12.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379e18de] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 3(Long)
2025-12-17T16:07:12.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2095284505 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:12.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:12.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:12.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:12.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:12.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@907509717 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:12.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:12.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35982967]
2025-12-17T16:07:12.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379e18de]
2025-12-17T16:07:12.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 3(Long)
2025-12-17T16:07:12.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:12.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:12.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:12.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f79be11] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:12.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:12.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1759906760 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:12.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:12.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:12.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:07:12.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494c9993]
2025-12-17T16:07:12.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:12.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:07:12.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:12.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:07:12.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f79be11]
2025-12-17T16:07:12.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:12.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:07:12.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:15.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-17T16:07:15.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 3, uri: /api/users/switch-company
2025-12-17T16:07:15.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-17T16:07:15.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-17T16:07:15.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-17T16:07:15.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=4, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzMiIsI (truncated)...]
2025-12-17T16:07:15.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:15.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.switchCompany(com.innersignature.backend.controller.UserController$CompanySwitchRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:15.054+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 32, companyId: 4
2025-12-17T16:07:15.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a13c7c] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1343172598 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:15.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:15.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:15.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:15.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a13c7c]
2025-12-17T16:07:15.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@496a694c] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1241849458 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:15.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:15.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:15.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:15.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@496a694c]
2025-12-17T16:07:15.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a94db7] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1377005031 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:15.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:07:15.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testceo2(String), null, 대표(String), CEO(String), true(Boolean), 4(Long), APPROVED(String), 32(Long)
2025-12-17T16:07:15.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:07:15.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a94db7]
2025-12-17T16:07:15.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fee3f9a] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2006682361 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:15.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:15.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:15.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:15.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fee3f9a]
2025-12-17T16:07:15.152+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 32, companyId: 4
2025-12-17T16:07:15.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:15.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=32, username=testceo2,  (truncated)...]
2025-12-17T16:07:15.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:15.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:07:15.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:07:15.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:07:15.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:07:15.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:07:15.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:15.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:15.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d89801f] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10868672 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:15.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:07:15.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:07:15.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:07:15.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d89801f]
2025-12-17T16:07:15.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:15.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:07:15.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:15.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:15.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:07:15.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:07:15.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:07:15.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:07:15.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:07:15.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:15.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:15.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:15.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:07:15.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:15.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:15.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:15.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:07:15.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:15.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:15.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:15.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:07:15.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdd44b6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:15.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:15.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:15.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:15.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468a4aad] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869648476 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:15.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:15.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.799+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37162eb4] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2244bcab] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.799+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:15.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330696142 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:15.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:15.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886614014 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:15.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315140366 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:15.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:15.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdd44b6]
2025-12-17T16:07:15.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:15.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:07:15.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:07:15.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:07:15.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:07:15.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6961ed62] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527432716 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:15.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:15.865+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:15.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:07:15.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:15.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:15.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468a4aad]
2025-12-17T16:07:15.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37162eb4]
2025-12-17T16:07:15.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:15.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2244bcab]
2025-12-17T16:07:15.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:15.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:15.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6961ed62]
2025-12-17T16:07:15.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:07:15.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:15.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4833cafe] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:15.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:15.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b5698fc] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@999794560 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:15.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572501513 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:15.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:15.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:15.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:15.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:15.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:07:15.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:15.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/companies
2025-12-17T16:07:15.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:07:15.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/users/pending
2025-12-17T16:07:15.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:07:15.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:15.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:15.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:15.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:07:15.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b5698fc]
2025-12-17T16:07:15.985+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4833cafe]
2025-12-17T16:07:15.985+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:15.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:15.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:15.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159ceef9] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:15.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be8e711] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:15.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:15.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@436344270 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:15.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:15.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@760915624 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:16.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:16.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5939a301] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:16.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:16.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198029201 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:16.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:07:16.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5ab520] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:07:16.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:16.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@167606525 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:16.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 32(Long)
2025-12-17T16:07:16.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159ceef9]
2025-12-17T16:07:16.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:16.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:16.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be8e711]
2025-12-17T16:07:16.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 4(Long)
2025-12-17T16:07:16.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2340a17] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1890441102 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:16.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cb7906] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 2
2025-12-17T16:07:16.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5939a301]
2025-12-17T16:07:16.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:16.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:16.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=3CVFLX, companyNa (truncated)...]
2025-12-17T16:07:16.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1839717441 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5ab520]
2025-12-17T16:07:16.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:16.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:16.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:16.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:16.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cb7906]
2025-12-17T16:07:16.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2340a17]
2025-12-17T16:07:16.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:16.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:07:16.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbe6822] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:16.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2130224400 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:16.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:16.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:16.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:16.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-17T16:07:16.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:16.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=32
2025-12-17T16:07:16.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbe6822]
2025-12-17T16:07:16.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=32", parameters={masked}
2025-12-17T16:07:16.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42df0a58] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:16.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829733721 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:16.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af773a8] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@491044730 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:16.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:16.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 32(Long), 4(Long)
2025-12-17T16:07:16.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42df0a58]
2025-12-17T16:07:16.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:16.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:16.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:16.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:16.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af773a8]
2025-12-17T16:07:16.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bc0069] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366775781 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:16.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:16.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses
2025-12-17T16:07:16.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:16.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:16.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bc0069]
2025-12-17T16:07:16.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:16.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd2b432] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fadd9ea] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845320873 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:16.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:16.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1304851256 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long)
2025-12-17T16:07:16.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:16.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:16.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:16.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd2b432]
2025-12-17T16:07:16.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:16.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b2d15f4] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fadd9ea]
2025-12-17T16:07:16.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53895047 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:16.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@708ac6a7] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@824779733 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b2d15f4]
2025-12-17T16:07:16.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@708ac6a7]
2025-12-17T16:07:16.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:16.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=73, drafterId= (truncated)...]
2025-12-17T16:07:16.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e47bf08] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:16.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1222570905 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:16.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:16.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:16.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e47bf08]
2025-12-17T16:07:16.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395b92a4] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790432632 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:16.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:16.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:16.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395b92a4]
2025-12-17T16:07:16.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f573a5f] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@175922083 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f573a5f]
2025-12-17T16:07:16.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e72cf1a] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144802633 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:16.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:16.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:16.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e72cf1a]
2025-12-17T16:07:16.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:16.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cbc0f7a] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:16.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417546216 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:16.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:16.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:16.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:16.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cbc0f7a]
2025-12-17T16:07:16.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:16.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:16.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:19.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/excel
2025-12-17T16:07:19.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/excel
2025-12-17T16:07:19.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/expenses/export/excel
2025-12-17T16:07:19.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/excel
2025-12-17T16:07:19.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/excel", parameters={}
2025-12-17T16:07:19.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportExpensesToExcel(String, String)
2025-12-17T16:07:19.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:19.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:19.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:19.352+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d60ac7] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:19.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002397458 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:19.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:19.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 4(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:19.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-17T16:07:19.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d60ac7]
2025-12-17T16:07:19.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:19.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d123b1c] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:19.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1012171307 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:19.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:19.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 32(Long)
2025-12-17T16:07:19.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:19.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d123b1c]
2025-12-17T16:07:19.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:19.383+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a3fbb] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:19.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764507341 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:19.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:19.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:19.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:19.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a3fbb]
2025-12-17T16:07:19.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:19.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4886e56e] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:19.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087660261 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:19.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:19.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 4(Long), 73(Long), 72(Long)
2025-12-17T16:07:19.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:07:19.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4886e56e]
2025-12-17T16:07:20.573+09:00  INFO 44840 --- [http-nio-8080-exec-7] c.i.backend.service.ExpenseService       : 엑셀 파일 생성 완료 - 파일명: expense_export_5296317348320719519.xlsx, 건수: 2
2025-12-17T16:07:20.573+09:00  INFO 44840 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 엑셀 다운로드 요청 - userId: 32, startDate: null, endDate: null
2025-12-17T16:07:20.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2025-12-17T16:07:20.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\expense_export_5296317348320719519.xlsx]]
2025-12-17T16:07:20.587+09:00  WARN 44840 --- [http-nio-8080-exec-7] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="지출내역_전체_전체.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [지] at code point [51,648] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.commit(Response.java:454) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:284) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:264) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:130) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:161) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-17T16:07:20.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:32.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:07:32.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 32, role: CEO, companyId: 4, uri: /api/logout
2025-12-17T16:07:32.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:07:32.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:07:32.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:07:32.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzMiIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:07:32.257+09:00  INFO 44840 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=32
2025-12-17T16:07:32.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:32.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:07:32.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:35.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:07:35.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:07:35.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:07:35.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:07:35.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:07:35.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ha_exec, password=1234)]
2025-12-17T16:07:35.571+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: ha_exec
2025-12-17T16:07:35.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:35.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9767d4] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:35.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@659220725 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:35.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:07:35.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ha_exec(String)
2025-12-17T16:07:35.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:07:35.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9767d4]
2025-12-17T16:07:35.670+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 15, role: ADMIN, companyId: 1
2025-12-17T16:07:35.671+09:00  INFO 44840 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=15 username=ha_exec role=ADMIN
2025-12-17T16:07:35.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:35.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=15, username=ha_exec, password=n (truncated)...]
2025-12-17T16:07:35.673+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:36.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:07:36.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:36.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-17T16:07:36.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:07:36.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:07:36.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:36.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:36.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:07:36.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:07:36.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:07:36.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:07:36.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:36.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:36.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:36.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:36.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:36.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:07:36.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:07:36.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:36.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:36.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:36.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:36.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f776e0] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31582fd0] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:36.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3284bb6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@427069203 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:36.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558756508 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:36.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:36.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1521975613 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:07:36.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:36.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2c5bcb] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:36.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 15(Long)
2025-12-17T16:07:36.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:07:36.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623862539 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:36.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:36.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:36.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:07:36.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f776e0]
2025-12-17T16:07:36.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:07:36.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:36.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:36.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3284bb6]
2025-12-17T16:07:36.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673231fc] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31582fd0]
2025-12-17T16:07:36.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2c5bcb]
2025-12-17T16:07:36.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:36.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:36.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6178b7] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111054707 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:36.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:36.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@223159622 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:36.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:36.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:36.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:07:36.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:36.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6178b7]
2025-12-17T16:07:36.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:36.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673231fc]
2025-12-17T16:07:36.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:36.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d8bef6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:36.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f14df86] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251386810 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:36.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767878729 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:36.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:36.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:07:36.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7532afc3] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:36.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1983088164 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:36.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:36.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:36.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:07:36.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:36.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d8bef6]
2025-12-17T16:07:36.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f14df86]
2025-12-17T16:07:36.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e3486f9] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cfedb91] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658299079 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1706018663 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:36.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.500+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:36.500+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:36.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7532afc3]
2025-12-17T16:07:36.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:36.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:36.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:36.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:36.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e3486f9]
2025-12-17T16:07:36.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cfedb91]
2025-12-17T16:07:36.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:36.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:07:36.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b4686c] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:36.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146542072 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:36.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:07:36.529+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:36.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b4686c]
2025-12-17T16:07:36.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:07:36.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:36.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55608684] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1419141964 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db7b446] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:36.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389999175 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:36.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:36.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:07:36.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:36.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55608684]
2025-12-17T16:07:36.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ad37d6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:36.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697174369 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db7b446]
2025-12-17T16:07:36.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76267136] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444150832 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.554+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ad37d6]
2025-12-17T16:07:36.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:36.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:36.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76267136]
2025-12-17T16:07:36.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:36.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:36.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bed3812] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:07:36.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1049057688 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:36.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:36.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:36.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:36.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55067d07] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:07:36.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147387382 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:36.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:36.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:36.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:36.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bed3812]
2025-12-17T16:07:36.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55067d07]
2025-12-17T16:07:36.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bace2e6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3307d0bd] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697524265 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:36.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427078559 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bace2e6]
2025-12-17T16:07:36.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3307d0bd]
2025-12-17T16:07:36.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:36.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:07:36.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7572d8ae] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:36.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2029874309 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.622+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:36.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:36.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:36.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7572d8ae]
2025-12-17T16:07:36.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771abff6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@340704787 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:36.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:36.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:36.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771abff6]
2025-12-17T16:07:36.666+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518ee836] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934170366 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518ee836]
2025-12-17T16:07:36.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.676+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367c7b12] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.681+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269871795 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:36.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:36.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:36.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367c7b12]
2025-12-17T16:07:36.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:36.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d6576ef] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:36.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1477720250 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:36.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:36.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:36.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:36.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d6576ef]
2025-12-17T16:07:36.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:36.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:36.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-17T16:07:39.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-17T16:07:39.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.691+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:07:39.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-17T16:07:39.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:07:39.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:07:39.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:07:39.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:07:39.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:07:39.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:07:39.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:07:39.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:07:39.731+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:07:39.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e025697] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.738+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48917e95] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c71fc55] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4319ab74] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387668732 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:39.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@399351800 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:39.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1250111440 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:39.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:07:39.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:07:39.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:07:39.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344375943 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:39.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-17T16:07:39.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-17T16:07:39.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-17T16:07:39.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:07:39.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-17T16:07:39.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-17T16:07:39.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 4
2025-12-17T16:07:39.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:07:39.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c71fc55]
2025-12-17T16:07:39.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48917e95]
2025-12-17T16:07:39.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e025697]
2025-12-17T16:07:39.781+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : <==      Total: 5
2025-12-17T16:07:39.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-17T16:07:39.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=PAID, count=26, totalAmo (truncated)...]
2025-12-17T16:07:39.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4319ab74]
2025-12-17T16:07:39.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=7350103, totalCo (truncated)...]
2025-12-17T16:07:39.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:39.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.799+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:07:39.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=급여, amount=4004936 (truncated)...]
2025-12-17T16:07:39.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:07:39.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:07:39.806+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:07:39.815+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-17T16:07:39.815+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:07:39.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:07:39.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:07:39.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:07:39.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33490de1] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.832+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:07:39.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:07:39.835+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48650077 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:39.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:07:39.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:07:39.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:07:39.847+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55040ebd] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-17T16:07:39.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9353d04] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@490457207 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:39.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:39.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1763297110 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:39.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:07:39.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:39.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4e83b4] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:39.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:07:39.865+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-17T16:07:39.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-17T16:07:39.868+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1356140108 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:39.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:07:39.872+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-17T16:07:39.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33490de1]
2025-12-17T16:07:39.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-17T16:07:39.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-17T16:07:39.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:07:39.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 4
2025-12-17T16:07:39.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9353d04]
2025-12-17T16:07:39.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55040ebd]
2025-12-17T16:07:39.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=7350103, totalCo (truncated)...]
2025-12-17T16:07:39.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=PAID, count=26, totalAmo (truncated)...]
2025-12-17T16:07:39.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:39.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : <==      Total: 5
2025-12-17T16:07:39.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4e83b4]
2025-12-17T16:07:39.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:39.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=급여, amount=4004936 (truncated)...]
2025-12-17T16:07:39.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:40.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:07:40.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-17T16:07:40.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:40.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:07:40.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:07:40.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:07:40.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:07:40.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:40.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:07:40.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:07:40.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:07:40.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:07:40.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:07:40.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:07:40.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:07:40.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:07:40.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:07:40.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:07:40.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:07:40.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:07:40.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:40.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:40.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@293a6995] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:40.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:40.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738f1cc8] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:40.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:40.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d0d6b8] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:40.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:40.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb402f0] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:40.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392526037 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:40.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1638638773 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:40.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@505269554 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:40.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732001115 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:40.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:07:40.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:07:40.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:07:40.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:07:40.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-17T16:07:40.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-17T16:07:40.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-17T16:07:40.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-17T16:07:40.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-17T16:07:40.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : <==      Total: 5
2025-12-17T16:07:40.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d0d6b8]
2025-12-17T16:07:40.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:07:40.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 4
2025-12-17T16:07:40.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb402f0]
2025-12-17T16:07:40.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:40.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738f1cc8]
2025-12-17T16:07:40.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@293a6995]
2025-12-17T16:07:40.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:40.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-17T16:07:40.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:40.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:40.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=급여, amount=4004936 (truncated)...]
2025-12-17T16:07:40.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=7350103, totalCo (truncated)...]
2025-12-17T16:07:40.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:40.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=PAID, count=26, totalAmo (truncated)...]
2025-12-17T16:07:40.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:40.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:40.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:45.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:45.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:45.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:45.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:07:45.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:45.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:07:45.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:07:45.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:45.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:45.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:45.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:07:45.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:45.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:45.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:45.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:45.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfd785] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cfed65] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:45.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:45.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1266664502 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734322960 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67de976f] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:45.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:45.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:45.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:07:45.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753883138 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:45.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:45.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:45.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:07:45.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:45.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfd785]
2025-12-17T16:07:45.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cfed65]
2025-12-17T16:07:45.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:45.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67de976f]
2025-12-17T16:07:45.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aed33ea] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5151586] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:45.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1844268577 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@293233642 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:45.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:45.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:07:45.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aed33ea]
2025-12-17T16:07:45.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:07:45.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c8d61c] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:07:45.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5151586]
2025-12-17T16:07:45.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887737196 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:07:45.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:45.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:07:45.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:07:45.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74541309] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:45.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497403680 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:07:45.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:45.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@517abbe] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:45.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:45.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49163145 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:07:45.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:45.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c8d61c]
2025-12-17T16:07:45.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:07:45.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74541309]
2025-12-17T16:07:45.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478bcb08] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:07:45.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1725074899 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35846159] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629286587 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:45.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:07:45.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:45.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@517abbe]
2025-12-17T16:07:45.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:45.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:07:45.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478bcb08]
2025-12-17T16:07:45.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:45.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:45.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:07:45.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:45.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:45.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35846159]
2025-12-17T16:07:45.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:45.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ace62d] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@255116008 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:07:45.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:07:45.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:07:45.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:07:45.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ace62d]
2025-12-17T16:07:45.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62548080] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@391125905 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fb267d] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:07:45.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@236465089 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:45.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:07:45.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:45.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:45.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:07:45.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62548080]
2025-12-17T16:07:45.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:45.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fb267d]
2025-12-17T16:07:45.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f6d54f] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559946161 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ffba9d] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545511569 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:07:45.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f6d54f]
2025-12-17T16:07:45.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9705dd] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ffba9d]
2025-12-17T16:07:45.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1805312877 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:45.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:45.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:45.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:07:45.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:45.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:07:45.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:07:45.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:07:45.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9705dd]
2025-12-17T16:07:45.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:07:45.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24174e19] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:07:45.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648810155 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:07:45.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:07:45.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dfc520f] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359086375 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:45.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:45.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24174e19]
2025-12-17T16:07:45.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:45.352+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:45.352+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dfc520f]
2025-12-17T16:07:45.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:07:45.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:45.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3292850] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.383+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1014656528 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.399+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3292850]
2025-12-17T16:07:45.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7fd3b5] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1885214466 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:45.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:45.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:45.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7fd3b5]
2025-12-17T16:07:45.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a02db7] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@226934093 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:45.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:45.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:07:45.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a02db7]
2025-12-17T16:07:45.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df45df6] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@91294826 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df45df6]
2025-12-17T16:07:45.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3225a09d] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1573994690 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:45.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:45.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:07:45.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3225a09d]
2025-12-17T16:07:45.546+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:45.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d1454e] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:45.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601119361 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:45.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:45.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:45.554+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:45.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d1454e]
2025-12-17T16:07:45.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:07:45.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:07:45.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:07:53.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/excel?startDate=2025-12-08&endDate=2025-12-12
2025-12-17T16:07:53.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/excel?startDate=2025-12-08&endDate=2025-12-12
2025-12-17T16:07:53.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/export/excel
2025-12-17T16:07:53.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/excel?startDate=2025-12-08&endDate=2025-12-12
2025-12-17T16:07:53.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/excel?startDate=2025-12-08&endDate=2025-12-12", parameters={masked}
2025-12-17T16:07:53.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportExpensesToExcel(String, String)
2025-12-17T16:07:53.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:53.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:07:53.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:53.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d43e61] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:53.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@918574022 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:53.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:07:53.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2025-12-08(LocalDate), 2025-12-12(LocalDate), 2147483647(Integer), 0(Integer)
2025-12-17T16:07:53.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 33
2025-12-17T16:07:53.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d43e61]
2025-12-17T16:07:53.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:53.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d3c2f8] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:53.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2063701511 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:53.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:07:53.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:07:53.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:07:53.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d3c2f8]
2025-12-17T16:07:53.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:53.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d7782a] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:53.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103421162 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:53.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:53.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:53.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 39
2025-12-17T16:07:53.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d7782a]
2025-12-17T16:07:53.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:07:53.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d09b26] was not registered for synchronization because synchronization is not active
2025-12-17T16:07:53.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322036670 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:07:53.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:07:53.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:07:53.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 35
2025-12-17T16:07:53.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d09b26]
2025-12-17T16:07:53.835+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 엑셀 파일 생성 완료 - 파일명: expense_export_7984785723897478142.xlsx, 건수: 29
2025-12-17T16:07:53.947+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : 엑셀 다운로드 요청 - userId: 15, startDate: 2025-12-08, endDate: 2025-12-12
2025-12-17T16:07:53.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2025-12-17T16:07:53.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\expense_export_7984785723897478142.xlsx]]
2025-12-17T16:07:53.995+09:00  WARN 44840 --- [http-nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="지출내역_2025-12-08_2025-12-12.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [지] at code point [51,648] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.commit(Response.java:454) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:284) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:264) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:130) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:161) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-17T16:07:54.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:19.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:08:19.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-17T16:08:19.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:08:19.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:08:19.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:08:19.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:08:19.205+09:00  INFO 44840 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=15
2025-12-17T16:08:19.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:19.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:08:19.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:24.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:08:24.676+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:08:24.679+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:08:24.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:08:24.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:08:24.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2025-12-17T16:08:24.684+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2025-12-17T16:08:24.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:24.685+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b464811] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:24.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1956037630 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:08:24.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:08:24.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ksu14044(String)
2025-12-17T16:08:24.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:08:24.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b464811]
2025-12-17T16:08:24.821+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 14, role: USER, companyId: 1
2025-12-17T16:08:24.821+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=14 username=ksu14044 role=USER
2025-12-17T16:08:24.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:24.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=14, username=ksu14044, password= (truncated)...]
2025-12-17T16:08:24.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:25.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=14
2025-12-17T16:08:25.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=14
2025-12-17T16:08:25.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:08:25.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:08:25.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:08:25.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:08:25.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:08:25.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:08:25.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:08:25.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:08:25.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:08:25.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:08:25.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.429+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f77727c] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ed5c21] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425244160 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32310353 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:08:25.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:08:25.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:08:25.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:08:25.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:08:25.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:08:25.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ed5c21]
2025-12-17T16:08:25.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:08:25.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:25.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f77727c]
2025-12-17T16:08:25.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:08:25.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:25.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1887dbca] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1469954158 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:08:25.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:08:25.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:08:25.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:08:25.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:08:25.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:08:25.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:08:25.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:08:25.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1887dbca]
2025-12-17T16:08:25.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666a36d6] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e953e2f] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@409660348 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:08:25.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:08:25.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040997243 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:08:25.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:08:25.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:08:25.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:08:25.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e953e2f]
2025-12-17T16:08:25.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:08:25.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666a36d6]
2025-12-17T16:08:25.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b896d72] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:25.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@477777514 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:08:25.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:08:25.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:25.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:08:25.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:08:25.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b896d72]
2025-12-17T16:08:25.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d43e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1116691497 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:08:25.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:08:25.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:08:25.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d43e3]
2025-12-17T16:08:25.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c003b36] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@609901326 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.546+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:08:25.546+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:08:25.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:08:25.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c003b36]
2025-12-17T16:08:25.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5292d516] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520523257 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:08:25.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:08:25.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:08:25.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5292d516]
2025-12-17T16:08:25.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:25.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:08:25.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:25.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:08:25.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:08:25.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:08:25.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:08:25.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:08:25.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28aba8c8] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1654289318 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:08:25.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:08:25.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:08:25.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28aba8c8]
2025-12-17T16:08:25.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31aae060] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1152578421 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:08:25.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:08:25.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:08:25.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31aae060]
2025-12-17T16:08:25.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cdcc26] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870828703 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:08:25.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:08:25.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:08:25.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cdcc26]
2025-12-17T16:08:25.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c548f47] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186634775 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:08:25.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:08:25.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:08:25.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c548f47]
2025-12-17T16:08:25.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1b562d] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.731+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1140711102 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:08:25.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:08:25.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:08:25.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1b562d]
2025-12-17T16:08:25.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ed8a4a] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@51774468 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:08:25.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:08:25.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:08:25.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ed8a4a]
2025-12-17T16:08:25.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:25.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21267e4f] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:25.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@522657787 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:08:25.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:08:25.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:08:25.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:08:25.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21267e4f]
2025-12-17T16:08:25.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:25.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:08:25.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:35.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:08:35.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/logout
2025-12-17T16:08:35.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:08:35.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:08:35.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:08:35.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:08:35.922+09:00  INFO 44840 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=14
2025-12-17T16:08:35.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:35.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:08:35.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:42.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=testceo3
2025-12-17T16:08:42.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:08:42.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=testceo3
2025-12-17T16:08:42.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=testceo3", parameters={masked}
2025-12-17T16:08:42.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-17T16:08:42.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:42.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e32cc28] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:42.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310776068 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:08:42.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:08:42.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testceo3(String)
2025-12-17T16:08:42.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:08:42.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e32cc28]
2025-12-17T16:08:42.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:42.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-17T16:08:42.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:08:55.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-17T16:08:55.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-17T16:08:55.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:08:55.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-17T16:08:55.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-17T16:08:55.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-17T16:08:55.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=testceo3, password=1234, koreanName=testceo3, email=, positi (truncated)...]
2025-12-17T16:08:55.351+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회원가입 시도 - username: testceo3, koreanName: testceo3, role: CEO
2025-12-17T16:08:55.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:55.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641cccd3] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:55.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1071351137 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:08:55.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:08:55.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testceo3(String)
2025-12-17T16:08:55.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:08:55.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641cccd3]
2025-12-17T16:08:55.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:08:55.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55bd590a] was not registered for synchronization because synchronization is not active
2025-12-17T16:08:55.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@236064174 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:08:55.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-17T16:08:55.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : ==> Parameters: testceo3(String), $2a$10$Z5fJpk1PN9WLh2aefIrO5uT3tsNT5V8t1keqYKaZzN5r6Yzmw/P9O(String), testceo3(String), null, 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2025-12-17T16:08:55.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-17T16:08:55.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55bd590a]
2025-12-17T16:08:55.603+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회원가입 완료 - username: testceo3, role: CEO
2025-12-17T16:08:55.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:08:55.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2025-12-17T16:08:55.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:00.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:09:00.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:09:00.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:09:00.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:09:00.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:09:00.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo3, password=1234)]
2025-12-17T16:09:00.262+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo3
2025-12-17T16:09:00.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:00.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be04633] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:00.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558021217 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:00.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:09:00.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo3(String)
2025-12-17T16:09:00.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:09:00.304+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be04633]
2025-12-17T16:09:00.387+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 37, role: CEO, companyId: null
2025-12-17T16:09:00.388+09:00  INFO 44840 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=37 username=testceo3 role=CEO
2025-12-17T16:09:00.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:00.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=37, username=testceo3, password= (truncated)...]
2025-12-17T16:09:00.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:00.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:09:00.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:09:00.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:00.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:00.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:09:00.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:09:00.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:09:00.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:09:00.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:09:00.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:09:00.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:00.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:00.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:09:00.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:09:00.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:00.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:09:00.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:09:00.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:09:00.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:09:00.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:00.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:09:00.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:00.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:00.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b92951f] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:00.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:09:00.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:09:00.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:00.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:00.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:09:00.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:00.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425964e8] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:00.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1620986923 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:00.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:00.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2a8243] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:00.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:09:00.985+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e5cf31] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:00.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1613684490 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:00.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 37(Long)
2025-12-17T16:09:00.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:00.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:00.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1518163598 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:00.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:09:00.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313156976 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:00.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:09:00.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:09:00.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:09:00.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b92951f]
2025-12-17T16:09:01.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:01.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), null
2025-12-17T16:09:01.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:01.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425964e8]
2025-12-17T16:09:01.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:09:01.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:09:01.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:01.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2a8243]
2025-12-17T16:09:01.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:01.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a1d817] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:01.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:01.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166555483 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:01.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:09:01.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:01.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:01.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:09:01.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:09:01.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:01.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e5cf31]
2025-12-17T16:09:01.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:09:01.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:01.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:09:01.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:09:01.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:09:01.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:01.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:09:01.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:01.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:01.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:01.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:01.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbbbf05] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:01.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a1d817]
2025-12-17T16:09:01.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@754602730 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:01.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:01.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:01.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:09:01.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:09:01.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:09:01.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:09:01.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:01.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:01.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:09:01.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:09:01.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:09:01.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:01.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32126b5c] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:01.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:09:01.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1154915400 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:01.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:09:01.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:09:01.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:09:01.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:09:01.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), null
2025-12-17T16:09:01.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbbbf05]
2025-12-17T16:09:01.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:09:01.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:01.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:09:01.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:01.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:09:01.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:01.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11530790] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:01.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32126b5c]
2025-12-17T16:09:01.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773417401 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:01.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:01.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:01.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:09:01.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:01.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:01.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:01.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11530790]
2025-12-17T16:09:01.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:01.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56130447] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:01.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601566354 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:01.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:01.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:01.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:01.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56130447]
2025-12-17T16:09:01.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:01.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:09:01.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:03.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:03.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:03.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:03.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:03.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:03.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:03.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:03.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:03.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:03.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:03.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3a7671] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb1adcf] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad33728] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257108013 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:03.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:03.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196871b7] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772301538 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:03.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:03.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1126198852 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:03.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:03.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:03.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:03.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245873597 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:03.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:03.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:03.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:03.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:03.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3a7671]
2025-12-17T16:09:03.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:03.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:03.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:03.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb1adcf]
2025-12-17T16:09:03.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad33728]
2025-12-17T16:09:03.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:03.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196871b7]
2025-12-17T16:09:03.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:03.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:03.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:03.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:03.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:03.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:03.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:03.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:03.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:03.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:03.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:03.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45050044] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:03.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608714320 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:03.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:03.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:03.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:03.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6471d7e0] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:03.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387920601 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:03.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:03.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:03.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fbc21dc] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d0ba2f1] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:03.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:03.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1615998300 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:03.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572369346 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:03.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6471d7e0]
2025-12-17T16:09:03.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45050044]
2025-12-17T16:09:03.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:03.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:03.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:03.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:03.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:03.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:03.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:03.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:03.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fbc21dc]
2025-12-17T16:09:03.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d0ba2f1]
2025-12-17T16:09:03.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:03.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:03.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:03.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:03.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:03.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:03.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:03.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:03.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:03.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:03.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:03.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:03.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:03.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:03.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:03.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:03.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:03.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.614+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:03.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bab4b3] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@130392319 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:03.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:03.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:03.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d615a6] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:03.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e4aac] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:03.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e21affc] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:03.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1543396724 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:03.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:03.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@244231104 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:03.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:03.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:03.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1863090322 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:04.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:03.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bab4b3]
2025-12-17T16:09:03.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:04.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:04.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:04.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:04.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:04.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:04.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:04.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d615a6]
2025-12-17T16:09:04.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:04.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:04.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:04.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:04.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e21affc]
2025-12-17T16:09:04.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e4aac]
2025-12-17T16:09:04.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:04.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:04.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:04.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:04.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:04.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:04.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:17.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-17T16:09:17.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/companies
2025-12-17T16:09:17.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:09:17.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/companies
2025-12-17T16:09:17.648+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/companies", parameters={}
2025-12-17T16:09:17.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#createCompany(CompanyCreateRequest)
2025-12-17T16:09:17.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CompanyController.CompanyCreateRequest(companyName=testcompany4)]
2025-12-17T16:09:17.664+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:17.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:17.677+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.b.controller.CompanyController       : 회사 생성 시도 - companyName: testcompany4, userId: 37
2025-12-17T16:09:17.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:17.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247dec]
2025-12-17T16:09:17.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734846879 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will be managed by Spring
2025-12-17T16:09:17.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.existsByCode  : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE company_code = ?
2025-12-17T16:09:17.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.existsByCode  : ==> Parameters: 03SQ05(String)
2025-12-17T16:09:17.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.existsByCode  : <==      Total: 1
2025-12-17T16:09:17.712+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247dec]
2025-12-17T16:09:17.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247dec] from current transaction
2025-12-17T16:09:17.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.backend.mapper.CompanyMapper.insert  : ==>  Preparing: INSERT INTO company_tb (company_code, company_name, created_by, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-12-17T16:09:17.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.backend.mapper.CompanyMapper.insert  : ==> Parameters: 03SQ05(String), testcompany4(String), 37(Long), true(Boolean), 2025-12-17T16:09:17.713231900(LocalDateTime), 2025-12-17T16:09:17.713231900(LocalDateTime)
2025-12-17T16:09:17.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.backend.mapper.CompanyMapper.insert  : <==    Updates: 1
2025-12-17T16:09:17.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247dec]
2025-12-17T16:09:17.731+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.service.CompanyService       : 회사 생성 완료 - companyId: 5, companyName: testcompany4, createdBy: 37
2025-12-17T16:09:17.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247dec]
2025-12-17T16:09:17.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247dec]
2025-12-17T16:09:17.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247dec]
2025-12-17T16:09:17.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:17.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52135b41] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:17.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1071673503 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:17.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:09:17.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:09:17.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:09:17.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52135b41]
2025-12-17T16:09:17.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:17.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691b6446] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:17.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555410295 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:17.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:09:17.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testceo3(String), null, 대표(String), CEO(String), true(Boolean), 5(Long), APPROVED(String), 37(Long)
2025-12-17T16:09:17.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:09:17.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691b6446]
2025-12-17T16:09:17.799+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.b.controller.CompanyController       : 회사 생성 완료 - companyId: 5, companyName: testcompany4, userId: 37
2025-12-17T16:09:17.800+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:17.800+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=회사가 등록되었습니다., data=CompanyDto(companyId=5, companyCode=03SQ05, com (truncated)...]
2025-12-17T16:09:17.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:18.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:18.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:18.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:18.865+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:18.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:18.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:18.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:18.872+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:18.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:18.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:18.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:09:18.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:18.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:18.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:18.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:09:18.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:18.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:18.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:18.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:18.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:09:18.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:18.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:18.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf2b63f] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:18.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:18.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:09:18.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:09:18.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:18.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748f1511] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:18.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:18.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:18.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:18.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:18.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:18.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:18.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7176be6f] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:18.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860330008 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:18.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:18.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2204c2e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:18.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:18.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40cac90f] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:18.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:18.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@200966746 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:18.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:18.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1219042437 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:18.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101765617 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:18.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441978841 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:09:18.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:18.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf2b63f]
2025-12-17T16:09:18.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:09:18.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:18.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:18.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:18.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:18.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 37(Long)
2025-12-17T16:09:18.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:18.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:18.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:18.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:18.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:09:18.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:18.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:18.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:18.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2204c2e3]
2025-12-17T16:09:18.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7176be6f]
2025-12-17T16:09:18.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748f1511]
2025-12-17T16:09:18.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:18.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:18.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:18.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:18.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:18.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:18.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=5, companyCode=03SQ05, companyNa (truncated)...]
2025-12-17T16:09:18.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:18.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:18.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40cac90f]
2025-12-17T16:09:18.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:18.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:18.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:18.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:18.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:18.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:18.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:09:19.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:19.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:09:19.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:19.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:09:19.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:19.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b021cf9] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:09:19.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@211698661 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:19.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:19.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:19.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:09:19.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:19.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:19.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:19.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:19.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:19.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:19.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:19.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:19.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51522b3a] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b021cf9]
2025-12-17T16:09:19.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2647e7] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219784700 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:19.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:09:19.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfdaade] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@29382014 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:19.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 37(Long)
2025-12-17T16:09:19.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1035902078 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:19.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:19.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:19.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:19.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c0023c] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@483724116 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:19.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:19.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:19.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:19.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:09:19.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:19.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:19.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:19.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51522b3a]
2025-12-17T16:09:19.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:19.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfdaade]
2025-12-17T16:09:19.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2647e7]
2025-12-17T16:09:19.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=5, companyCode=03SQ05, companyNa (truncated)...]
2025-12-17T16:09:19.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:19.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:19.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:19.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:19.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c0023c]
2025-12-17T16:09:19.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:19.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:19.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ac115] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:19.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@361846379 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:19.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:19.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:19.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:19.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:19.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:19.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4a32f6] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@695719067 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:19.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:19.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:19.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:19.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e5b398] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:19.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ac115]
2025-12-17T16:09:19.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@164313387 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:19.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:19.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4a32f6]
2025-12-17T16:09:19.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:19.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:19.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:19.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:19.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:19.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4792d1d0] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@637812271 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:19.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:19.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:19.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:19.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e5b398]
2025-12-17T16:09:19.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:19.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:19.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:19.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:19.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:19.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4792d1d0]
2025-12-17T16:09:19.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:19.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:19.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:19.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:19.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:19.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9691b66] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f9efe7] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1111964518 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:19.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@530558580 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:09:19.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:19.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:19.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:19.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:19.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d086316] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:19.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564708982 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:19.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:19.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:19.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:19.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:19.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9691b66]
2025-12-17T16:09:19.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:19.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f9efe7]
2025-12-17T16:09:19.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:19.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:19.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:19.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d086316]
2025-12-17T16:09:19.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d673aff] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@326117692 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:19.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:19.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:19.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:19.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:09:19.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:09:19.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:09:19.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:09:19.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:09:19.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:09:19.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:09:19.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:09:19.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:09:19.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750a64ac] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e269b1] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:09:19.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1690982867 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:19.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:09:19.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@540148245 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:19.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:19.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:09:19.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:09:19.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d673aff]
2025-12-17T16:09:19.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:09:19.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:09:19.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:19.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d83bcbf] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750a64ac]
2025-12-17T16:09:19.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1559295603 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:19.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:09:19.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:09:19.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:09:19.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e269b1]
2025-12-17T16:09:19.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:09:19.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:09:19.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:09:19.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:09:19.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:09:19.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d83bcbf]
2025-12-17T16:09:19.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:09:19.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:09:19.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:09:19.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:19.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:19.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b72c1d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:19.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967234509 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:19.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:09:19.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:09:19.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:09:19.500+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b72c1d7]
2025-12-17T16:09:19.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:19.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:09:19.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:20.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:20.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:09:20.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:09:20.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:09:20.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:09:20.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:09:20.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:20.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:09:20.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:09:20.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:09:20.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:09:20.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:09:20.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:09:20.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:09:20.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:09:20.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:20.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b2dd1b] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799b9d50] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:20.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e478c1] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790919553 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:20.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1662891061 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:20.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:09:20.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:20.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), null
2025-12-17T16:09:20.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:20.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57700047 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:20.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:20.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:09:20.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:09:20.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b2dd1b]
2025-12-17T16:09:20.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799b9d50]
2025-12-17T16:09:20.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:09:20.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:20.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79d62eb7] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:09:20.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886839162 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:20.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:20.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:20.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:20.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:09:20.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e478c1]
2025-12-17T16:09:20.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63478f56] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@614651896 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:20.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:09:20.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:09:20.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:20.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:09:20.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:20.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:09:20.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:09:20.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28745332] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:20.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79d62eb7]
2025-12-17T16:09:20.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:20.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:09:20.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:20.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:09:20.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63478f56]
2025-12-17T16:09:20.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:20.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:09:20.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:20.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:09:20.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:09:20.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:09:20.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:09:20.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:09:20.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:09:20.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:09:20.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:09:20.394+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:09:20.394+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:09:20.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9ad358] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:20.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@282331470 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:20.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:20.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:20.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7930b817] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:20.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562694924 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:20.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:09:20.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:09:20.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098379545 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:09:20.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:09:20.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), null
2025-12-17T16:09:20.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:09:20.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7930b817]
2025-12-17T16:09:20.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e30a6b] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601170944 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:20.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:09:20.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:09:20.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:20.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9ad358]
2025-12-17T16:09:20.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:20.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6391c79f] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:20.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2072627366 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:20.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:20.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:09:20.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:20.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:09:20.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6391c79f]
2025-12-17T16:09:20.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:09:20.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e30a6b]
2025-12-17T16:09:20.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:20.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28745332]
2025-12-17T16:09:20.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:20.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:09:20.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:20.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:09:20.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:09:20.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:20.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:20.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:21.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:09:21.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: null, uri: /api/logout
2025-12-17T16:09:21.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:09:21.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:09:21.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:09:21.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzNyIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:09:21.163+09:00  INFO 44840 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=37
2025-12-17T16:09:21.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:21.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:09:21.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:25.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=testuser5
2025-12-17T16:09:25.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:09:25.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=testuser5
2025-12-17T16:09:25.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=testuser5", parameters={masked}
2025-12-17T16:09:25.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-17T16:09:25.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:25.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4111e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:25.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149687894 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:25.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:09:25.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testuser5(String)
2025-12-17T16:09:25.304+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:09:25.304+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4111e3]
2025-12-17T16:09:25.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:25.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-17T16:09:25.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:33.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-17T16:09:33.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:09:33.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-17T16:09:33.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-17T16:09:33.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-17T16:09:33.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:33.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155e4f3b] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:33.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1588609747 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:33.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE c.company_name LIKE CONCAT('%', ?, '%') AND c.is_active = 1 GROUP BY c.company_id, c.company_name ORDER BY c.company_name ASC LIMIT 20
2025-12-17T16:09:33.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String)
2025-12-17T16:09:33.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 4
2025-12-17T16:09:33.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155e4f3b]
2025-12-17T16:09:33.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:33.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=2, companyName=testc (truncated)...]
2025-12-17T16:09:33.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:45.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-17T16:09:45.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:09:45.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-17T16:09:45.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-17T16:09:45.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-17T16:09:45.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=testuser5, password=1234, koreanName=testuser5, email=, posi (truncated)...]
2025-12-17T16:09:45.514+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 시도 - username: testuser5, koreanName: testuser5, role: USER
2025-12-17T16:09:45.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:45.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1ceecd] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:45.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1773904101 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:45.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:09:45.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testuser5(String)
2025-12-17T16:09:45.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:09:45.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1ceecd]
2025-12-17T16:09:45.632+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:45.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dd032a] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:45.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1031732286 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:09:45.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-17T16:09:45.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==> Parameters: testuser5(String), $2a$10$0jq8RcilT05A2hPsHjH7vejROEeyGtwxBEWK988uFo0l2CPxzZ/t2(String), testuser5(String), null, 사원(String), USER(String), 5(Long), false(Boolean), PENDING(String)
2025-12-17T16:09:45.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-17T16:09:45.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dd032a]
2025-12-17T16:09:45.666+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 완료 - username: testuser5, role: USER
2025-12-17T16:09:45.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:45.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-17T16:09:45.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:51.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:09:51.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:09:51.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:09:51.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:09:51.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:09:51.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo3, password=1234)]
2025-12-17T16:09:51.599+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo3
2025-12-17T16:09:51.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:51.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7df2e922] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:51.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2072573038 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:51.731+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:09:51.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo3(String)
2025-12-17T16:09:51.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:09:51.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7df2e922]
2025-12-17T16:09:51.877+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 37, role: CEO, companyId: 5
2025-12-17T16:09:51.950+09:00  INFO 44840 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=37 username=testceo3 role=CEO
2025-12-17T16:09:52.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:52.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=37, username=testceo3, password= (truncated)...]
2025-12-17T16:09:52.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:52.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:09:52.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:09:52.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:52.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:09:53.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/companies
2025-12-17T16:09:53.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:09:53.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses
2025-12-17T16:09:53.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:09:53.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/pending
2025-12-17T16:09:53.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:09:53.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:09:53.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:09:53.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:53.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:09:53.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:09:53.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:09:53.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:09:53.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:09:53.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:53.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:09:53.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:09:53.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:53.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:09:53.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d44f6d] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:53.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ca3ceb] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13aa5e48] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a544b3] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@109163366 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:09:53.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1835918379 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:53.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1309097857 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:53.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:09:53.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:09:53.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:09:53.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:53.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368953378 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:53.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), 5(Long)
2025-12-17T16:09:53.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:09:53.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:09:53.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-17T16:09:53.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 37(Long)
2025-12-17T16:09:53.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13aa5e48]
2025-12-17T16:09:53.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:53.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:09:53.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:09:53.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:53.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a544b3]
2025-12-17T16:09:53.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=38, username=testuser5, password=null, (truncated)...]
2025-12-17T16:09:53.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d44f6d]
2025-12-17T16:09:53.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ca3ceb]
2025-12-17T16:09:53.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:53.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:53.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:53.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=5, companyCode=03SQ05, companyNa (truncated)...]
2025-12-17T16:09:53.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:09:53.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:09:53.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ee3b497] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:53.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:53.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@60898898 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:09:53.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:53.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/pending
2025-12-17T16:09:53.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:09:53.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:53.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:09:53.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:09:53.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:09:53.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:09:53.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:09:53.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:09:53.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:53.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:09:53.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:09:53.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b45ec3] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@261349689 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:09:53.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:09:53.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d3635c] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), 5(Long)
2025-12-17T16:09:53.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702059327 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:53.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:09:53.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:09:53.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:53.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ee3b497]
2025-12-17T16:09:53.304+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:09:53.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:53.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b45ec3]
2025-12-17T16:09:53.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:09:53.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-17T16:09:53.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:53.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d3635c]
2025-12-17T16:09:53.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:53.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:09:53.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:53.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=38, username=testuser5, password=null, (truncated)...]
2025-12-17T16:09:53.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:53.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:09:53.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:09:53.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses
2025-12-17T16:09:53.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:09:53.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:09:53.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:09:53.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.394+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37278551] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1637278296 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:53.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:53.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:09:53.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:53.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37278551]
2025-12-17T16:09:53.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:09:53.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58206f52] was not registered for synchronization because synchronization is not active
2025-12-17T16:09:53.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403413514 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:09:53.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:09:53.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:09:53.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:09:53.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58206f52]
2025-12-17T16:09:53.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:09:53.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:09:53.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:12.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/38/approval
2025-12-17T16:10:12.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/38/approval
2025-12-17T16:10:12.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/38/approval
2025-12-17T16:10:12.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/38/approval
2025-12-17T16:10:12.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/38/approval", parameters={}
2025-12-17T16:10:12.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-17T16:10:12.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-17T16:10:12.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:12.529+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:12.530+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 38, action: APPROVE, operatorId: 37
2025-12-17T16:10:12.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:12.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca7956d] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:12.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1667295248 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:12.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:12.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:12.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:12.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca7956d]
2025-12-17T16:10:12.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:12.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c0c56f2] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:12.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@737518967 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:12.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:12.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:12.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:12.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c0c56f2]
2025-12-17T16:10:12.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:12.563+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36df8e07] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:12.563+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016081384 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:12.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:10:12.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testuser5(String), null, 사원(String), USER(String), true(Boolean), 5(Long), APPROVED(String), 38(Long)
2025-12-17T16:10:12.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:10:12.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36df8e07]
2025-12-17T16:10:12.636+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 38
2025-12-17T16:10:12.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:12.643+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-17T16:10:12.644+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:12.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:10:12.679+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/pending
2025-12-17T16:10:12.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:10:12.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:10:12.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:10:12.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:12.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:12.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:12.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b5e8ff] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:12.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381819299 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:10:12.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:10:12.760+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:10:12.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:10:12.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b5e8ff]
2025-12-17T16:10:12.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:12.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:10:12.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:15.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:10:15.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/company
2025-12-17T16:10:15.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:10:15.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:10:15.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:10:15.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:15.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:15.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:15.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53fab1ff] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:15.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1312783163 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:15.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:10:15.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 5(Long)
2025-12-17T16:10:15.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-17T16:10:15.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53fab1ff]
2025-12-17T16:10:15.053+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 5, count: 2
2025-12-17T16:10:15.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:15.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=37, username=testceo3, pass (truncated)...]
2025-12-17T16:10:15.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:15.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-17T16:10:15.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/company
2025-12-17T16:10:15.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-17T16:10:15.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-17T16:10:15.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-17T16:10:15.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:15.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:15.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:15.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35bb5997] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:15.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1157846923 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:10:15.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? ORDER BY user_id
2025-12-17T16:10:15.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 5(Long)
2025-12-17T16:10:15.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 2
2025-12-17T16:10:15.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35bb5997]
2025-12-17T16:10:15.092+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 5, count: 2
2025-12-17T16:10:15.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:15.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=37, username=testceo3, pass (truncated)...]
2025-12-17T16:10:15.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:21.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:10:21.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/logout
2025-12-17T16:10:21.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:10:21.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:10:21.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:10:21.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzNyIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:10:21.427+09:00  INFO 44840 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=37
2025-12-17T16:10:21.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:21.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:10:21.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:25.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:10:25.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:10:25.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:10:25.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:10:25.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:10:25.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testuser5, password=1234)]
2025-12-17T16:10:25.060+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: testuser5
2025-12-17T16:10:25.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:25.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1ee816] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:25.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1982024205 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:25.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:10:25.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testuser5(String)
2025-12-17T16:10:25.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:10:25.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1ee816]
2025-12-17T16:10:25.155+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 38, role: USER, companyId: 5
2025-12-17T16:10:25.156+09:00  INFO 44840 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=38 username=testuser5 role=USER
2025-12-17T16:10:25.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:25.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=38, username=testuser5, password (truncated)...]
2025-12-17T16:10:25.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:25.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:25.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:25.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:10:25.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:25.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses
2025-12-17T16:10:25.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:10:25.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:10:25.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:25.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:10:25.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=38", parameters={masked}
2025-12-17T16:10:25.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:10:25.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:10:25.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:25.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e40b458] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:25.632+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:25.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d3088c] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:25.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1536132344 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:25.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:10:25.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 38(Long), 5(Long)
2025-12-17T16:10:25.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@733222015 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:25.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:25.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:25.685+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:10:25.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:10:25.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e40b458]
2025-12-17T16:10:25.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d3088c]
2025-12-17T16:10:25.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:25.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:25.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bca315] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:25.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:10:25.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1590292318 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:25.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:25.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:25.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:25.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:25.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:10:25.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bca315]
2025-12-17T16:10:25.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:10:25.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:25.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:10:25.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:25.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:25.731+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=38", parameters={masked}
2025-12-17T16:10:25.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:10:25.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:10:25.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses
2025-12-17T16:10:25.745+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:25.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:10:25.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b4e8b03] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:25.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:10:25.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:10:25.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:25.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ea1bc3d] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:25.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@234642752 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:10:25.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443105031 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:25.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:10:25.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:25.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 38(Long), 5(Long)
2025-12-17T16:10:25.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:25.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:10:25.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:10:25.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ea1bc3d]
2025-12-17T16:10:25.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b4e8b03]
2025-12-17T16:10:25.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:25.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:25.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f80f29] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:25.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:10:25.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815466815 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:25.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:25.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:25.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:25.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:10:25.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f80f29]
2025-12-17T16:10:25.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:25.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:10:25.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:30.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-17T16:10:30.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-17T16:10:30.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:10:30.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/users/admins
2025-12-17T16:10:30.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:10:30.580+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:10:30.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:10:30.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:30.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@887e2fb] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:30.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962418606 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:30.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:10:30.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 5(Long)
2025-12-17T16:10:30.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-17T16:10:30.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@887e2fb]
2025-12-17T16:10:30.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:30.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=37, username=testceo3, password (truncated)...]
2025-12-17T16:10:30.611+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:30.613+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:10:30.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/users/admins
2025-12-17T16:10:30.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:10:30.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:10:30.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:10:30.632+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:30.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457794c5] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:30.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16294254 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:30.646+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:10:30.648+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 5(Long)
2025-12-17T16:10:30.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 1
2025-12-17T16:10:30.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457794c5]
2025-12-17T16:10:30.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:30.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=37, username=testceo3, password (truncated)...]
2025-12-17T16:10:30.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:45.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/create
2025-12-17T16:10:45.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-17T16:10:45.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/create
2025-12-17T16:10:45.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-17T16:10:45.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-17T16:10:45.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-17T16:10:45.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=38, reportDate=2025-12-17, title=test, totalAmount= (truncated)...]
2025-12-17T16:10:45.230+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 38, currentUserId: 38, title: test, totalAmount: 12344
2025-12-17T16:10:45.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:45.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695]
2025-12-17T16:10:45.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391211467 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will be managed by Spring
2025-12-17T16:10:45.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:45.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:45.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:45.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695]
2025-12-17T16:10:45.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695] from current transaction
2025-12-17T16:10:45.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:10:45.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 38(Long), 2025-12-17(LocalDate), test(String), 12344(Long), WAIT(String), 2025-12-17(LocalDate), false(Boolean), 5(Long)
2025-12-17T16:10:45.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-17T16:10:45.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695]
2025-12-17T16:10:45.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-17T16:10:45.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695] from current transaction
2025-12-17T16:10:45.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-17T16:10:45.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 74(Long), 식대(String), test(String), 12344(Long), (String), 5(Long)
2025-12-17T16:10:45.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-17T16:10:45.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695]
2025-12-17T16:10:45.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-17T16:10:45.263+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 74
2025-12-17T16:10:45.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695]
2025-12-17T16:10:45.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695]
2025-12-17T16:10:45.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c5d695]
2025-12-17T16:10:45.276+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 74
2025-12-17T16:10:45.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:45.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=74)]
2025-12-17T16:10:45.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:45.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/74/approval-lines
2025-12-17T16:10:45.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/74/approval-lines
2025-12-17T16:10:45.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/74/approval-lines
2025-12-17T16:10:45.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/74/approval-lines
2025-12-17T16:10:45.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/74/approval-lines", parameters={}
2025-12-17T16:10:45.295+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#setApprovalLines(Long, ApprovalLineRequest)
2025-12-17T16:10:45.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.ApprovalLineRequest(approvalLines=[ApprovalLineDto(approvalLineId=null, expenseRep (truncated)...]
2025-12-17T16:10:45.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:45.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@315870849 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will be managed by Spring
2025-12-17T16:10:45.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:45.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:45.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:45.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd] from current transaction
2025-12-17T16:10:45.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.selectUsersByRole     : ==>  Preparing: SELECT * FROM user_tb WHERE role = ? AND company_id = ? ORDER BY user_id
2025-12-17T16:10:45.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.selectUsersByRole     : ==> Parameters: ACCOUNTANT(String), 5(Long)
2025-12-17T16:10:45.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.selectUsersByRole     : <==      Total: 0
2025-12-17T16:10:45.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd] from current transaction
2025-12-17T16:10:45.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd] from current transaction
2025-12-17T16:10:45.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:10:45.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 74(Long), 37(Long), 1(Integer), WAIT(String), null, null, null, 5(Long)
2025-12-17T16:10:45.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-17T16:10:45.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c828cd]
2025-12-17T16:10:45.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:45.352+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 라인 설정 성공, data=null)]
2025-12-17T16:10:45.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:46.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/74
2025-12-17T16:10:46.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/74
2025-12-17T16:10:46.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/74
2025-12-17T16:10:46.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/74
2025-12-17T16:10:46.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/74
2025-12-17T16:10:46.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/74", parameters={}
2025-12-17T16:10:46.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:10:46.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed75c98] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237352329 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:10:46.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:10:46.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:10:46.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed75c98]
2025-12-17T16:10:46.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62619440] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1925170112 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:10:46.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:10:46.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:10:46.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62619440]
2025-12-17T16:10:46.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f848209] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898567213 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:10:46.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:10:46.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:10:46.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f848209]
2025-12-17T16:10:46.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b94d5cd] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208781953 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:10:46.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:10:46.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:10:46.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b94d5cd]
2025-12-17T16:10:46.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a56793b] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2002903297 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:10:46.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:46.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:46.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:46.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a56793b]
2025-12-17T16:10:46.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:46.383+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=74, drafterId=38,  (truncated)...]
2025-12-17T16:10:46.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:46.394+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/74
2025-12-17T16:10:46.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/74
2025-12-17T16:10:46.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/74
2025-12-17T16:10:46.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/74", parameters={}
2025-12-17T16:10:46.399+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:10:46.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f19c91] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@818931154 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:46.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:10:46.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:10:46.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f19c91]
2025-12-17T16:10:46.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@96c1900] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103387812 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:46.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:10:46.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:10:46.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@96c1900]
2025-12-17T16:10:46.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552f8cc5] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1021459321 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:46.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:10:46.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:10:46.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@552f8cc5]
2025-12-17T16:10:46.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4bbc1] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783570522 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:46.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:10:46.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:10:46.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:10:46.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4bbc1]
2025-12-17T16:10:46.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:46.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f4b02b] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:46.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1985745863 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:46.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:46.500+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:46.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:46.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f4b02b]
2025-12-17T16:10:46.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:46.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=74, drafterId=38,  (truncated)...]
2025-12-17T16:10:46.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:53.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:10:53.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:53.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses
2025-12-17T16:10:53.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:10:53.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:10:53.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:53.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:10:53.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=38", parameters={masked}
2025-12-17T16:10:53.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:10:53.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:10:53.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606c9dc9] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a445c4] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858280219 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@114435226 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:53.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:10:53.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:53.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 38(Long), 5(Long)
2025-12-17T16:10:53.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:53.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:10:53.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:53.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a445c4]
2025-12-17T16:10:53.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606c9dc9]
2025-12-17T16:10:53.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:53.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3197937f] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:10:53.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1672964737 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:53.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:53.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:53.611+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:53.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:53.614+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:10:53.614+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=38
2025-12-17T16:10:53.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=38", parameters={masked}
2025-12-17T16:10:53.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:53.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3197937f]
2025-12-17T16:10:53.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:10:53.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6a3798] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122720097 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:53.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f87a0a8] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:53.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:53.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:53.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898283426 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:53.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6a3798]
2025-12-17T16:10:53.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:10:53.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 38(Long), 5(Long)
2025-12-17T16:10:53.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d651db0] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135421299 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:53.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:53.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:10:53.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:53.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f87a0a8]
2025-12-17T16:10:53.632+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:53.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:10:53.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:53.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:53.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d651db0]
2025-12-17T16:10:53.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@475fabb3] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841131637 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:53.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:53.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:53.644+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:53.644+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@475fabb3]
2025-12-17T16:10:53.645+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.645+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698b0036] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.645+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1404255367 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:53.645+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:53.646+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:53.649+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:53.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698b0036]
2025-12-17T16:10:53.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b81786] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@688074263 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:53.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:53.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:53.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:53.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b81786]
2025-12-17T16:10:53.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:53.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:10:53.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:53.666+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:10:53.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/expenses
2025-12-17T16:10:53.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:10:53.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:10:53.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:10:53.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71798d81] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179849646 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:53.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:53.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:53.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71798d81]
2025-12-17T16:10:53.681+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606a1ed9] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564639952 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:53.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:53.685+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:53.691+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606a1ed9]
2025-12-17T16:10:53.691+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51590892] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1643464886 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:53.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:53.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:53.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51590892]
2025-12-17T16:10:53.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d77a95] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1582561125 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:53.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:53.712+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:53.712+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d77a95]
2025-12-17T16:10:53.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d3a1edc] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@29737020 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:53.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:53.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:53.743+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d3a1edc]
2025-12-17T16:10:53.743+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10335cfe] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1028816090 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:53.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:53.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:53.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10335cfe]
2025-12-17T16:10:53.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:53.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cfcb82] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:53.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1058125161 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:53.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:53.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 38(Long)
2025-12-17T16:10:53.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:53.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cfcb82]
2025-12-17T16:10:53.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:53.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:10:53.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:54.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:10:54.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 38, role: USER, companyId: 5, uri: /api/logout
2025-12-17T16:10:54.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:10:54.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:10:54.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:10:54.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzOCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:10:54.500+09:00  INFO 44840 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=38
2025-12-17T16:10:54.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:54.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:10:54.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:10:57.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:10:57.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:10:57.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:10:57.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:10:57.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo3, password=1234)]
2025-12-17T16:10:57.236+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo3
2025-12-17T16:10:57.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd1887c] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@616130470 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:10:57.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo3(String)
2025-12-17T16:10:57.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:10:57.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd1887c]
2025-12-17T16:10:57.326+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 37, role: CEO, companyId: 5
2025-12-17T16:10:57.326+09:00  INFO 44840 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=37 username=testceo3 role=CEO
2025-12-17T16:10:57.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:57.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=37, username=testceo3, password= (truncated)...]
2025-12-17T16:10:57.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:10:57.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:10:57.712+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:10:57.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:10:57.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/companies
2025-12-17T16:10:57.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses
2025-12-17T16:10:57.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:10:57.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/pending
2025-12-17T16:10:57.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:10:57.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:10:57.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:10:57.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:10:57.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:10:57.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:10:57.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:10:57.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:10:57.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:10:57.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:10:57.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:10:57.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:10:57.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:10:57.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:10:57.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db94325] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274ebb62] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:57.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1980a23a] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:57.779+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1849ff48] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639252528 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:10:57.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1376217556 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:57.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@451492138 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:10:57.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:10:57.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:57.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 37(Long)
2025-12-17T16:10:57.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), 5(Long)
2025-12-17T16:10:57.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:57.800+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245713732 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:57.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:10:57.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:10:57.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:10:57.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:10:57.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1980a23a]
2025-12-17T16:10:57.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274ebb62]
2025-12-17T16:10:57.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:57.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=5, companyCode=03SQ05, companyNa (truncated)...]
2025-12-17T16:10:57.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586c4bd5] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.820+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.820+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@33341522 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:57.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:57.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:57.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:57.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db94325]
2025-12-17T16:10:57.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:10:57.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6308de67] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1849ff48]
2025-12-17T16:10:57.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31271966 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:57.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:57.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:10:57.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:57.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:10:57.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:57.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586c4bd5]
2025-12-17T16:10:57.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3984e80e] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/pending
2025-12-17T16:10:57.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@51133960 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:57.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:57.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:10:57.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:57.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:10:57.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:10:57.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:57.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6308de67]
2025-12-17T16:10:57.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:57.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:10:57.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e60c246] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:57.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1539227659 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf7a274] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3984e80e]
2025-12-17T16:10:57.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:57.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1028016864 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:57.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:57.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:10:57.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec01359] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:10:57.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880773143 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:10:57.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:57.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:57.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:10:57.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:57.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:57.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf7a274]
2025-12-17T16:10:57.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e60c246]
2025-12-17T16:10:57.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec01359]
2025-12-17T16:10:57.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:57.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:57.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:10:57.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124f6cf0] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=74, drafterId= (truncated)...]
2025-12-17T16:10:57.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1791356429 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:10:57.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:57.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:10:57.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:57.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:10:57.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:10:57.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:10:57.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:57.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60eed1e] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124f6cf0]
2025-12-17T16:10:57.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@52381371 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:57.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:10:57.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2906b9d8] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), 5(Long)
2025-12-17T16:10:57.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078421732 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:57.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:57.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:10:57.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60eed1e]
2025-12-17T16:10:57.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5a05f6] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1867345214 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:57.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:57.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:57.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2906b9d8]
2025-12-17T16:10:57.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:57.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74be5ee2] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1760223700 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:57.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:57.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:57.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5a05f6]
2025-12-17T16:10:57.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f02746d] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1362733006 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:57.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:57.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:57.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:57.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74be5ee2]
2025-12-17T16:10:57.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c82e11b] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:57.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709751591 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f02746d]
2025-12-17T16:10:57.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:57.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:57.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c0e35f] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@971851926 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:10:57.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:57.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:57.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:57.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c82e11b]
2025-12-17T16:10:57.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:57.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:57.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:10:57.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c0e35f]
2025-12-17T16:10:57.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:57.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=74, drafterId= (truncated)...]
2025-12-17T16:10:57.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:10:57.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:10:57.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses
2025-12-17T16:10:57.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:10:57.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:10:57.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:10:57.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:57.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e0ad434] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:57.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1725358164 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:57.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:58.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:58.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:58.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e0ad434]
2025-12-17T16:10:58.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:58.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46de80b1] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:58.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@782063402 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:58.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:58.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:58.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:58.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46de80b1]
2025-12-17T16:10:58.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:58.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb7560] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:58.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869447406 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:58.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:58.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:58.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:58.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb7560]
2025-12-17T16:10:58.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:58.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e240c1c] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:58.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@342782157 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:58.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:10:58.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:10:58.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:10:58.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e240c1c]
2025-12-17T16:10:58.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:58.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5161b3df] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:58.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070268675 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:58.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:58.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:58.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:58.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5161b3df]
2025-12-17T16:10:58.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:58.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ecade] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:58.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1478323917 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:58.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:10:58.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:10:58.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:10:58.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ecade]
2025-12-17T16:10:58.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:10:58.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40334382] was not registered for synchronization because synchronization is not active
2025-12-17T16:10:58.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841550176 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:10:58.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:10:58.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:10:58.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:10:58.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40334382]
2025-12-17T16:10:58.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:10:58.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:10:58.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:00.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/74
2025-12-17T16:11:00.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/74
2025-12-17T16:11:00.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/74
2025-12-17T16:11:00.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/74", parameters={}
2025-12-17T16:11:00.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:11:00.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.383+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f97854f] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910656505 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:11:00.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:11:00.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:11:00.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f97854f]
2025-12-17T16:11:00.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@919c466] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1930152277 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:11:00.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:11:00.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:11:00.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@919c466]
2025-12-17T16:11:00.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f143bc8] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2020209336 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:11:00.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:11:00.416+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:11:00.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f143bc8]
2025-12-17T16:11:00.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@624fce43] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2082169785 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:11:00.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:11:00.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:11:00.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@624fce43]
2025-12-17T16:11:00.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3042979e] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753105411 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:11:00.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:00.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:00.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:00.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3042979e]
2025-12-17T16:11:00.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:00.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=74, drafterId=38,  (truncated)...]
2025-12-17T16:11:00.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:00.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/74
2025-12-17T16:11:00.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/74
2025-12-17T16:11:00.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/74
2025-12-17T16:11:00.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/74", parameters={}
2025-12-17T16:11:00.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:11:00.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d522a2b] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1029459561 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:11:00.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:11:00.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:11:00.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d522a2b]
2025-12-17T16:11:00.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e181f16] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@348049914 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:11:00.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:11:00.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:11:00.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e181f16]
2025-12-17T16:11:00.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2220c8dc] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216961825 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:11:00.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:11:00.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:11:00.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2220c8dc]
2025-12-17T16:11:00.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@529fcb68] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1985843151 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:11:00.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:11:00.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:00.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:11:00.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@529fcb68]
2025-12-17T16:11:00.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:00.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfed9a9] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:00.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@563517429 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:11:00.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:00.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:00.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:00.563+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfed9a9]
2025-12-17T16:11:00.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:00.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=74, drafterId=38,  (truncated)...]
2025-12-17T16:11:00.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:09.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/74/approve
2025-12-17T16:11:09.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/74/approve
2025-12-17T16:11:09.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/74/approve
2025-12-17T16:11:09.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/74/approve
2025-12-17T16:11:09.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/74/approve", parameters={}
2025-12-17T16:11:09.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-17T16:11:09.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=37, stepOrder=null, status=nul (truncated)...]
2025-12-17T16:11:09.803+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 74, approverId: 37
2025-12-17T16:11:09.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:09.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:09.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428145280 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will be managed by Spring
2025-12-17T16:11:09.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:11:09.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:09.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:11:09.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:09.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6] from current transaction
2025-12-17T16:11:09.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-17T16:11:09.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAQAElEQVR4AeydvYtcVR+ALyJrI2IhaSQYkTQ2qUJAwQ9MsJEUFlYxhWyrhcZKFotEEGJAtE2VtZCQv8AE1A3apwqYwlikiIXEziyB9/W5ybnenczszL1zP8459wk5e7/Ox+88v/DsyZmZ3Sd2d3f/Z5GB/wb8N+C/gfj+DTxR+EcCEpCABKIkoKCjTItBSUACSwlMoIKCnkCSnaIEJJAmAQWdZt6MWgISmAABBT2BJDvFKRJwzjkQUNA5ZNE5SEACWRJQ0Fmm1UlJQAI5EFDQOWTROTQlYH0JJEFAQSeRJoOUgASmSEBBTzHrzlkCEkiCgIJOIk3DBuloEpBAHAQUdBx5MAoJSEACjxFQ0I8h8YYEJCCBOAgo6KZ5sL4EJCCBgQgo6IFAO4wEJCCBpgQUdFNi1peABCQwEIGOBT1Q1A4jAQlIYAIEFPQEkuwUJSCBNAko6DTzZtQSkEDHBGLsTkHHmBVjkoAEJPAvAQX9LwT/SkACEoiRgIKOMSvGJIHYCBjPKAQU9CjYHVQCEpDAcgIKejkja0hAAhIYhYCCHgW7g+ZFwNlIoB8CCrofrvYqAQlIYG0CCnpthHYgAQlIoB8CCrofrvb6HwHPJCCBlgQUdEtwNpOABCTQNwEF3Tdh+5eABCTQkoCCbgmuq2b2IwEJSGARAQW9iIz3JSABCYxMQEGPnACHl4AEJLCIQNyCXhS19yUgAQlMgICCnkCSnaIEJJAmAQWdZt6MWgISiJtAJ9Ep6E4w2okEJCCB7gko6O6Z2qMEJCCBTggo6E4w2okEJNCEgHVXI6CgV+NkLQlIQAKDE1DQgyN3QAlIQAKrEVDQq3GylgSGI+BIEnhEQEE/AuFBAhKQQGwEFHRsGTEeCUhAAo8IKOhHIDykQsA4JTAdAgp6Orl2phKQQGIEFHRiCTNcCUhgOgQUdF65djYSkEBGBBR0Rsl0KhKQQF4EFHRe+XQ2EpBARgQmJeiM8uZUJCCBCRBQ0BNIslOUgATSJKCg08ybUUtAAhMg8J+gJzBZpygBCUggJQIKOqVsGasEJDApAgp6Uul2shLIkkC2k1LQ2abWiUlAAqkTUNCpZ9D4JSCBbAko6GxT68Qk8JCAX9MloKDTzZ2RS0ACmRNQ0Jkn2OlJQALpElDQ6ebOyLsgYB8SiJiAgo44OYYmAQlMm4CCnnb+nb0EJBAxAQUdcXLGD80IJCCBMQko6DHpO7YEJCCBfQgo6H3g+EgCEpDAmAQUdHv6tpSABCTQKwEF3SteO4+NwB9//FH8/PPPxaVLl8py9uzZ8pp7857xfHNzszhx4kRZOL98+XJs0zKeTAko6EwT67QeEkC6SBbBbmxsFIcPH65Ei2zDM57Pe8ZzZI7AKZyfOnWqOHjwYNkX1w9H8qsEuifQm6C7D9UeJbAagSDlIGQki1xXa71arbt37xaMg+QRO2Os1tJaElidgIJenZU1IyaALFnNriLMF154oaC8/vrrBYVzpvbkk0+W9zmn8IyytbVVhPLuu+/uqUM9xkbQFK4tEuiKgILuiqT9DE4giDFsTyBnJD0vECSMZHd3d4tbt26V5erVqwWFa+7fvHmzvM85hWcU2oXy/fffl3Voc/HixT2yRtCffPLJvOG9lxSBeIJV0PHkwkhWJBDEHLYWFm1fzEoZye43BPX3e15/Rt3Tp08X165dKzgWj/58++235YuPjy49SGAtAgp6LXw2HpoAq9Qg5kVjI09kzCqX46J6XdwPYx06dKjqjpU830SqG55IoCUBBd0SnM2GJYDw2MpA0PNGRpQffvhhtf3Qt5iL2h/GZiuEY7idsaTDFD0OQEBBDwDZIdYjwBYGq2aOsz3xIh4rZcqFCxf27AnP1u3zGjnXtzqIddF+eJ9x2HdeBBR0XvnMcjasnOdN7Msvvyxf5EOO854PfY9VOyWMy2qflX+49iiBpgQUdFNi1h+UwNGjR+eOx5bCxx9/PPfZmDdZRde/YbiKHjMb6Y+toNPPYZYzYOXJyvnGjRt75of8kDNbG3seRHJBfEg6hOMqOpDw2IaAgm5DzTa9EkDOx48fL39GRhiId0kgPvaaY5VziJU4w7lHCaxDQEGvQ8+2zQisWJsX2JB0qM6K+bfffiv4YEi4F/ORVTQlxMh8wrlHCTQhoKCb0LLuIARYgbJK5sgn+jgfZOAOB/n777+r3ra3t6tzTyTQhICCbkLLuoMRYNWcyop5HpSnnnpq3m3vSaARAQXdCFefle07JwJvv/12NZ3bt29X555IoAkBBd2ElnUlIAEJDEhAQQ8I26GmSaD+guc0CTjrtgRSEXTb+dlOAqMQqL+LY5QAHDQLAgo6izQ6idgI7OzsVCEp6wqFJw0JKOiGwKwugVUI1N/7zNsFV2ljnUwJrDEtBb0GPJtKYB6B2Z+/oaDnUfLeKgQU9CqUrCOBBgQ+//zzqjbbG5TqhicSaEBAQTeAZVUJLCPA1sadO3eqail/2KaaRK8ndr4fAQW9Hx2fSaAhgXPnzlUtjhw5UqT4MfVqAp6MTkBBj54CA8iFAKtnSpjPlStXwqlHCbQioKBbYbORBPYS4MMo/PzqcJcXBjvYew7deZwoAQU90cQ77W4JbG5uVh0i5r73nlmp88sANjY2Cn5fI+Xy5ctVDJ7kQUBB55FHZzEiAVbOCDOE0FbO9MFb9BAvwqdfCvINBSFTuE89xmT1Tjl16lRBe+5Z8iCgoPPI4yRnMfakkSKiRKwhlq2trX1fGKQNEkWuFNofOHCgCNJFzNynDv1SaBNKGGfRkfbUXfTc+2kRUNBp5ctoIyGABJEhAg0hIWdKuOZIPYSLiJEwK2HacY9C+3v37lF138K2ybFjx4pXX321YH+bcVip8wsNfvrpp+L555+v2vPrwhi3uuFJsgQUdLKpM/AxCSBB5BpiQJgUxEhBvkHInNfrhjbh+NJLLxW0pSBdflkBhd+/iIApnF+/fr348ccfy1/9RV1ETR+vvPJK8cEHHxRInOswPueWtAko6LTztzh6n/RCAPkhXo4MwMr1008/5bQ4evRo9YIdUi5vznxBorw3GsEiYeR78+bNStBIl+cU6s40X3hJf7QNFdgioYRrj2kSUNBp5s2oRyDAKpgtijA0v9aKTw2eP3++QMg3btwIj6ojkkWcCBQZsxJGzFwj4apiByf0yXihK2IK30jCPY9pEVDQaeXLaEcigOzYR64Pf//+/fpldc6qGlkiYoTMtgXXVYUeTxgrdI+cXUUHGmkeJyroNJNl1MMS+PXXX4s333yzfIcFgl42OhJGyL///nu5ZdH1CnnZ+DxnTFbsnFMQNKLm3JIeAQWdXs6MuAcCZ86cKWX8zjvvlHvJvPXtjTfeKH755ZeloyFmti841rcYljbsqUI9DuTM1kxPQ9ltzwQUdM+A7T5+AqySv/nmm1LGP/zwQ8Fe8qpvfWMbAyHGNEu+SbCSDjFtb2+HU4+JEZgn6MSmYLgSWI/AKqvkMALyQ8hsZVDqIgx1Yji+//77VRisoFlJVzc8SYaAgk4mVQbaF4HwNrl6/88++2z54Q8+HHLy5MlyT5ltDKSMoBF1vX5s53zjqMeIpGOL0XiWE1DQyxlZI3MCX3zxRcGn8b777ruCLQsk/Oeffxa82MeHQ/ixoUg5NQxIOsQ8mW2OMOFMjgo6k0Q6jfUI8Gm89957r/w5GvWV53q9jtvabY5x+XcxuoLugqJ9SCBCAqyg699s3OaIMElLQlLQSwD5WAIpE0DSIf6dnZ1w6jERAgo6kUQZpgTaEKhvc/ihlTYEx22joMfl7+gS6JUAK2g+et7rIHbeGwEF3RtaO06MQLbhvvXWW9XcVvnIelXZk9EJKOjRU2AAEuiXgNsc/fLts3cF3Sdd+5ZABATY5vDdHBEkokUICroFtCk2cc5pE6j/hDs/9p1OLhV0OrkyUgm0JvDaa69VbX03R4Ui+hMFHX2KDFAC6xOob3O4gl6f51A9KOguSNuHBBIgcOjQoSpKP1VYoYj6REFHnR6Dk0B3BOrv5tjZ8VOF3ZHtrycF3R9be5ZAVATq7+SIKjCDWUhgAEEvHNsHEpDAgATqWxzuQw8Ifo2hFPQa8GwqgZQIsIKmELN70FCIvyjo+HNkhBLojEB9Fd1Zpxl3NPbUFPTYGXB8CQxIIKygGdJtDijEXRR03PkxOglIYMIEFPSEk+/Up0fg5Zdf7m7S9tQ7AQXdO2IHkEA8BJ577rkqmNu3b1fnnsRJQEHHmRejkkAvBPjId+jYPehAIt6jgo43N0aWNIE4g/dFwjjzsigqBb2IjPclkCmBIGlX0PEnWEHHnyMjlECnBMI2hx9W6RRrL50p6F6w2ukSAj6OgIAr6AiSsCQEBb0EkI8lkBuB+g/vV9JxZ1dBx50fo5NA5wSUcudIe+tQQfeGtn3HtpRAnwSCoHmxkNLnWPa9HgEFvR4/W0sgOQK+OJhOyhR0OrkyUgl0QuDOnTtlP+HdHOWFX6IkkJ6go8RoUBJIg8ClS5eKBw8elMHWXywsb/glOgIKOrqUGJAE+iOwvb1ddX769Onq3JM4CSjoOPNiVBLonAB7zxQ6Vs5QGLw0HlBBN0ZmAwmkSeDcuXNV4G5vVCiiPlHQUafH4CTQDQFWzhR64611rqAhEX9R0PHnyAglsBYBxHzixImqj4sXL1bnMZ0Yy+MEFPTjTLwjgWwIzMp5a2ur8O116aRXQaeTKyNdg8DZs2eLjY2NguMa3STVdFbOiBlBJzWJiQeroCf+D2AK0+ejzUHMHLlObt4NA2aO9W0N9pyvXr3asBerj01AQY+dAcfvnQAvilHCQHxYI5znejx+/Hg1tZMnTxbuOxdJ/lHQSabNoJsSqP/XPvdVNCtnVtAwYlvjwoULnFoSJKCgE0yaIc8SWH7Nf/Hrq+jNzc3ljRKsgZzZeyZ05svKmSPXlvQIKOj0cmbELQnUV9FIjJV0y66ibMZ8mFcITjkHEukeFXS6uTPyhgRYRdcljdBy2Y9mLpSAhBcE2d4I1x7TJKCg08xbk6itWyOAoOv/5T9z5kxRX3XWqiZxyl4z2zV1ObNyVs5JpG9pkAp6KSIr5Ebg2rVrxdNPP11O6969ewWCKy8S+4KUDx8+XNT/F8A3IP6nkNhUDHcBAQW9AIy38yXACvrrr7+uJhhWodWNyE9Y8b/44ot7PnTDnNjWQNCRh294DQhMXtANWFk1IwKsMusyYxUa80qabyJhxcw7NcJvRSElzOPWrVt+hBsYmRUFnVlCnc7qBJB0fa8WSbNlsHoP/dVEyBSkjJCJi3PuhVE/+uijYnd3t0DQ4Z7HvAgo6Lzy6WwaEGBbYPYFNQTI9sFnn33WoKf1q7JtgYApQchByjyrj4CQWTF/9dVX9dueZ0hgf0FnOGGnJIE6gSBppBfus31w/vz5AkGyqg73uzryTYB+kTFjPPPMMwVS5poyK2TGJU5iDCtmrrlvyZuAgs47v85uBQLI34Q3gAAAArRJREFUDvmxKj1y5EjVApGyL41EEShSnSfPqkHthLYU2iBd+qEPfqIe/XHNfer8888/tZZFQTxsvxATK3zionC9p6IX2RNQ0Nmn2AmuSgAxXrly5bE9XSSKmJEqkj1w4EBx8ODB8u154R73ES+r4SBhrnmOiBE1fczGwpjsJQcRs0JGxlwjZERNndl2Xi8lkEUFBZ1FGp1EVwSQIWJEkhzn9ct7p+/evVu+/ziIF/ki8tnVcGhPvxSES7+8JS7ImL1k7vM81PcoAQgoaChYJDBDAFki0iBRVrRI9NixY9WHXOpNqM9zVsO0oz6lLmKkzz2e1989Uu/HcwnUCSjoOg3PJTCHQJAvcr1+/Xrx119/FcgW+XKsS5zVMAJG1pRYRTxnmt6KkICCjjAphhQ/AaSNfDnGH60RpkpAQaeaOeOWgASyJ6Cgs0+xE2xMwAYSiISAgo4kEYYhAQlIYJaAgp4l4rUEJCCBSAgo6EgSkU4YRioBCQxFQEEPRdpxJCABCTQkoKAbArO6BCQggaEIKOhuSdubBCQggc4IKOjOUNqRBCQggW4JKOhuedqbBCQggc4IDCrozqK2IwlIQAITIKCgJ5BkpygBCaRJQEGnmTejloAEBiUwzmAKehzujioBCUhgKQEFvRSRFSQgAQmMQ0BBj8PdUSWQEwHn0hMBBd0TWLuVgAQksC4BBb0uQdtLQAIS6ImAgu4JrN1KIBDwKIG2BBR0W3K2k4AEJNAzAQXdM2C7l4AEJNCWgIJuS8523RCwFwlIYCEBBb0QjQ8kIAEJjEtAQY/L39ElIAEJLCSgoBeiieGBMUhAAlMmoKCnnH3nLgEJRE1AQUedHoOTgASmTCBlQU85b85dAhKYAAEFPYEkO0UJSCBNAgo6zbwZtQQkkDKBFWNX0CuCspoEJCCBoQn8HwAA//9Mk6l/AAAABklEQVQDAN1EZG/JU/1cAAAAAElFTkSuQmCC(String), 74(Long), 37(Long), 5(Long)
2025-12-17T16:11:10.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-17T16:11:10.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:10.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6] from current transaction
2025-12-17T16:11:10.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:11:10.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:10.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:11:10.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:10.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6] from current transaction
2025-12-17T16:11:10.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:11:10.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: APPROVED(String), 74(Long), 5(Long)
2025-12-17T16:11:10.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-17T16:11:10.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:10.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:10.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:10.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac5a2e6]
2025-12-17T16:11:10.095+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 74
2025-12-17T16:11:10.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:10.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-17T16:11:10.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:11.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/74
2025-12-17T16:11:11.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:11:11.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/74
2025-12-17T16:11:11.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/companies
2025-12-17T16:11:11.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:11:11.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:11:11.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/74
2025-12-17T16:11:11.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:11:11.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/74", parameters={}
2025-12-17T16:11:11.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:11:11.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34bd2df7] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:11:11.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:11:11.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084300529 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:11.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203f2bcf] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:11:11.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115275829 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:11.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:11:11.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 37(Long)
2025-12-17T16:11:11.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:11:11.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34bd2df7]
2025-12-17T16:11:11.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b6894e] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.295+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123620341 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:11.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:11:11.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:11:11.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203f2bcf]
2025-12-17T16:11:11.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:11.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=5, companyCode=03SQ05, companyNa (truncated)...]
2025-12-17T16:11:11.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:11.304+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:11:11.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b6894e]
2025-12-17T16:11:11.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:11:11.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd6a9f1] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/companies
2025-12-17T16:11:11.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1755951420 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:11.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:11:11.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:11:11.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:11:11.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:11:11.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:11:11.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:11:11.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ada8291] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:11:11.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd6a9f1]
2025-12-17T16:11:11.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.346+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@382107192 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:11:11.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560d17ae] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:11:11.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147502527 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:11.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 37(Long)
2025-12-17T16:11:11.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:11:11.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:11:11.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ada8291]
2025-12-17T16:11:11.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:11.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:11:11.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=5, companyCode=03SQ05, companyNa (truncated)...]
2025-12-17T16:11:11.383+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560d17ae]
2025-12-17T16:11:11.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:11.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a14caeb] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1679427168 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:11.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:11.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:11.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:11.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a14caeb]
2025-12-17T16:11:11.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:11.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=74, drafterId=38,  (truncated)...]
2025-12-17T16:11:11.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:11.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/74
2025-12-17T16:11:11.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/74
2025-12-17T16:11:11.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/74
2025-12-17T16:11:11.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/74", parameters={}
2025-12-17T16:11:11.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:11:11.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3a6fa0] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@806084069 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:11.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:11:11.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:11:11.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3a6fa0]
2025-12-17T16:11:11.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5234c8cb] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179042882 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:11.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:11:11.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:11:11.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5234c8cb]
2025-12-17T16:11:11.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47b8580f] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@868131491 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:11.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:11:11.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-17T16:11:11.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47b8580f]
2025-12-17T16:11:11.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d88187b] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@150290917 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:11.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:11:11.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 74(Long), 5(Long)
2025-12-17T16:11:11.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:11:11.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d88187b]
2025-12-17T16:11:11.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:11.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c6369a] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:11.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958787609 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:11.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:11.500+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:11.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:11.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c6369a]
2025-12-17T16:11:11.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:11.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=74, drafterId=38,  (truncated)...]
2025-12-17T16:11:11.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:12.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:11:12.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:11:12.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:11:12.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses
2025-12-17T16:11:12.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:11:12.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:11:12.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/pending
2025-12-17T16:11:12.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:11:12.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:11:12.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:11:12.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:11:12.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:11:12.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:11:12.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:11:12.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:11:12.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:11:12.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d07412] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.580+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:11:12.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45492477] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73442a1b] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403598573 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:12.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497559669 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:12.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444407412 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:11:12.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:11:12.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:11:12.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:11:12.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), 5(Long)
2025-12-17T16:11:12.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:11:12.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:11:12.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:11:12.608+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:11:12.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45492477]
2025-12-17T16:11:12.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d07412]
2025-12-17T16:11:12.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:12.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.611+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:11:12.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7393700d] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:12.613+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:11:12.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1022756593 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:12.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73442a1b]
2025-12-17T16:11:12.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:12.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:11:12.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:12.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:12.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:11:12.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/users/pending
2025-12-17T16:11:12.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:12.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:11:12.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:11:12.632+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:11:12.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:11:12.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses/pending-approvals
2025-12-17T16:11:12.644+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:11:12.644+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=37
2025-12-17T16:11:12.645+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:12.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7393700d]
2025-12-17T16:11:12.648+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.648+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d514e10] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.646+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:11:12.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=37", parameters={masked}
2025-12-17T16:11:12.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@355093167 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:12.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:11:12.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:11:12.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260df2b9] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:11:12.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18076190] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1312654181 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:11:12.661+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:11:12.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:11:12.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224300850 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:11:12.664+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 37(Long), 5(Long)
2025-12-17T16:11:12.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d514e10]
2025-12-17T16:11:12.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:11:12.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 5(Long)
2025-12-17T16:11:12.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2762a593] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353997985 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:12.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:11:12.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:11:12.679+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:11:12.681+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18076190]
2025-12-17T16:11:12.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:12.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:11:12.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:11:12.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:11:12.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260df2b9]
2025-12-17T16:11:12.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2762a593]
2025-12-17T16:11:12.685+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:12.685+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:12.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:11:12.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3671e801] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:12.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@76385633 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:12.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:12.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:12.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:12.712+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3671e801]
2025-12-17T16:11:12.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c88a3] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939805027 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:12.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:11:12.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:11:12.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:11:12.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c88a3]
2025-12-17T16:11:12.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52666b33] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.728+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@936028236 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:11:12.728+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:12.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:12.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:12.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52666b33]
2025-12-17T16:11:12.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:12.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:11:12.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:12.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:11:12.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/expenses
2025-12-17T16:11:12.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:11:12.799+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:11:12.801+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:11:12.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.812+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403a7086] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815215602 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:11:12.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:11:12.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:11:12.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:11:12.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403a7086]
2025-12-17T16:11:12.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384b99ae] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@403932435 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:11:12.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:12.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:12.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:12.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384b99ae]
2025-12-17T16:11:12.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9fc1bb4] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1830708684 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:11:12.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:11:12.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:11:12.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:11:12.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9fc1bb4]
2025-12-17T16:11:12.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d98638] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@9502988 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:11:12.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:11:12.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 5(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:11:12.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-17T16:11:12.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d98638]
2025-12-17T16:11:12.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d8eb337] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1480790776 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:11:12.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:12.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:12.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:12.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d8eb337]
2025-12-17T16:11:12.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372ceecc] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1060369429 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:11:12.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:11:12.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 5(Long), 74(Long)
2025-12-17T16:11:12.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:11:12.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372ceecc]
2025-12-17T16:11:12.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:11:12.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38be2db9] was not registered for synchronization because synchronization is not active
2025-12-17T16:11:12.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1756688108 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:11:12.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:11:12.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 37(Long)
2025-12-17T16:11:12.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:11:12.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38be2db9]
2025-12-17T16:11:12.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:12.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:11:12.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:11:59.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:11:59.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 37, role: CEO, companyId: 5, uri: /api/logout
2025-12-17T16:11:59.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:11:59.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:11:59.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:11:59.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzNyIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:11:59.250+09:00  INFO 44840 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=37
2025-12-17T16:11:59.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:11:59.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:11:59.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:09.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=testceo5
2025-12-17T16:12:09.648+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:12:09.648+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=testceo5
2025-12-17T16:12:09.649+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=testceo5", parameters={masked}
2025-12-17T16:12:09.649+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-17T16:12:09.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:09.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a12db63] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:09.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@581970683 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:09.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:12:09.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testceo5(String)
2025-12-17T16:12:09.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:12:09.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a12db63]
2025-12-17T16:12:09.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:09.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-17T16:12:09.661+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:18.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-17T16:12:18.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:12:18.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-17T16:12:18.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-17T16:12:18.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-17T16:12:18.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=testceo5, password=1234, koreanName=testceo5, email=, positi (truncated)...]
2025-12-17T16:12:18.750+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회원가입 시도 - username: testceo5, koreanName: testceo5, role: CEO
2025-12-17T16:12:18.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:18.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b83a5b5] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:18.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@852544918 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:18.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:12:18.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testceo5(String)
2025-12-17T16:12:18.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:12:18.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b83a5b5]
2025-12-17T16:12:18.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:18.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@571d0ecc] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:18.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527050592 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:18.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-17T16:12:18.844+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.backend.mapper.UserMapper.register   : ==> Parameters: testceo5(String), $2a$10$UVADTnPS5udl1XIvvbZsqOIz/hi0sTTFCd6Cfv27.N/P04P7FtdbK(String), testceo5(String), null, 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2025-12-17T16:12:18.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-17T16:12:18.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@571d0ecc]
2025-12-17T16:12:18.856+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회원가입 완료 - username: testceo5, role: CEO
2025-12-17T16:12:18.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:18.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2025-12-17T16:12:18.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:23.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:12:23.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:12:23.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:12:23.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:12:23.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:12:23.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo5, password=1234)]
2025-12-17T16:12:23.218+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo5
2025-12-17T16:12:23.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:23.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eb8a6b7] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:23.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@529847677 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:23.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:12:23.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo5(String)
2025-12-17T16:12:23.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:12:23.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eb8a6b7]
2025-12-17T16:12:23.311+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 39, role: CEO, companyId: null
2025-12-17T16:12:23.311+09:00  INFO 44840 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=39 username=testceo5 role=CEO
2025-12-17T16:12:23.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:23.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=39, username=testceo5, password= (truncated)...]
2025-12-17T16:12:23.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:23.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:23.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:23.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:12:23.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:12:23.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:12:23.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:12:23.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:12:23.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:12:23.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:12:23.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:12:23.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:12:23.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:12:23.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:12:23.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:23.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:12:23.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:12:23.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:12:23.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:23.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:12:23.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:23.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@303cbede] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:23.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:12:23.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:23.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:23.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:23.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:23.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=39", parameters={masked}
2025-12-17T16:12:23.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8ce0147] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:23.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307805108 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:23.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:23.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:23.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:12:23.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:23.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:23.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:23.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc51597] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:23.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669d3fe1] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:23.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@249066314 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:23.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:12:23.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:23.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1304420492 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:23.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 39(Long)
2025-12-17T16:12:23.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@303cbede]
2025-12-17T16:12:23.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:12:23.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993064378 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:23.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:23.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 39(Long)
2025-12-17T16:12:23.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:12:23.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55ae96ff] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:23.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:12:23.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 39(Long), null
2025-12-17T16:12:23.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607245362 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:23.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8ce0147]
2025-12-17T16:12:23.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:12:23.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:23.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:23.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc51597]
2025-12-17T16:12:23.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:12:23.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:23.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:23.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:23.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:12:23.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:12:24.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:24.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55ae96ff]
2025-12-17T16:12:24.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:12:24.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:12:24.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:12:24.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:12:24.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669d3fe1]
2025-12-17T16:12:24.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:12:24.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:12:24.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:12:24.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:24.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:24.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:12:24.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47bae111] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:24.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:12:24.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@998039132 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:24.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:12:24.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:12:24.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:12:24.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 39(Long)
2025-12-17T16:12:24.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:24.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:12:24.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=39", parameters={masked}
2025-12-17T16:12:24.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:12:24.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:12:24.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:12:24.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47bae111]
2025-12-17T16:12:24.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef9cff] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a83eb7d] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392079953 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:24.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1018927392 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:24.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:12:24.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:24.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:12:24.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:24.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 39(Long), null
2025-12-17T16:12:24.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:12:24.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:24.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef9cff]
2025-12-17T16:12:24.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a83eb7d]
2025-12-17T16:12:24.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:12:24.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@342ff754] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1907501743 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:24.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:24.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:24.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:24.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@342ff754]
2025-12-17T16:12:24.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:12:24.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:24.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:24.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:24.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:24.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:24.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:24.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:24.832+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:24.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:24.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:24.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:24.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:24.844+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:24.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:24.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:24.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:24.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:24.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:24.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.863+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.864+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:24.864+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:24.865+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.865+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf8c6a6] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57cd8937] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@801920729 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:24.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f95cdb] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7774601] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:24.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1369219931 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:24.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:24.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:24.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@721221964 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:24.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895191238 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:12:24.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:24.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:24.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:24.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:24.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:24.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:24.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf8c6a6]
2025-12-17T16:12:24.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:24.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:24.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:24.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57cd8937]
2025-12-17T16:12:24.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7774601]
2025-12-17T16:12:24.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:24.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:24.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:24.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:24.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f95cdb]
2025-12-17T16:12:24.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:24.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:24.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:24.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:24.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:24.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:24.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:24.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:24.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:24.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:24.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:24.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:24.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:24.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:24.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:24.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:24.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:24.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:24.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:24.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f1bf4b] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:24.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d14cdb1] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:24.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1e2586] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1546429826 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:24.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962284325 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:24.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:24.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c2e150] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:24.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1346947667 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:24.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:24.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:24.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767908624 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:12:24.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:24.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:24.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:24.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:24.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:24.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:24.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:24.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:24.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:24.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d14cdb1]
2025-12-17T16:12:24.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f1bf4b]
2025-12-17T16:12:24.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1e2586]
2025-12-17T16:12:24.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:24.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:24.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:24.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:24.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:24.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:25.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c2e150]
2025-12-17T16:12:25.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:25.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:25.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:25.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:25.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:25.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:25.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:25.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:25.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:25.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:25.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:25.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:25.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:25.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:25.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:25.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:25.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:25.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:25.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:25.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:25.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:25.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:25.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:25.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:25.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:25.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:25.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1520749f] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:25.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be8d16b] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:25.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:25.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077285397 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:25.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:25.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:25.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1753540613 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:25.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1558a7] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:25.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:25.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354b1f48] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:25.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:25.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828517886 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:25.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315274998 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:25.352+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:25.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:25.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:25.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:25.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be8d16b]
2025-12-17T16:12:25.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:25.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:25.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1520749f]
2025-12-17T16:12:25.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:25.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:25.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:25.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:25.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:25.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:25.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:25.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:25.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1558a7]
2025-12-17T16:12:25.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:25.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354b1f48]
2025-12-17T16:12:25.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:25.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:25.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:25.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:25.383+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:25.383+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:42.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/companies
2025-12-17T16:12:42.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:12:42.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/companies
2025-12-17T16:12:42.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/companies", parameters={}
2025-12-17T16:12:42.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#createCompany(CompanyCreateRequest)
2025-12-17T16:12:42.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CompanyController.CompanyCreateRequest(companyName=테스트)]
2025-12-17T16:12:42.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:42.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:42.447+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.b.controller.CompanyController       : 회사 생성 시도 - companyName: 테스트, userId: 39
2025-12-17T16:12:42.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:42.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373bd03]
2025-12-17T16:12:42.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851734154 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will be managed by Spring
2025-12-17T16:12:42.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.existsByCode  : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE company_code = ?
2025-12-17T16:12:42.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.existsByCode  : ==> Parameters: VI66XF(String)
2025-12-17T16:12:42.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.existsByCode  : <==      Total: 1
2025-12-17T16:12:42.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373bd03]
2025-12-17T16:12:42.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373bd03] from current transaction
2025-12-17T16:12:42.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.backend.mapper.CompanyMapper.insert  : ==>  Preparing: INSERT INTO company_tb (company_code, company_name, created_by, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-12-17T16:12:42.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.backend.mapper.CompanyMapper.insert  : ==> Parameters: VI66XF(String), 테스트(String), 39(Long), true(Boolean), 2025-12-17T16:12:42.460255(LocalDateTime), 2025-12-17T16:12:42.460255(LocalDateTime)
2025-12-17T16:12:42.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.backend.mapper.CompanyMapper.insert  : <==    Updates: 1
2025-12-17T16:12:42.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373bd03]
2025-12-17T16:12:42.468+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.backend.service.CompanyService       : 회사 생성 완료 - companyId: 6, companyName: 테스트, createdBy: 39
2025-12-17T16:12:42.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373bd03]
2025-12-17T16:12:42.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373bd03]
2025-12-17T16:12:42.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373bd03]
2025-12-17T16:12:42.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:42.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e26b78] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:42.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@504018036 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:42.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:12:42.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 39(Long)
2025-12-17T16:12:42.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:12:42.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e26b78]
2025-12-17T16:12:42.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:42.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@540abda6] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:42.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40216052 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:42.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:12:42.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testceo5(String), null, 대표(String), CEO(String), true(Boolean), 6(Long), APPROVED(String), 39(Long)
2025-12-17T16:12:42.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:12:42.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@540abda6]
2025-12-17T16:12:42.506+09:00  INFO 44840 --- [http-nio-8080-exec-2] c.i.b.controller.CompanyController       : 회사 생성 완료 - companyId: 6, companyName: 테스트, userId: 39
2025-12-17T16:12:42.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:42.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=회사가 등록되었습니다., data=CompanyDto(companyId=6, companyCode=VI66XF, com (truncated)...]
2025-12-17T16:12:42.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:43.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:12:43.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:43.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:43.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:43.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:43.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:12:43.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:12:43.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.781+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:43.781+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:12:43.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:43.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:43.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:43.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7153de20] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:12:43.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:43.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:43.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:43.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686951164 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:12:43.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:43.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:43.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1783f89a] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:43.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68865a6a] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1108ec] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.799+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72f58095] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:43.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845494570 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:43.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@522425549 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:43.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7153de20]
2025-12-17T16:12:43.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1702699898 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:43.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:12:43.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:43.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@275644978 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:43.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:43.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 39(Long)
2025-12-17T16:12:43.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:43.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:43.812+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:43.812+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:43.813+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:43.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:12:43.815+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:43.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68865a6a]
2025-12-17T16:12:43.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:43.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:43.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72f58095]
2025-12-17T16:12:43.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:43.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1783f89a]
2025-12-17T16:12:43.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1108ec]
2025-12-17T16:12:43.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:43.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:43.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=6, companyCode=VI66XF, companyNa (truncated)...]
2025-12-17T16:12:43.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:43.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:43.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:43.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:43.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.832+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:43.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:12:43.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:12:43.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:12:43.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:43.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:43.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:43.847+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.847+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:12:43.847+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:43.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714c0e17] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:12:43.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:43.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1546621199 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:43.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:43.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:43.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:43.863+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.863+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:43.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:12:43.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e9b5f7] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.863+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@368d15f6] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.864+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.865+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@82676249 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:43.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:43.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203608119 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:43.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56be43a3] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:43.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714c0e17]
2025-12-17T16:12:43.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:43.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@839580083 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:12:43.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ccb0168] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115008336 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:43.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:43.872+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:43.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:12:43.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:43.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:43.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 39(Long)
2025-12-17T16:12:43.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:43.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e9b5f7]
2025-12-17T16:12:43.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:43.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:43.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:12:43.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@368d15f6]
2025-12-17T16:12:43.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:43.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56be43a3]
2025-12-17T16:12:43.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:43.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:43.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:43.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:43.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ccb0168]
2025-12-17T16:12:43.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=6, companyCode=VI66XF, companyNa (truncated)...]
2025-12-17T16:12:43.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:43.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:43.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:43.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:43.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:43.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:43.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:43.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:43.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421ec55c] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:43.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:43.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@212446378 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:12:43.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:43.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:43.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e4001b] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:43.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:43.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1205060603 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:43.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c56d077] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:43.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:43.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495302400 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:43.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:43.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:43.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:43.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421ec55c]
2025-12-17T16:12:43.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:43.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:43.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:43.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:43.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:43.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:43.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bc1f4ac] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:43.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:43.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e4001b]
2025-12-17T16:12:43.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@521402785 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:43.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:43.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:44.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:44.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:44.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:44.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:44.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:44.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c56d077]
2025-12-17T16:12:44.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:44.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:44.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:44.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:44.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:44.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bc1f4ac]
2025-12-17T16:12:44.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:44.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:44.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:44.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:44.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:44.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:44.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32da1de6] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:44.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@562389702 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:44.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:44.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36072379] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:44.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:44.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:44.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:44.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853405153 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:44.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:44.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:44.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:44.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:44.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:44.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:44.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:44.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32da1de6]
2025-12-17T16:12:44.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:44.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2594841] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:44.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1986724848 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:44.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:44.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:44.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36072379]
2025-12-17T16:12:44.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a00198] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:44.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:44.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@735873151 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:44.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:44.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:44.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:44.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:44.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2594841]
2025-12-17T16:12:44.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a00198]
2025-12-17T16:12:44.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:44.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:44.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:12:44.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:44.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:44.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:44.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:12:44.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:44.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:12:44.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:12:44.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:12:44.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:12:44.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:12:44.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:12:44.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:12:44.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:12:44.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:12:44.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:12:44.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:12:44.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:12:44.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:12:44.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:12:44.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:12:44.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b589b6] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4503c666] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:44.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@547423753 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:44.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e03ecc3] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1627665982 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:12:44.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27584c0e] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:44.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:12:44.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@168028794 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:44.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:12:44.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@934048806 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:44.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:12:44.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:12:44.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:12:44.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:12:44.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:12:44.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:12:44.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:12:44.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:12:44.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:12:44.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e03ecc3]
2025-12-17T16:12:44.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4503c666]
2025-12-17T16:12:44.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b589b6]
2025-12-17T16:12:44.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:12:44.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:12:44.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27584c0e]
2025-12-17T16:12:44.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:12:44.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:12:44.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:44.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:44.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:12:44.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:45.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:12:45.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:45.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:12:45.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:12:45.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:12:45.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:12:45.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:12:45.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:12:45.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:12:45.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:12:45.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:45.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:12:45.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:12:45.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:45.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=39", parameters={masked}
2025-12-17T16:12:45.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791f709c] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:45.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:12:45.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1668108923 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:45.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583fec8c] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:45.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7b0ce9] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:45.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@812722569 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:45.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:12:45.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:45.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606800141 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:45.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 39(Long)
2025-12-17T16:12:45.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791f709c]
2025-12-17T16:12:45.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:12:45.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 39(Long), null
2025-12-17T16:12:45.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5146794] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:12:45.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353990212 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:45.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583fec8c]
2025-12-17T16:12:45.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:45.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45ab1bb9] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:45.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:12:45.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944041651 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:45.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7b0ce9]
2025-12-17T16:12:45.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:12:45.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:45.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 6(Long)
2025-12-17T16:12:45.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:12:45.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:45.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:45.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5146794]
2025-12-17T16:12:45.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:45.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:45.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:12:45.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:12:45.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45ab1bb9]
2025-12-17T16:12:45.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:12:45.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:45.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:45.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:12:45.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:12:45.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:12:45.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=39", parameters={masked}
2025-12-17T16:12:45.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:12:45.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:45.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:12:45.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:12:45.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:12:45.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:12:45.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0cad5a] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:12:45.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@622813065 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:12:45.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:12:45.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:12:45.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:12:45.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c1ffc6] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 39(Long), null
2025-12-17T16:12:45.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:12:45.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:12:45.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:12:45.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628164704 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:45.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:45.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0cad5a]
2025-12-17T16:12:45.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:45.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:12:45.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:45.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:45.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:12:45.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f5dc65e] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:45.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176469228 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:45.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:12:45.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 39(Long)
2025-12-17T16:12:45.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:45.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c1ffc6]
2025-12-17T16:12:45.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:12:45.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bf8baf2] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f5dc65e]
2025-12-17T16:12:45.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894595038 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:12:45.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:45.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:12:45.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b890a53] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:45.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:12:45.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@183980106 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:12:45.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:12:45.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 6(Long)
2025-12-17T16:12:45.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:12:45.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bf8baf2]
2025-12-17T16:12:45.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:45.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:12:45.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:12:45.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b890a53]
2025-12-17T16:12:45.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:45.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:45.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:12:45.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:46.779+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:12:46.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: null, uri: /api/logout
2025-12-17T16:12:46.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:12:46.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:12:46.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:12:46.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzOSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:12:46.809+09:00  INFO 44840 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=39
2025-12-17T16:12:46.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:46.815+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:12:46.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:12:54.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=testuser6
2025-12-17T16:12:54.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:12:54.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=testuser6
2025-12-17T16:12:54.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=testuser6", parameters={masked}
2025-12-17T16:12:54.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-17T16:12:54.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:12:54.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b85f6b] was not registered for synchronization because synchronization is not active
2025-12-17T16:12:54.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@664885927 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:12:54.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:12:54.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testuser6(String)
2025-12-17T16:12:54.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:12:54.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b85f6b]
2025-12-17T16:12:54.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:12:54.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-17T16:12:54.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:03.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=%ED%85%8C%EC%8A%A4%ED%8A%B8
2025-12-17T16:13:03.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:13:03.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=%ED%85%8C%EC%8A%A4%ED%8A%B8
2025-12-17T16:13:03.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=%ED%85%8C%EC%8A%A4%ED%8A%B8", parameters={masked}
2025-12-17T16:13:03.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-17T16:13:03.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:03.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd4e22e] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:03.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@885677099 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:03.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE c.company_name LIKE CONCAT('%', ?, '%') AND c.is_active = 1 GROUP BY c.company_id, c.company_name ORDER BY c.company_name ASC LIMIT 20
2025-12-17T16:13:03.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 테스트(String)
2025-12-17T16:13:03.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-17T16:13:03.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd4e22e]
2025-12-17T16:13:03.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:03.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=6, companyName=테스트,  (truncated)...]
2025-12-17T16:13:03.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:07.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-17T16:13:07.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:13:07.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-17T16:13:07.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-17T16:13:07.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-17T16:13:07.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=testuser6, password=1234, koreanName=testuser6, email=, posi (truncated)...]
2025-12-17T16:13:07.599+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회원가입 시도 - username: testuser6, koreanName: testuser6, role: USER
2025-12-17T16:13:07.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:07.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714cee6] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:07.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915447565 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:07.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:13:07.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testuser6(String)
2025-12-17T16:13:07.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:13:07.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714cee6]
2025-12-17T16:13:07.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:07.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34e13b6d] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:07.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@416665533 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:07.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-17T16:13:07.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : ==> Parameters: testuser6(String), $2a$10$BkMKFETwNj9b5cEn6BREpu8sK2qW1cU/DwpnM7mdv9qCxko13O6c.(String), testuser6(String), null, 사원(String), USER(String), 6(Long), false(Boolean), PENDING(String)
2025-12-17T16:13:07.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-17T16:13:07.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34e13b6d]
2025-12-17T16:13:07.703+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회원가입 완료 - username: testuser6, role: USER
2025-12-17T16:13:07.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:07.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-17T16:13:07.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:15.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:13:15.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:13:15.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:13:15.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:13:15.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:13:15.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo5, password=1234)]
2025-12-17T16:13:15.373+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo5
2025-12-17T16:13:15.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:15.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437624a9] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:15.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855438258 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:13:15.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:13:15.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo5(String)
2025-12-17T16:13:15.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:13:15.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437624a9]
2025-12-17T16:13:15.462+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 39, role: CEO, companyId: 6
2025-12-17T16:13:15.462+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=39 username=testceo5 role=CEO
2025-12-17T16:13:15.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:15.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=39, username=testceo5, password= (truncated)...]
2025-12-17T16:13:15.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:15.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:13:15.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:13:15.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:13:15.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:13:15.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/companies
2025-12-17T16:13:15.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/expenses
2025-12-17T16:13:15.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/expenses/pending-approvals
2025-12-17T16:13:16.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:13:16.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=39", parameters={masked}
2025-12-17T16:13:16.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:13:16.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/users/pending
2025-12-17T16:13:16.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:13:16.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:13:16.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:13:16.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ab192c] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:13:16.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:13:16.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:13:16.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:13:16.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:13:16.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:13:16.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:13:16.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:13:16.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dccbdd0] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:16.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:16.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4772c243] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a9132] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1455357808 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:16.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:13:16.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 39(Long), 6(Long)
2025-12-17T16:13:16.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@570128171 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:13:16.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:13:16.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128359203 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:16.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:13:16.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1594444994 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:16.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:16.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:16.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 39(Long)
2025-12-17T16:13:16.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 6(Long)
2025-12-17T16:13:16.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:16.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-17T16:13:16.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dccbdd0]
2025-12-17T16:13:16.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a9132]
2025-12-17T16:13:16.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:16.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637d94cc] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=40, username=testuser6, password=null, (truncated)...]
2025-12-17T16:13:16.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@456830139 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:16.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:16.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:16.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:16.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:13:16.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ab192c]
2025-12-17T16:13:16.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:16.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:13:16.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:16.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 1
2025-12-17T16:13:16.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4772c243]
2025-12-17T16:13:16.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:16.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=6, companyCode=VI66XF, companyNa (truncated)...]
2025-12-17T16:13:16.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:16.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:13:16.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:13:16.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/users/pending
2025-12-17T16:13:16.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:13:16.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:13:16.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:13:16.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:16.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:16.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/expenses/pending-approvals
2025-12-17T16:13:16.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=39
2025-12-17T16:13:16.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=39", parameters={masked}
2025-12-17T16:13:16.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421de1e2] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:13:16.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@295018592 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:13:16.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:13:16.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 6(Long)
2025-12-17T16:13:16.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4012cfe0] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1641436885 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:16.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:13:16.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 39(Long), 6(Long)
2025-12-17T16:13:16.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:16.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637d94cc]
2025-12-17T16:13:16.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:16.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:13:16.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:16.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:13:16.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/expenses
2025-12-17T16:13:16.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:13:16.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:13:16.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:13:16.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-17T16:13:16.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421de1e2]
2025-12-17T16:13:16.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:16.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:13:16.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=40, username=testuser6, password=null, (truncated)...]
2025-12-17T16:13:16.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4012cfe0]
2025-12-17T16:13:16.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:16.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:13:16.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:16.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d931702] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:16.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993639590 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:13:16.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:16.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:16.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:16.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d931702]
2025-12-17T16:13:16.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:16.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca36071] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:16.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253040154 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:13:16.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:16.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:16.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:16.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca36071]
2025-12-17T16:13:16.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:16.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:13:16.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:20.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/40/approval
2025-12-17T16:13:20.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/users/40/approval
2025-12-17T16:13:20.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/users/40/approval
2025-12-17T16:13:20.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/users/40/approval
2025-12-17T16:13:20.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/users/40/approval", parameters={}
2025-12-17T16:13:20.728+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-17T16:13:20.728+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-17T16:13:20.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:20.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:20.730+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 40, action: APPROVE, operatorId: 39
2025-12-17T16:13:20.731+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:20.731+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22827ff1] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:20.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@689671909 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:20.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:20.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 40(Long)
2025-12-17T16:13:20.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:20.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22827ff1]
2025-12-17T16:13:20.872+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:20.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4812a00d] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:20.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134168186 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:20.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:20.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 39(Long)
2025-12-17T16:13:20.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:20.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4812a00d]
2025-12-17T16:13:20.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:20.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252548f] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:20.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1604165120 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:20.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-17T16:13:20.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: testuser6(String), null, 사원(String), USER(String), true(Boolean), 6(Long), APPROVED(String), 40(Long)
2025-12-17T16:13:20.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-17T16:13:20.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252548f]
2025-12-17T16:13:20.962+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 40
2025-12-17T16:13:20.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:20.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-17T16:13:20.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:20.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:13:20.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/users/pending
2025-12-17T16:13:20.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:13:20.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:13:20.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:13:20.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:20.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:13:20.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:20.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1fb82a] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:20.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1574171783 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:13:20.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:13:20.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 6(Long)
2025-12-17T16:13:21.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:13:21.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1fb82a]
2025-12-17T16:13:21.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:21.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:13:21.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:24.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:13:24.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 39, role: CEO, companyId: 6, uri: /api/logout
2025-12-17T16:13:24.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:13:24.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:13:24.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:13:24.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzOSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:13:24.146+09:00  INFO 44840 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=39
2025-12-17T16:13:24.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:24.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:13:24.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:27.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:13:27.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:13:27.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:13:27.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:13:27.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:13:27.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testuser6, password=1234)]
2025-12-17T16:13:27.475+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: testuser6
2025-12-17T16:13:27.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:27.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3d9d3d] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:27.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1729366591 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:27.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:13:27.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testuser6(String)
2025-12-17T16:13:27.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:13:27.483+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f3d9d3d]
2025-12-17T16:13:27.568+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 40, role: USER, companyId: 6
2025-12-17T16:13:27.568+09:00  INFO 44840 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=40 username=testuser6 role=USER
2025-12-17T16:13:27.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:27.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=40, username=testuser6, password (truncated)...]
2025-12-17T16:13:27.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:27.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=40
2025-12-17T16:13:27.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=40
2025-12-17T16:13:27.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:13:27.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 40, role: USER, companyId: 6, uri: /api/expenses
2025-12-17T16:13:27.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=40
2025-12-17T16:13:27.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:13:27.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 40, role: USER, companyId: 6, uri: /api/expenses/pending-approvals
2025-12-17T16:13:27.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:13:27.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:13:27.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=40
2025-12-17T16:13:27.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=40", parameters={masked}
2025-12-17T16:13:27.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:13:27.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:27.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:27.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59624fd8] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:27.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497bd0ea] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:27.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532708330 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:27.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:27.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:27.947+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224183740 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:13:27.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:13:27.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 40(Long), 6(Long)
2025-12-17T16:13:27.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:27.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497bd0ea]
2025-12-17T16:13:27.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:27.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2108a150] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:27.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:13:27.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@912513307 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:27.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59624fd8]
2025-12-17T16:13:27.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:27.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:27.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:27.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:13:27.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:27.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=40
2025-12-17T16:13:27.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:27.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 40, role: USER, companyId: 6, uri: /api/expenses/pending-approvals
2025-12-17T16:13:27.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2108a150]
2025-12-17T16:13:27.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=40
2025-12-17T16:13:27.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:27.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:13:27.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=40", parameters={masked}
2025-12-17T16:13:27.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:27.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:13:27.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:27.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a7b8007] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:27.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:13:28.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 40, role: USER, companyId: 6, uri: /api/expenses
2025-12-17T16:13:28.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:13:28.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1784593318 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:13:28.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:13:28.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:13:28.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:13:28.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 40(Long), 6(Long)
2025-12-17T16:13:28.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:28.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf731b9] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:28.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:13:28.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728232308 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:28.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a7b8007]
2025-12-17T16:13:28.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:28.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:28.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:28.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:13:28.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:28.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:28.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf731b9]
2025-12-17T16:13:28.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:28.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5145abb] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:28.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013639423 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:28.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:28.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 6(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:28.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:13:28.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5145abb]
2025-12-17T16:13:28.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:28.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:13:28.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:32.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:13:32.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 40, role: USER, companyId: 6, uri: /api/logout
2025-12-17T16:13:32.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:13:32.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:13:32.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:13:32.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI0MCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:13:32.547+09:00  INFO 44840 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=40
2025-12-17T16:13:32.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:32.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:13:32.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:35.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:13:35.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:13:35.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:13:35.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:13:35.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:13:35.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2025-12-17T16:13:35.507+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2025-12-17T16:13:35.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:35.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26cea3e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:35.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1402037304 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:13:35.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:13:35.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ksu14044(String)
2025-12-17T16:13:35.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:13:35.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26cea3e3]
2025-12-17T16:13:35.595+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 14, role: USER, companyId: 1
2025-12-17T16:13:35.595+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=14 username=ksu14044 role=USER
2025-12-17T16:13:35.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:35.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=14, username=ksu14044, password= (truncated)...]
2025-12-17T16:13:35.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:36.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:13:36.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:13:36.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:13:36.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:13:36.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:13:36.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:13:36.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:13:36.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:13:36.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:13:36.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:13:36.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198d9f86] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2f3013] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@436195075 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:36.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1095872801 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:36.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:13:36.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:36.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:13:36.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:36.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:13:36.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198d9f86]
2025-12-17T16:13:36.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:36.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:13:36.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:13:36.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2f3013]
2025-12-17T16:13:36.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:36.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d805245] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@157267353 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:36.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:36.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:13:36.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:13:36.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:13:36.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:13:36.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:36.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:13:36.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d805245]
2025-12-17T16:13:36.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:13:36.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74773274] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198eaf2e] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2070566085 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:36.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:13:36.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:13:36.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1612254978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:13:36.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:13:36.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:13:36.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:13:36.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74773274]
2025-12-17T16:13:36.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1414230e] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:13:36.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497188202 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:36.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198eaf2e]
2025-12-17T16:13:36.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:36.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:36.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:13:36.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:36.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:36.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:13:36.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1414230e]
2025-12-17T16:13:36.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11fe8016] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@617074036 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:36.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:36.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:13:36.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:36.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11fe8016]
2025-12-17T16:13:36.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20faa9d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1164014574 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:36.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:13:36.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:13:36.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:13:36.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20faa9d7]
2025-12-17T16:13:36.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee0d760] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723609978 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:13:36.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:36.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:13:36.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:36.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee0d760]
2025-12-17T16:13:36.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:36.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:13:36.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:36.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:13:36.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:13:36.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:13:36.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:13:36.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:13:36.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c210bf] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@671552946 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:36.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:36.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:36.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:13:36.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c210bf]
2025-12-17T16:13:36.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b11156e] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205903721 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:36.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:36.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:13:36.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:36.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b11156e]
2025-12-17T16:13:36.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437c68eb] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@278249359 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:36.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:13:36.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:13:36.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:13:36.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437c68eb]
2025-12-17T16:13:36.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@511ba2bd] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1904255813 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:36.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:13:36.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:13:36.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 37
2025-12-17T16:13:36.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@511ba2bd]
2025-12-17T16:13:36.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3082b458] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006692031 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:36.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:36.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:13:36.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:36.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3082b458]
2025-12-17T16:13:36.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@244fdf3a] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30052255 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:36.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:13:36.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:13:36.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 43
2025-12-17T16:13:36.315+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@244fdf3a]
2025-12-17T16:13:36.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:36.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59232d6] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:36.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1602128721 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:13:36.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:13:36.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:13:36.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:13:36.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59232d6]
2025-12-17T16:13:36.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:36.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:13:36.349+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:39.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:13:39.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/users/admins
2025-12-17T16:13:39.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:13:39.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:13:39.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:13:39.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:39.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24efe71d] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:39.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1240136857 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:13:39.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:13:39.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-17T16:13:39.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 2
2025-12-17T16:13:39.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24efe71d]
2025-12-17T16:13:39.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:39.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=15, username=ha_exec, password= (truncated)...]
2025-12-17T16:13:39.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:13:39.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:13:39.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/users/admins
2025-12-17T16:13:39.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:13:39.611+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:13:39.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:13:39.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:13:39.613+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f1824d] was not registered for synchronization because synchronization is not active
2025-12-17T16:13:39.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@898893738 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:13:39.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:13:39.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-17T16:13:39.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 2
2025-12-17T16:13:39.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f1824d]
2025-12-17T16:13:39.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:13:39.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=15, username=ha_exec, password= (truncated)...]
2025-12-17T16:13:39.632+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:07.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-17T16:14:07.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/create
2025-12-17T16:14:07.835+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-17T16:14:07.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-17T16:14:07.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-17T16:14:07.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=14, reportDate=2025-12-17, title=12월 회식비, totalAmou (truncated)...]
2025-12-17T16:14:07.842+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 14, currentUserId: 14, title: 12월 회식비, totalAmount: 170000
2025-12-17T16:14:07.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:07.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1481826384 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will be managed by Spring
2025-12-17T16:14:07.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:07.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:07.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:07.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56] from current transaction
2025-12-17T16:14:07.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:14:07.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 14(Long), 2025-12-17(LocalDate), 12월 회식비(String), 170000(Long), WAIT(String), 2025-12-17(LocalDate), false(Boolean), 1(Long)
2025-12-17T16:14:07.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-17T16:14:07.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 2
2025-12-17T16:14:07.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56] from current transaction
2025-12-17T16:14:07.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-17T16:14:07.872+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 75(Long), 식대(String), (String), 120000(Long), 1차(String), 1(Long)
2025-12-17T16:14:07.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-17T16:14:07.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56] from current transaction
2025-12-17T16:14:07.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-17T16:14:07.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 75(Long), 식대(String), (String), 50000(Long), 2차(String), 1(Long)
2025-12-17T16:14:07.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-17T16:14:07.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-17T16:14:07.880+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 75
2025-12-17T16:14:07.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74748a56]
2025-12-17T16:14:07.894+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 75
2025-12-17T16:14:07.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:07.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=75)]
2025-12-17T16:14:07.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:07.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/75/approval-lines
2025-12-17T16:14:07.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/75/approval-lines
2025-12-17T16:14:07.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/75/approval-lines
2025-12-17T16:14:07.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/75/approval-lines
2025-12-17T16:14:07.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/75/approval-lines", parameters={}
2025-12-17T16:14:07.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#setApprovalLines(Long, ApprovalLineRequest)
2025-12-17T16:14:07.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.ApprovalLineRequest(approvalLines=[ApprovalLineDto(approvalLineId=null, expenseRep (truncated)...]
2025-12-17T16:14:07.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:07.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849722965 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will be managed by Spring
2025-12-17T16:14:07.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:07.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:07.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:07.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:07.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:07.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:07.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.selectUsersByRole     : ==>  Preparing: SELECT * FROM user_tb WHERE role = ? AND company_id = ? ORDER BY user_id
2025-12-17T16:14:07.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.selectUsersByRole     : ==> Parameters: ACCOUNTANT(String), 1(Long)
2025-12-17T16:14:07.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.selectUsersByRole     : <==      Total: 1
2025-12-17T16:14:07.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:07.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:14:07.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:07.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:14:07.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 75(Long), 17(Long), 1(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-17T16:14:07.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-17T16:14:07.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:14:07.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 75(Long), 15(Long), 2(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-17T16:14:07.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-17T16:14:07.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da] from current transaction
2025-12-17T16:14:07.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==>  Preparing: INSERT INTO approval_line_tb ( expense_report_id, approver_id, step_order, status, approval_date, signature_data, rejection_reason, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:14:07.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : ==> Parameters: 75(Long), 16(Long), 3(Integer), WAIT(String), null, null, null, 1(Long)
2025-12-17T16:14:07.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.insertApprovalLine             : <==    Updates: 1
2025-12-17T16:14:07.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135115da]
2025-12-17T16:14:07.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:07.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 라인 설정 성공, data=null)]
2025-12-17T16:14:07.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:08.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/75
2025-12-17T16:14:08.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/75
2025-12-17T16:14:08.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:08.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:08.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:08.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:08.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:08.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6fa78] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2143272476 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:08.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:08.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:08.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6fa78]
2025-12-17T16:14:08.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@265dbb8a] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391269278 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:08.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:08.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:08.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@265dbb8a]
2025-12-17T16:14:08.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38bd23a] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220651050 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:08.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:08.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:08.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38bd23a]
2025-12-17T16:14:08.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22be5999] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2138654198 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:08.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:08.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:08.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22be5999]
2025-12-17T16:14:08.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188e6898] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1210882177 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:08.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:08.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:08.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:08.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188e6898]
2025-12-17T16:14:08.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:08.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:08.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:08.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:08.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:08.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:08.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:08.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:08.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af90b0a] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1787595637 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:08.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:08.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:08.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af90b0a]
2025-12-17T16:14:08.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386a6eca] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@94292045 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:08.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:08.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:08.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386a6eca]
2025-12-17T16:14:08.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d868571] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1987163189 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:08.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:08.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:08.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d868571]
2025-12-17T16:14:08.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eff544] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354733122 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:08.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:08.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:08.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:08.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eff544]
2025-12-17T16:14:08.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:08.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c3da8e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:08.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1791577767 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:08.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:08.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:08.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:09.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c3da8e]
2025-12-17T16:14:09.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:09.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:09.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:19.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:19.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:14:19.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:14:19.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:19.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:19.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:19.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:19.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:14:19.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9778f2] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:14:19.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:19.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6464957a] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1483525051 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:19.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:19.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@382016026 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:19.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:19.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:14:19.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:19.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9778f2]
2025-12-17T16:14:19.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1deab8ce] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1360121923 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:19.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:19.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:14:19.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:19.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6464957a]
2025-12-17T16:14:19.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1deab8ce]
2025-12-17T16:14:19.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:19.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:14:19.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44940542] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:19.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208726486 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:19.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:14:19.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:19.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:19.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:14:19.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:14:19.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:19.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f31ae7c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:19.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44940542]
2025-12-17T16:14:19.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfcc1cd] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@799433701 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272199350 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:19.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:19.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:19.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:19.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:14:19.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:14:19.346+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f31ae7c]
2025-12-17T16:14:19.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:19.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:14:19.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:19.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfcc1cd]
2025-12-17T16:14:19.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:19.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12079ce4] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062786496 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:19.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:19.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:19.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12079ce4]
2025-12-17T16:14:19.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5eca95] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@823166246 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:19.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:19.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:19.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5eca95]
2025-12-17T16:14:19.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22cc89f] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1800384557 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:19.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:19.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:19.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22cc89f]
2025-12-17T16:14:19.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:19.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:19.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:19.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:19.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:14:19.394+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:19.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:19.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:19.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.397+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a1e3ed] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660039720 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:19.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:19.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:19.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a1e3ed]
2025-12-17T16:14:19.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d8fd097] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1104015936 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:19.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:19.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:19.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d8fd097]
2025-12-17T16:14:19.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76264912] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.429+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904803369 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:19.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:19.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:19.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76264912]
2025-12-17T16:14:19.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78187420] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1018350824 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:19.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:19.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:19.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78187420]
2025-12-17T16:14:19.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f383eb5] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607842310 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:19.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:19.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:19.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f383eb5]
2025-12-17T16:14:19.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390ae4a6] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1729734820 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:19.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:19.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:19.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390ae4a6]
2025-12-17T16:14:19.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:19.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3759636b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:19.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503170290 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:19.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:19.563+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:14:19.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:19.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3759636b]
2025-12-17T16:14:19.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:19.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:19.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:20.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:14:20.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/logout
2025-12-17T16:14:20.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:14:20.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:14:20.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:14:20.295+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:14:20.297+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=14
2025-12-17T16:14:20.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:20.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:14:20.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:25.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:14:25.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:14:25.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:14:25.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:14:25.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:14:25.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ha_exec, password=1234)]
2025-12-17T16:14:25.595+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: ha_exec
2025-12-17T16:14:25.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:25.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce8f7c2] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:25.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@94065115 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:25.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:14:25.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ha_exec(String)
2025-12-17T16:14:25.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:14:25.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce8f7c2]
2025-12-17T16:14:25.687+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 15, role: ADMIN, companyId: 1
2025-12-17T16:14:25.687+09:00  INFO 44840 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=15 username=ha_exec role=ADMIN
2025-12-17T16:14:25.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:25.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=15, username=ha_exec, password=n (truncated)...]
2025-12-17T16:14:25.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:26.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:14:26.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:26.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:26.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:26.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:26.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-17T16:14:26.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:14:26.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:14:26.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:26.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:26.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:14:26.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:26.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:26.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:14:26.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:14:26.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:26.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:26.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:26.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54899dc] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:26.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:26.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:26.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:26.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:26.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@615beada] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:26.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4506d367] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@627441210 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:26.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e3f55ac] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:26.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@881327174 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:26.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@381841571 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:14:26.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:26.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:14:26.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1037123848 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:26.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:26.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 15(Long)
2025-12-17T16:14:26.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:26.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:26.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:14:26.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:14:26.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54899dc]
2025-12-17T16:14:26.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:26.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@615beada]
2025-12-17T16:14:26.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4506d367]
2025-12-17T16:14:26.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:26.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e31b03d] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b4142ab] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:26.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:26.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e3f55ac]
2025-12-17T16:14:26.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510087506 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:26.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134523256 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:26.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:26.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:26.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:26.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:26.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:26.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b4142ab]
2025-12-17T16:14:26.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e31b03d]
2025-12-17T16:14:26.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:26.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:26.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621f1527] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d24db0d] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:26.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1400526805 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:26.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@785858252 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:26.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:26.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:26.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:26.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:26.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:26.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long)
2025-12-17T16:14:26.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:26.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f61a26f] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-17T16:14:26.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:26.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2053165550 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:26.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d24db0d]
2025-12-17T16:14:26.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621f1527]
2025-12-17T16:14:26.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:26.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:26.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51bc32db] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.413+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd951b9] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@436959058 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:26.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938856200 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:26.415+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:26.414+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:26.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:26.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f61a26f]
2025-12-17T16:14:26.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:26.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:26.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51bc32db]
2025-12-17T16:14:26.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:26.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:26.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dd951b9]
2025-12-17T16:14:26.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:26.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=75, drafterId= (truncated)...]
2025-12-17T16:14:26.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:26.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ea61bc] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123314305 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:26.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:26.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:26.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:26.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:14:26.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:26.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ea61bc]
2025-12-17T16:14:26.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fda05ea] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3335de06] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.448+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470705708 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:26.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:26.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:26.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1279489841 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:26.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:26.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:26.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fda05ea]
2025-12-17T16:14:26.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:14:26.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b01a70] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1522183801 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:26.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:14:26.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3335de06]
2025-12-17T16:14:26.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea1fe40] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605254502 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:26.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b01a70]
2025-12-17T16:14:26.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:26.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:26.466+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:26.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:26.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea1fe40]
2025-12-17T16:14:26.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:14:26.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6519ace3] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.491+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:26.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417350654 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:26.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:26.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long)
2025-12-17T16:14:26.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:26.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:26.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-17T16:14:26.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6519ace3]
2025-12-17T16:14:26.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be91d36] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b1802de] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@258296036 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1137628650 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:26.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:26.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:26.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:26.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b1802de]
2025-12-17T16:14:26.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be91d36]
2025-12-17T16:14:26.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:26.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=75, drafterId= (truncated)...]
2025-12-17T16:14:26.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb71894] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:26.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2106900185 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.529+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb71894]
2025-12-17T16:14:26.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba205bf] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295502311 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.544+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:26.545+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:26.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:26.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba205bf]
2025-12-17T16:14:26.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5206cb7b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1773319033 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:26.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:26.563+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:26.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5206cb7b]
2025-12-17T16:14:26.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61682a56] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@89221139 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61682a56]
2025-12-17T16:14:26.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a545b2d] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172945067 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:26.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:26.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:26.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a545b2d]
2025-12-17T16:14:26.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:26.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c58adc2] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:26.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1423771735 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:26.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:26.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:26.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:26.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c58adc2]
2025-12-17T16:14:26.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:26.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:26.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:30.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:30.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:30.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:30.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:30.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:30.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:30.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d8bdd7] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:30.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@9714412 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:30.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:30.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:30.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:30.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d8bdd7]
2025-12-17T16:14:30.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:30.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2566c1c6] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:30.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@250502910 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:30.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:30.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:30.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:30.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2566c1c6]
2025-12-17T16:14:30.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:30.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@94f84ec] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:30.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@448011506 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:30.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:30.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:30.985+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:30.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@94f84ec]
2025-12-17T16:14:30.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:30.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ea2d21] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:30.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1781965086 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:30.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:30.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:30.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:30.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ea2d21]
2025-12-17T16:14:30.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:30.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326fc7c8] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:30.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176004481 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:30.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:30.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:30.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:30.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326fc7c8]
2025-12-17T16:14:30.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:30.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:30.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:31.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:31.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:31.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:31.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:31.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:31.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:31.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b7be97] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:31.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219085187 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:31.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:31.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:31.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:31.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b7be97]
2025-12-17T16:14:31.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:31.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60535ee4] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:31.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@438010009 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:31.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:31.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:31.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:31.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60535ee4]
2025-12-17T16:14:31.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:31.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d156294] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:31.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@130787244 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:31.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:31.030+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:31.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:31.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d156294]
2025-12-17T16:14:31.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:31.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cc92e7e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:31.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788799665 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:31.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:31.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:31.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:31.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cc92e7e]
2025-12-17T16:14:31.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:31.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667216db] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:31.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@331185845 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:31.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:31.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:31.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:31.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667216db]
2025-12-17T16:14:31.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:31.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:31.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:34.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/75/approve
2025-12-17T16:14:34.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/75/approve
2025-12-17T16:14:34.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/75/approve
2025-12-17T16:14:34.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/75/approve
2025-12-17T16:14:34.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/75/approve", parameters={}
2025-12-17T16:14:34.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-17T16:14:34.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=15, stepOrder=null, status=nul (truncated)...]
2025-12-17T16:14:34.323+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 75, approverId: 15
2025-12-17T16:14:34.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:34.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0]
2025-12-17T16:14:34.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1843099364 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will be managed by Spring
2025-12-17T16:14:34.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:34.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:34.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:34.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0]
2025-12-17T16:14:34.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0] from current transaction
2025-12-17T16:14:34.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-17T16:14:34.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAQAElEQVR4AeydrW8VTRuHN08eCIIEHCEIMASJxIEBg0AQBCFQxT8AWKowkOBAVhWHQFRSTKkiKIIhaQglGCAhAQIJKeJ9+Z1yn2e6Pafdszu783W9ebc7Z3Z25p7rLteZZ85H/9nY2PgfBwz4HeB3gN+B+H4H/qn4HwQgAAEIREkAQUeZFoKCAAR2JVBAAwRdQJKZIgQgkCYBBJ1m3ogaAhAogACCLiDJTLFEAsw5BwIIOocsMgcIQCBLAgg6y7QyKQhAIAcCCDqHLDKHWQnQHgJJEEDQSaSJICEAgRIJIOgSs86cIQCBJAgg6CTSNGyQjAYBCMRBAEHHkQeigAAEILCNAILehoQKCEAAAnEQQNCz5oH2EIAABAYigKAHAs0wEIAABGYlgKBnJUZ7CEAAAgMR8CzogaJmGAhAAAIFEEDQBSSZKUIAAmkSQNBp5o2oIQABzwRi7A5Bx5gVYoIABCDwhwCC/gOB/0MAAhCIkQCCjjErxASB2AgQTxACCDoIdgaFAAQgsDsBBL07I1pAAAIQCEIAQQfBzqB5EWA2EOiHAILuhyu9QgACEOhMAEF3RkgHEIAABPohgKD74Uqv/xGgBAEItCSAoFuC4zYIQAACfRNA0H0Tpn8IQAACLQkg6JbgfN1GPxCAAASmEUDQ08hQDwEIQCAwAQQdOAEMDwEIQGAagbgFPS1q6iEAAQgUQABBF5BkpggBCKRJAEGnmTeihgAE4ibgJToE7QUjnUAAAhDwTwBB+2dKjxCAAAS8EEDQXjDSCQQgMAsB2jYjgKCbcaIVBCAAgcEJIOjBkTMgBCAAgWYEEHQzTrSCwHAEGAkCfwkg6L8gOEEAAhCIjQCCji0jxAMBCEDgLwEE/RcEp1QIECcEyiGAoMvJNTOFAAQSI4CgE0sY4UIAAuUQQNB55ZrZQAACGRFA0Bklk6lAAAJ5EUDQeeWT2UAAAhkRKErQGeWNqUAAAgUQQNAFJJkpQgACaRJA0GnmjaghAIECCPwn6AImyxQhAAEIpEQAQaeULWKFAASKIoCgi0o3k4VAlgSynRSCzja1TAwCEEidAIJOPYMe4n///n21d+/e6vjx49XKyoqHHukCAhDwQQBB+6CYeB8mZYlaR+LTIfwaAR6mSwBBp5s7b5GfOXOmmpubq3TW4a1jOoIABDoRQNCd8OVx89GjR6uFhYVqeXm5UjmPWTELCKRPAEGnn0Nm0IUA90IgYgIIOuLkEBoEIFA2AQRddv6ZPQQgEDEBBB1xcsKHRgQQgEBIAgg6JH3GhgAEILADAQS9AxwuxU+A923HnyMibE8AQbdnx50BCUjM+uTj9evXK5UDhsLQEOiNAILuDS0d90lAn36UmHXW0edY9A2BUAQQdCjyjNuJgOTcqQNuhkACBHoTdAJzJ8SECZw+fTrh6AkdAs0IIOhmnGgVGQFW0JElhHB6IYCge8FKp0MSQNZD0i5hrHjmiKDjyQWRzEAAKc8Ai6bJEkDQyaaOwCEAgdwJIOjcM8z8IOCXAL0NSABBDwibofwRcLc43LK/EegJAuEJIOjwOUgmAolQHwpZXFxMJmYChUDKBBB0ytkbIHZJWUI+d+7c6I/K6qyPVx8+fDjoH5hVXDZ9t2x1oc6MCwGfBBC0T5oZ9fX48eNKMrbvu9DK2Z3ely9fqmvXrrlVlCEAAc8EELRnoCl3p5XonTt3qr1791ZXr17ddYX848ePYNN98+bNeGy3PK6kAIEMCCDoDJLYdQoSs7YttFqWoJv2d/HixaZNN9t5+ql4P336NO5NZdWNKyhAIBMCCDqTRM46DQlNMtZqWWLWPvNOfRw9erS6cOHCliahvg9jfX19Sxx6MKlO9RwQSJkAgk45ezPGXpeyBD2pC8n41KlT1ZkzZ6r5+flqbW1tdCwtLW1pPjc3t+XxUA+OHTu2bahJddsaUQGBxAgg6GgS1l8gErOtlCdJWUKWiBcWFkYilpBXV1er5eXlkaB1XS8YuhGGkrMbA2UI5E4AQeee4T/zq78D409VJelKypKxDpUlXdXrunto+6Peh9q7bYYsT9rOmFQ3ZEyMBYE+CCDoPqhG1qe2KiRfnSXWjY2N0UpZ5UlCdsPX6lsvILp1Wlnvdp/bnjIEINCOQCqCbjc77hoRkEy1fSGxSsqjyoY/6nI20Te8vZdm7Df3gpVOIySAoCNMSiwhad/Z3dow0ccSH3FAIHcCCDr3DLec36R9Z63CW3bn9bZJ+82sqr0ipjOfBDr0haA7wMv11kn7ztoa0R52DHNGxjFkgRiGIICgh6Cc2Bj6mLcbssQsQbt1lCEAgf4JIOj+GSc1gvacX7x4MY7533//rW7fvj1+HENBe+H1OCbV1dvwOEYCxLQTAQS9E50Cr+mFQXfaV65cGX2i0K2LrYycY8sI8fgigKB9kcygn7qcNaVYXhhULO7hSll75u41yhDIhQCCziWTHeehrQ0dbjd637T7OKay+0Kh9shjis1jLHRVOAEEXfgvgE2/vnqW9HTYdc4QgMDwBBD08MyjG7H+aUFtH8S8eo4OIAFBoCcCCLonsKl0q/1bfSjFjTfWfWc3Rn0XtT12y1bHGQI5EEDQOWSxwxzq73nWyjm1rQ2t+Dsg4FYIREsAQUebmv4D04uC7nue9WGUVOTsrpoRdP+/K4wQhgCCDsO9/1EbjODuPZ88eXL05fwNbouuyZ49e6KLiYAg4IMAgvZBMcE+9JdVtP9sod+/f7/Silp/n1Dv6HCvWZtYz79//441NOKCQCcCCLoTvjRvloglaIvetjYePXpUScz169YuprP7Pmi3HFOMxAKBrgQKFXRXbOneLwG7Wxvac5agNSPt69p+rt7Z4Upc1zkgAIFhCSDoYXkHH01ylqQtEPctdfprKTrsmgTttrX6GM7ud0K75RhimxSD/qtET3o6VNYhtnboHivrmnuo3q7rzFEOAQRdTq5He8z6h29TlpxtxWx1Wk1rVW2PJWkrx3Q2acUQk2KReMVK+/fax9ehv6Ruh+r15KhDZR1qY4faWVnX3EP1dl1nXdNYbi5j4EAM/glMErT/UegxCgKSgwUiCburZavX2RW3xCMBqT6mQ/FbPEPsQYuBe0iQ4ilhSqAqq07StHYWn++zxtBYErXG8t0//cVDAEHHk4teI5FA3H/MkvC0AbWqduWte6e1zbVerEyCJmGJ2A5d05PXbvPft29fJZ56QrFDbK185MiR0XW1qR/W5tSpU9XBgwcnDiVZT7xAZRYEEHQWadx5EpKNKxN9WlAy2OkuScTaSALqY6f2uVzTXLUylYglYT1uOjfxEjdtE4nxxsZG9f3792ptba3SYzv05Gjld+/eja6rTf2wNqurq9Xnz58r9ac69W9jabym8RXRLrNJIujMEjppOhKN1esftFZm9nja2QRg12/dumXFbM96EpOcm0j50KFDo5WvZCnhmlxVVl0Txm1Aql/1r/E0Vps+uCcdAgg6nVy1jlTisZtn+Uctmdt9S0tLo/dI2+PQ5yYSnSVGPYnttpWjJy3J8e7du9WHDx9GK189Fiddm2U82kKgCQEE3YRSwm1c6cwiZ01Z0tGKTWUdZ8+ejUrSikmH4tS57aFVswQ96X71LQlra0GrVpVv3rw5qWkCdYSYGgEEnVrGZohX+8Za+dotWulZuen52rVr46bqz12Njy8ELiiutiHoCcxdjetFOz0pScTa8zUpq67tGNwHgbYEEHRbcgncJ5l+/fp1FOm9e/dG51l/SOpaRdp9Wml2EaL10/XsxtSmL81B784QI7tfUtaLdlotq2z1nCEQigCCDkV+gHElUw0jmd24cUPFVock7d7oSs2tH7Iswdp4mp+Vm57dVbPuX1hYSPbb/JrOmXbpEUDQ6eWsUcSuROuCbdSB00irSUnMqty+rS61s7YsxEXnZ8+eVSqnNgfizZ8Ags40x+4KU1+C1HWaEpn1ob512OMUz3rC0Yum2s5QOcU5EHP+BBB0pjn2LdC65HNYRWeaeqaVEQEEnVEy3am8fft2/PDp06fjcttCfZXp+wnAV1xt++E+CMRIAEHHmBUPMemTbtaNvg/Cym3P7hZH2z64DwIQmI0Agp6N1+TWEdaeP39+HNXz58/H5S4FdxXtvguiS5/cCwEITCeAoKezSfpKXaY+tiR+/vw5ZvLt27dxOUTBnV+I8RkTAkMQQNBDUA4whrYkXIn5eFFv//79AWbCkBAol8AAgi4XbuiZu+/t1YdWLl261Ckk950cJ0+e7NQXN0MAArsTQNC7M0q2Rf0DJvpeDn33hI8JuatzH/3RBwQgsJ0Agt7OJKsaSdp9F4e2OvRl9F1f5Ast6CH+zFVWvwhMphWB0Dch6NAZ6Hl8bXM8fPhwyyh6wVBfsSlR64v4m8q6abstg/X8QHPpeQi6h0AwAgg6GPrhBpak9bHm+oiS24MHDyqTtfap623ssdrqsMfq08ohzraC14uhIcZnTAgMQQBBD0E5gjEkVH3vxDShSb4StFbVOrsh65q+rN/qJEcd9jjUWR/G+fjxY6jhGRcCvRNA0L0jjmcAyVmS1pfQa0U96Z0YkrEELVHrBcXLly9XKqveZqJ7rRzyrL31X79+hQyBsSHQKwEE3SveODvX6lcr6pcvX47+rp6EK3m70UrIekHxyZMnbnUlwdfbbmkw4AO9UKg4BxySoSAwKAEEPSju+AYzWUu8WllPk++JEyeikrNIKnad4zyICgLdCSDo7gyz6UHCM1FrVa1Vtt6mp/Lr16+rafIOBUDvKlHMocZnXAj0TQBB9004wf4lPclZYpagVY51GmxxxJoZ4vJBAEH7oEgfsxLw0l570OoISYsCR44EEHSOWS1sTuvr64XNmOmWQgBBl5LpDOdpX97ECjrD5DKlEQEEPcIQ1w+igQAEICACCFoUOJIkoBczkwycoCHQkACCbgiKZvES8PUnveKdIZGVSiA9QZeaKea9jQAr6G1IqMiMAILOLKElTYe32ZWU7TLniqDLzHsWs7YVNG+zyyKdJUxi5jki6JmRcUNsBHibXWwZIR5fBBC0L5L0E4SAraKDDM6gEOiZAILuGTDd90uAfeh++Q7ZO2NtJ4CgtzOhJiECtoJmHzqhpBFqYwIIujEqGsZIwAQdY2zEBIGuBBB0V4LcH5SACTr7FwqDUmbwUAQQdCjyjOuVAIL2ipPOIiGAoCNJBGFAAAIQqBNA0HUiPE6KwOaf4aoqvo8jqbQRbEMCCLohKJrFScD2oOOMjqgg0I0Agu7Gj7sjIHDo0KHqwIEDEURCCBDwSwBB++UZY2/Zx7Rv377q1atX2c+TCZZHAEGXl/PsZqxPE+pdHDqymxwTKpoAgi46/XlMXvvQduQxI2YBgU0CxQt6EwM/UyawsrJSsXpOOYPEPo0Agp5GhvpkCGiLQ8EiaVHgyIkAgs4pm4XOxbY3dC4UAdPOlMDOgs500kwrLwLa4shrRswGApsEEPQmB34mBlaafAAAAfRJREFUToDtjcQTSPgTCSDoiVioTImA5Mz2RkoZGyTWLAZB0FmkkUlI0lCAQG4EEHRuGWU+EIBANgQQdDapZCKsopv/DtAyDQIIOo08EeUOBGz/eXFxcYdWXIJAegQQdHo5I+Iagbm5uVEN3wk9wsCPjAgg6IySWepU5ufnq4WFhdHhhQGdQCASAgg6kkQQRjcCWkXbVke3nrgbAvEQQNDx5IJIIAABCGwhgKC34ODB7gRoAQEIDEUAQQ9FmnEgAAEIzEgAQc8IjOYQgAAEhiKAoP2SpjcIQAAC3gggaG8o6QgCEICAXwII2i9PeoMABCDgjcCggvYWNR1BAAIQKIAAgi4gyUwRAhBIkwCCTjNvRA0BCAxKIMxgCDoMd0aFAAQgsCsBBL0rIhpAAAIQCEMAQYfhzqgQyIkAc+mJAILuCSzdQgACEOhKAEF3Jcj9EIAABHoigKB7Aku3EDACnCHQlgCCbkuO+yAAAQj0TABB9wyY7iEAAQi0JYCg25LjPj8E6AUCEJhKAEFPRcMFCEAAAmEJIOiw/BkdAhCAwFQCCHoqmhguEAMEIFAyAQRdcvaZOwQgEDUBBB11eggOAhAomUDKgi45b8wdAhAogACCLiDJTBECEEiTAIJOM29EDQEIpEygYewIuiEomkEAAhAYmsD/AQAA//9h+ZHWAAAABklEQVQDAHvfiWArenykAAAAAElFTkSuQmCC(String), 75(Long), 15(Long), 1(Long)
2025-12-17T16:14:34.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-17T16:14:34.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0]
2025-12-17T16:14:34.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0] from current transaction
2025-12-17T16:14:34.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:34.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:34.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:34.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0]
2025-12-17T16:14:34.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0]
2025-12-17T16:14:34.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0]
2025-12-17T16:14:34.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9ebe0]
2025-12-17T16:14:34.374+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 75
2025-12-17T16:14:34.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:34.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-17T16:14:34.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:35.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:35.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:14:35.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-17T16:14:35.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:14:35.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:35.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:35.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:35.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:14:35.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:35.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:14:35.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:35.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:35.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450360] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a16970b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@72709563 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:35.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532477617 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:35.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:14:35.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:35.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 15(Long)
2025-12-17T16:14:35.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:14:35.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a16970b]
2025-12-17T16:14:35.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:35.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:35.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450360]
2025-12-17T16:14:35.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:35.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:35.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee3b468] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473613117 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:35.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:35.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:14:35.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-17T16:14:35.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:14:35.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:14:35.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:35.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:14:35.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee3b468]
2025-12-17T16:14:35.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4656c70c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904231770 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:35.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:35.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:35.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:35.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f189e9] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:35.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865798526 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:35.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4656c70c]
2025-12-17T16:14:35.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:14:35.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 15(Long)
2025-12-17T16:14:35.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460e29d2] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915470520 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:35.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:35.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:14:35.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:35.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f189e9]
2025-12-17T16:14:35.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460e29d2]
2025-12-17T16:14:35.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:35.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:35.529+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736dbc67] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.529+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:35.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150962529 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:35.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:35.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:35.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:35.545+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736dbc67]
2025-12-17T16:14:35.546+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:35.547+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:35.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:35.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:35.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:35.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:35.580+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:35.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:35.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fedb78d] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99476944 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:35.614+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:35.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:35.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fedb78d]
2025-12-17T16:14:35.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2615d117] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991391684 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:35.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:35.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:35.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2615d117]
2025-12-17T16:14:35.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55710a] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1119915070 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:35.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:35.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:35.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a55710a]
2025-12-17T16:14:35.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650dca1e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@70335124 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:35.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:35.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:35.676+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:35.676+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650dca1e]
2025-12-17T16:14:35.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:35.678+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fa8088] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:35.678+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@866971827 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:35.678+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:35.679+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:35.681+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:35.681+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fa8088]
2025-12-17T16:14:35.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:35.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:35.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:36.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:36.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:36.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:36.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:14:36.474+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:36.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:36.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:36.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:36.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:36.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:36.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:14:36.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:36.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:36.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:36.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:36.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:36.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c65aff] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.646+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b6ade5] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:36.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ca70b7] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@3803736 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:36.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@536274069 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:36.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699877336 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:36.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:36.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:36.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:36.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:14:36.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:36.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:36.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:14:36.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b6ade5]
2025-12-17T16:14:36.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e3ba5c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@278850718 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:36.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:36.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:36.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ca70b7]
2025-12-17T16:14:36.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:36.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:36.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:36.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:36.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:36.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c65aff]
2025-12-17T16:14:36.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:36.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e3ba5c]
2025-12-17T16:14:36.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52afbd70] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397505510 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:36.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ea0ab2] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:36.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@446918121 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:36.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:36.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:36.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:36.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:14:36.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:36.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:36.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:36.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:14:36.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:36.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:36.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ea0ab2]
2025-12-17T16:14:36.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0ae523] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52afbd70]
2025-12-17T16:14:36.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:36.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1032311274 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:36.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f44e844] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:36.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:36.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1613727969 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:36.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:36.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:36.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:36.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341e86f7] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:36.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:36.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:36.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@29029090 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:36.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0ae523]
2025-12-17T16:14:36.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:36.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:36.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:14:36.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:36.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:37.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:37.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f44e844]
2025-12-17T16:14:37.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d70131] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1262078919 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:37.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:37.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:37.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:37.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:37.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:37.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341e86f7]
2025-12-17T16:14:37.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:14:37.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:37.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:14:37.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:37.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:37.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:37.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:37.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d70131]
2025-12-17T16:14:37.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30229e2c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74809c75] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203408286 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:37.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1875236189 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:37.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:37.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:37.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:14:37.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:37.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:37.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:14:37.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74809c75]
2025-12-17T16:14:37.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30229e2c]
2025-12-17T16:14:37.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54826836] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@615b1eab] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605107687 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:37.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:37.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:37.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160523602 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:37.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:37.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:37.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:37.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54826836]
2025-12-17T16:14:37.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ac68f7] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915250092 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:37.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:37.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:37.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:37.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@615b1eab]
2025-12-17T16:14:37.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8300c8] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1997861365 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:37.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:37.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:14:37.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:37.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ac68f7]
2025-12-17T16:14:37.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:37.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:37.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:37.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:14:37.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8300c8]
2025-12-17T16:14:37.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5ebc0b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510828040 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:37.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:37.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:37.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:37.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:14:37.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:37.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:37.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:37.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:37.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5ebc0b]
2025-12-17T16:14:37.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:37.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:14:37.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:37.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2135a962] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705877050 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:37.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:37.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:37.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:37.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2135a962]
2025-12-17T16:14:37.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@782e74b0] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1952230510 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:37.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:37.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:37.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:37.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@782e74b0]
2025-12-17T16:14:37.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44341e28] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1328839146 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:37.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:37.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:37.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:37.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44341e28]
2025-12-17T16:14:37.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb7387b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1779872475 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:37.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:37.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:37.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:37.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb7387b]
2025-12-17T16:14:37.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c0c9947] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995040349 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:37.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:37.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:37.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:37.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c0c9947]
2025-12-17T16:14:37.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6976bbe0] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@22593832 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:37.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:37.352+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:37.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:37.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6976bbe0]
2025-12-17T16:14:37.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:37.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c9d5a0] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:37.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2101138370 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:37.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:37.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:14:37.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:37.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c9d5a0]
2025-12-17T16:14:37.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:37.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:37.408+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:37.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:14:37.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-17T16:14:37.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:14:37.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:14:38.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:14:38.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:14:38.011+09:00  INFO 44840 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=15
2025-12-17T16:14:38.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:38.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:14:38.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:40.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:14:40.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:14:40.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:14:40.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:14:40.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:14:40.346+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=son_ceo, password=1234)]
2025-12-17T16:14:40.347+09:00  INFO 44840 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: son_ceo
2025-12-17T16:14:40.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:40.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24fc235b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:40.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@4491885 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:40.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:14:40.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: son_ceo(String)
2025-12-17T16:14:40.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:14:40.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24fc235b]
2025-12-17T16:14:40.439+09:00  INFO 44840 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 16, role: CEO, companyId: 1
2025-12-17T16:14:40.439+09:00  INFO 44840 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=16 username=son_ceo role=CEO
2025-12-17T16:14:40.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:40.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=16, username=son_ceo, password=n (truncated)...]
2025-12-17T16:14:40.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:40.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:14:40.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/companies
2025-12-17T16:14:40.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:14:40.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:14:40.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:14:40.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:40.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:40.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:40.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:40.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:40.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:40.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses
2025-12-17T16:14:40.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:40.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:40.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:40.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:40.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e7f6ce7] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:40.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:40.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:40.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:40.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:40.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272979209 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:40.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:41.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:41.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:14:41.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:41.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:41.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35bcb750] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 16(Long)
2025-12-17T16:14:41.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:41.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=16", parameters={masked}
2025-12-17T16:14:41.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:41.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d8bd82] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858927610 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:14:41.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41022faa] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:41.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e7f6ce7]
2025-12-17T16:14:41.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:41.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1313504598 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:41.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:41.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646647523 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:41.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:41.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:41.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:41.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:41.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:14:41.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:41.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:41.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35bcb750]
2025-12-17T16:14:41.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:41.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 3
2025-12-17T16:14:41.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d8bd82]
2025-12-17T16:14:41.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41022faa]
2025-12-17T16:14:41.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53417e2f] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:41.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@94993865 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:41.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77de25da] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:41.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@409671144 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:41.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:41.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:41.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53417e2f]
2025-12-17T16:14:41.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:41.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:41.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e4251e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77de25da]
2025-12-17T16:14:41.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:41.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829541259 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:41.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b92705] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:41.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:41.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322199869 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:41.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:41.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:41.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69742791] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 65(Long)
2025-12-17T16:14:41.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@280191056 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:41.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:41.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:41.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e4251e]
2025-12-17T16:14:41.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:41.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350ddd36] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 4
2025-12-17T16:14:41.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@567657052 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b92705]
2025-12-17T16:14:41.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:41.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ebc7fc] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:41.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:41.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@652954891 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:41.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69742791]
2025-12-17T16:14:41.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:41.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:41.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:41.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@350ddd36]
2025-12-17T16:14:41.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:41.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2423a7a3] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2140940924 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ebc7fc]
2025-12-17T16:14:41.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:41.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=75, drafterId= (truncated)...]
2025-12-17T16:14:41.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:41.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2423a7a3]
2025-12-17T16:14:41.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:41.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d3c5060] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:41.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68941531 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:41.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:41.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:41.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=16", parameters={masked}
2025-12-17T16:14:41.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:41.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2f20fb] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@597989387 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:41.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:41.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:14:41.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:41.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d3c5060]
2025-12-17T16:14:41.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf7b1e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330272183 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 3
2025-12-17T16:14:41.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2f20fb]
2025-12-17T16:14:41.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf7b1e]
2025-12-17T16:14:41.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523bcacd] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:41.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1730543753 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:41.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:41.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:41.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:41.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses
2025-12-17T16:14:41.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523bcacd]
2025-12-17T16:14:41.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e4dfdd] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:41.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@998577742 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:41.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:41.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 65(Long)
2025-12-17T16:14:41.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:41.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:41.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 4
2025-12-17T16:14:41.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e4dfdd]
2025-12-17T16:14:41.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@213dee5f] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@808900498 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:41.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d0d292c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1303602614 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:41.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:41.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@213dee5f]
2025-12-17T16:14:41.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:41.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:41.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=75, drafterId= (truncated)...]
2025-12-17T16:14:41.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d0d292c]
2025-12-17T16:14:41.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:41.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c835972] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1481854343 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c835972]
2025-12-17T16:14:41.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25864f1b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931008528 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:41.314+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:41.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:41.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25864f1b]
2025-12-17T16:14:41.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c7012e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1890477146 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:41.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:41.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:41.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c7012e]
2025-12-17T16:14:41.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585f67a8] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.348+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@130991100 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@585f67a8]
2025-12-17T16:14:41.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e88b8b6] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2110383848 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:41.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:41.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:41.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e88b8b6]
2025-12-17T16:14:41.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:41.481+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c274b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:41.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@480928282 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:41.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:41.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:41.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:41.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c274b]
2025-12-17T16:14:41.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:41.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:41.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:43.440+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:43.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:43.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:43.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:43.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:43.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c092344] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193141610 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:43.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:43.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:43.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c092344]
2025-12-17T16:14:43.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa7bdde] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@159283222 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:43.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:43.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:43.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aa7bdde]
2025-12-17T16:14:43.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13904e53] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@880691378 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:43.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:43.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:43.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13904e53]
2025-12-17T16:14:43.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682b5c08] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035840392 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:43.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:43.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:43.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682b5c08]
2025-12-17T16:14:43.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c753fe] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@314474738 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:43.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:43.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:43.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:43.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c753fe]
2025-12-17T16:14:43.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:43.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:43.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:43.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:43.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:43.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:43.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:43.529+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:43.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9478aa] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149198340 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:43.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:43.544+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.547+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:43.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9478aa]
2025-12-17T16:14:43.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1511e6b4] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1447948496 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:43.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:43.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:43.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1511e6b4]
2025-12-17T16:14:43.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50986ce7] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1244009478 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:43.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:43.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:43.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50986ce7]
2025-12-17T16:14:43.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@747422e8] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1738049493 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:43.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:43.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:43.580+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:43.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@747422e8]
2025-12-17T16:14:43.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:43.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b51fffc] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:43.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@518518556 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:43.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:43.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:43.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:43.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b51fffc]
2025-12-17T16:14:43.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:43.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:43.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:46.745+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/75/approve
2025-12-17T16:14:46.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/75/approve
2025-12-17T16:14:46.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/75/approve
2025-12-17T16:14:46.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/75/approve", parameters={}
2025-12-17T16:14:46.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-17T16:14:46.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=16, stepOrder=null, status=nul (truncated)...]
2025-12-17T16:14:46.754+09:00  INFO 44840 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 75, approverId: 16
2025-12-17T16:14:46.761+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:46.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204]
2025-12-17T16:14:46.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1763883601 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will be managed by Spring
2025-12-17T16:14:46.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:46.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:46.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:46.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204]
2025-12-17T16:14:46.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204] from current transaction
2025-12-17T16:14:46.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-17T16:14:46.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAQAElEQVR4AeydP2wcRRuHV19hRYKCDqQIksZKBZQgigSJGDpKRIMr1xSIiCJyZUUChQooLQpDhRAVnV3EEaJFiAq5wCmQcIGUUEVuvo9nP2YzrO/s27u9vZ2ZB/F6/u7M+z5v/PNk7s75z+np6X81GfhnwD8D/hkY35+B/1T+JwEJSEACoySgQI8yLTolAQlcSKCACQp0AUk2RAlIIE0CCnSaedNrCUigAAIKdAFJNsQSCRhzDgQU6ByyaAwSkECWBBToLNNqUBKQQA4EFOgcsmgMXQk4XwJJEFCgk0iTTkpAAiUSUKBLzLoxS0ACSRBQoJNI07BOupsEJDAOAgr0OPKgFxKQgATOEFCgzyCxQwISkMA4CCjQXfPgfAlIQAIDEVCgBwLtNhKQgAS6ElCguxJzvgQkIIGBCPQs0AN57TYSkIAECiCgQBeQZEOUgATSJKBAp5k3vZaABHomMMblFOgxZkWfJCABCfxNQIH+G4L/S0ACEhgjAQV6jFnRJwmMjYD+rISAAr0S7G4qAQlI4GICCvTFjJwhAQlIYCUEFOiVYHfTvAgYjQSWQ0CBXg5XV5WABCSwMAEFemGELhATePDgQdy0LgEJLEBAgV4Ano8+IYAwr6+vV1tbWxX1JyOVVQlIYE4CCvSc4HzsCYHDw8MKcUaYqWNPRq1JQALzElCg5yXnczWBvb29amNjo67z5caNG9Xm5iZVTQISWJCAAr0gwEUfT/l5hJkrjRAD4ry/vx+alhKQwIIEFOgFAZb4OFcYXGlQhvh3d3crxTnQsJRAPwQU6H44FrNKuNLgvjkEjTB7rRFoWEqgPwLjFuj+4nSlBQkgyO0rjStXrtSnZq42FlzexyUggQkEFOgJUOz6N4GdnZ36XRrxlQbizLWG4vxvVrYk0CcBBbpPmpmthSC/8MILFQLdDu3g4KCKxZkTNvMx5mPvvvtuLezh5M31CPPaa9mWQIYEeglJge4FY36LILAI6x9//PGv4Dg5Hx0d1X1ra2tVMF40ZD7Gs9h3331Xf2gF0UacecfHzZs3/TBLTc8vEriYgAJ9MaOiZnDCDSLbDvzZZ5+tODkj0ohue3yWNusj1q+++mp1+/btWR5xjgSKJaBAF5v6s4EjnpyEJ4nv008/Xf3www8V4syTXG/wzg3a1IPRR/3y5ctMm2p//vlndffu3foKhNP21IkOZEnAoGYjoEDPxin7WYgk4jwpUAT3p59+asSZOQgzLxJy3cHb7ILRR/23336r7t27V9EOos1zbeOHQtibsj1uWwIlE1CgS87+37EjkNOuNP4erj+2jeAiyLS72GuvvVY/j0izBmJO/dq1a2eWwQ8Emntq6mcm2CGBAgko0AUmPYSMEPKi3aQrDeYgqggq9T4Mkec0/csvv1SI9fb29plluZ8+z6czD+TYYUwS+IeAAv0PiNIKRJkrDUS6HTtCioBytdEe66vNHgg0+1DG6+LT/fv34y7rEiiSgAJdYNq5SuBaY1LoiCWiiYBOGu+7j30m7Ul/33u5ngRSI6BAp5axBf3lCgGBbi+DIHKlgVi2x4Zosz9v4eNKhR8QXIVM3tdeCZRDQIEuJ9f1723mRbh2yIgyorjMK432npPaiDTCTDlp3D4JlEZAgS4k4wgz985xuAghwoxAx/3WJSCBcRBQoMeRh768mLgO981cbYRBhDlcJVAP/amUvIiYiq/6KYFFCCjQi9BL4FlOzVhwlSsETs2UoS+VEmHmnSf8bYB6Kn7rpwTmJaBAz0sukeeuXr1a/9Y5Tsq8CMjJORHXz7jJ3wIQZn7gYGcm2CGBzAgUJdCZ5W6mcIIwc2pe9YuAMzl8zqT4vdEp/g3gnNAcksBEAgr0RCx2jo1AODnjFz90KDUJ5E5Agc49w5nEx/VGCMXTcyBhmTuBJwKde6TGlzSB+HrDE3TSqdT5DgQU6A6wnLoaAvH1Bh4o0FDQSiCgQJeQ5cRjjK83+IcAUn+xM/F0jNH9bH1SoLNNbT6Bxdcbjx49yicwI5HABQQU6AsAObx6AsfHx40TTz31VFO3IoHcCSjQuWc48fi4f8ZCGG+99VaoWs5IwGnpElCg082dnktAApkTUKAzT3Dq4bU/0u07OFLPqP53IaBAd6Hl3MEJxNcbS9ncRSUwYgIK9IiTo2tV1T4xt9sykkDOBBTonLObQWztE7QCnUFSDWFmAgr0zKhKnDi+mPn1qePzSo8ksBwCCvRyuLrqkgh4gl4SWJcdJQEFepRp0alJBBTnSVTsy5mAAj1/dn1yAAIPHz5sdrl27VpTtyKBEggo0CVkOeEYn3nmmcb75557rqlbkUAJBBToErKccIzxuziuX7+ecCS6LoHuBJYm0N1d8QkJnCUQC7R30Gf52JM3AQU67/wmH137o97JB2QAEuhAQIHuAMupqyXgL+pfLf9ydh9PpAr0eHKhJ+cQ8HrjHDgOZUtAgc42tekHFt8/px+NEUigOwEFujszn5BAyQSMfUACCvSAsN2qG4H4BUJ/B0c3ds7Og4ACnUces4wivuLwPdBZptigLiCgQF8AyGEJdCHgXAn0SUCB7pOma/VKwBN0rzhdLEECCnSCSSvF5VigfQ90KVk3zpiAAh3TsL5cAh1XPz4+rp/wPdA1Br8USECBLjDpqYQcTtCbm5upuKyfEuiVgALdK04X65PApUuX6uXi3wldd/hFAoUQUKBHk2gdiQns7e1Vjx8/rrvefvvtuvSLBEojoECXlvFE4g3XG7jrC4RQ0EokoECXmPWEYvYFwoSSpau9E0hFoHsP3AXHTYArDjz0BUIoaKUSUKBLzfyI4+Z6Axuxi7omgUEIKNCDYHaTLgTC+595xt/BAQUtaQILOK9ALwDPR5dD4P79+83CvkDYoLBSIAEFusCkjz3knZ2d2kVfIKwx+KVgAgp0wckfY+jx3bMvEI4xQ3375HrnEVCgz6Pj2OAEwrs32Nj7ZyhoJRNQoEvO/ohj53rD++cRJ0jXBiGgQA+C2U1mJRBO0P4TVzUxvxROQIEu/A/AmMLn/vnk5KR26aWXXqpLv0igZAIKdMnZH1ns/COx/oKkkSVFd1ZKQIFeKX43jwlwgg7tWa44wlxLCeRKQIHONbMJxsULgwm6rcsSWBoBBXppaF24K4H4BM11R9fnnS+B3Ago0LllNMSTYBl/xNvTdIIJ1OXeCSjQvSN1wXkJ8MEUhBnzPdDzUvS5nAgo0DllM/FYtre3q4ODg+ro6CjxSHRfAv0QKFSg+4HnKv0T4PTc/6quKIE0CSjQaeZNryUggQIIKNAFJNkQJSCBNAlMEug0I9FrCUhAApkRUKAzS6jhSEAC+RBQoPPJpZFIQAKZEVCgB0oon5LD+IQcv1Jza2urevHFF6uNjY1qfX29LqljtDHqbeM5jDUw1gs2UChuIwEJDERAge4ZNCK8trZWiy4ii8VtBDcI7K+//lohrjxDGYw2FtpxiShjrIGxXrB4H/alP8yhDEb/JGuP02YeZdv4dwPbhl8Y/d98801FHaNNDNQx2sFoty2MhZLxafUwRhlb2I9ymjE/cI7Ldp02xvywFvW24SPzev4j5XIFE1Cge04+38AsyTdqMNpDWdiTEl8QkVBSx2hPMsawMBbqlG1DjNoWRDz0x+1Y6MM4ZZgTl/THxlhot+uhTRlb2I+ybcyjj/LmzZsVJevT99FHH1X0UeeHXGzMox+j3jbWgNNQue6+j0+kRkCB7jljfER5c3Oz4gMXGG1KrOetzizHHsHw4datWxWfztvd3a1L6rHRHyz081yoh5I5cZ122/j03/7+foUx9v3339d12oxh1DHqwWhPM+bEY3G7XZ/Upm+anZ6eVlj45CI+0/7kk0/qTzJSn2RhPcZi36izBpzOJMYOCcxJQIGeE9y0xxBIvlHDNzLfuKHONzVG38cff9yIJqJ4kfGNH4z1WQOL1w51SubcuXOn3oO1w7NxSX+w0M9zoR5K5sR12m0jbn4YYYzFbeoYYxj1YLSnGXPisbjdrk9q0zfJ4twxfl47HqPOfIx67Bt14qZfk0BfBBTovkh2WIdv5g8++KAWT4QPUbzImBcMIWANDLHAOmzv1MkE7JXA6Ago0KNLiQ5JQAIS+D8BBfr/HPwqAQlIYHQEFOjRpWScDumVBCQwPAEFenjm7igBCUhgJgIK9EyYnCQBCUhgeAIKdB/MXUMCEpDAEggo0EuA6pISkIAE+iCgQPdB0TUkIAEJLIHAAAK9BK9dUgISkEABBBToApJsiBKQQJoEFOg086bXEpDAAARWvYUCveoMuL8EJCCBKQQU6Clg7JaABCSwagIK9Koz4P4SSJWAfi+dgAK9dMRuIAEJSGA+Agr0fNx8SgISkMDSCSjQS0fsBmUSMGoJLE5AgV6coStIQAISWAoBBXopWF1UAhKQwOIEFOjFGbpCdwI+IQEJzEBAgZ4BklMkIAEJrIKAAr0K6u4pAQlIYAYCCvQMkIae4n4SkIAEIKBAQ0GTgAQkMEICCvQIk6JLEpCABCCQnkDjtSYBCUigAAIKdAFJHirEBw8eVGtra9X6+np1eHg41LbuI4FsCSjQ2aZ2+MD29vbqTRFqrG74RQISCAQ6lwp0Z2Q+MI1ALMo3btyYNs1+CUhgRgIK9IygnHYxgXCCZuaVK1coNAlIYAECCvQC8Hz0CYHbt283jVdeeaWpW5HArAScd5aAAn2WiT1zELh7927z1M8//1zF1x3NgBUJSKATAQW6Ey4nTyLQFuPHjx9PmmafBCTQkYAC3RGY02cj4B30bJxmnuXEIgko0EWmvd+gj4+P+13Q1SQggZqAAl1j8MsiBNpXHIus5bMSkMATAgr0ExbWeiIw/PVGT467jARGRkCBHllCUnRHQU4xa/qcAgEFOoUsjdxHPzU48gTpXrIEFOhkUzez44NMjE/RCvYgyN2kAAIKdAFJHiLER48eNds8fPiwqVuRgATmJ6BAz8/OJyMC165da1onJydN3YoEJDA/geIFen50PhkTePPNN5vmpUuXmroVCUhgfgIK9PzsfDIiEL8XOr6PjqZYlYAEOhJQoDsCc7oEJCCBoQicL9BDeeE+WRGIT9NZBWYwEhiYgAI9MPBct/NaI9fMGtcqCSjQq6Sf0d6xQPvLkzJKbLqhZOG5Ap1FGscVhFcc48qH3qRLQIFON3ej8rz96UFFelTpqZ0hJ4eHh9XOzk5tdadfRk1AgR51etJxjiuOy5cvNw7//vvvTd3KsAQQYf4B3w8//LDa2tqq1tfXq7W1tbrc2NioxZnxYb1yt3kIKNDzUPOZiQTeeOONpv/LL79s6laWQ4ATMRZOxEGIEWGE+bPPPqsQYua0Pbh69Wq7y/YICSjQI0xKqi699957jevThKGZYKUTAUQWQ4wR33AiRpTpwxhnUf42w5XTrVu3qu3t7Wp/f7+2o6OjCjs9Pa3bzNXGTUCBHnd+kvIOUUAcgtOIdKgnVY7AWcQWzT9UGgAAA/xJREFUfogxIhwMIaYfF2G9ublZi/Du7m4jvogwonznzp16jLxgzMd4VkuDgAKdRp6S8RLBCM4iJghNaFtOJgAjWGFcT4TTMeKMGDOOwMI2nIg5BSPECDN9jCm+k/mm3KtAp5y9EfqOWMRCcfPmzQqBGaGrK3EJFohuW4xpY7yHHH4I7tdff92cijkRBzFGrFfivJsOTkCBHhx56hte7H8s0ggSL1Zd/FSeM4gf4cXikzFt3m0RxBhmiDCnYgwxfueddyrG8yRjVLMQUKBnoeScTgQ4/WHhoc8//7xCjEI7xxIhxogT8Y2vKmhjxI3gIsYIcPuawpMxhLSYgAId07DeGwFE6OWXX27W4z61aWRQ4ZoCIy7EOLyIRx0xRqgRY35QwYLTcRBk2vRngMEQlkxAge4XsKtFBL799tvmr+icLhG0aHi0VXzF8BdDcBFiRJhrCow2HwRhHDHm9IvwYrEYc1Kmj/HRBqxjoyWgQI82Nek7Fk6QIZKvvvoqVEdRIsKIKwKMIbqcgBFijDbGGELMfBwPcX3xxRf/ehEPIcYUYyhpfRBQoPug6BpTCVy/fr0ZQwyDyDWdS66wH+KKIbQILiLMKRgRpk4/xhx8bLuE4CK87ZOxL+K1Sdnum8CgAt238643fgKIGyfO4Onrr79e/fjjj6HZW4m4IrIYIoz4BhGmjTHGvEkijCP4iXE/jCDzbgrujRFm2sTCPE0CQxFQoIciXfA+BwcHTfT8EiVEGrFEKDnhYghnuNOlznhsCCynXQzxxZ5//vn6lwAhxIyH+TzPms2mUyoILsKLIcIIMhbujRHrKY/aLYFBCCjQg2AuexOEDhGMKSCmsdgisLxfmhJjPDZEF0HHEF/s5OQkXnJiHRHG2B/hDUIcn4wZY87EBeyUQE1gNV8U6NVwL25XRPDTTz+t4l9J2geES5cu1e8UQWC5mpgkwogy+zPOPH5g9LG3a0hg2QQU6GUTdv2GwPvvv1/du3ev/gU+84okAovYIsRcR/z111/1OykQYfoU4Qa3lQwIKNAZJDGlEBBmBJZ7aQQWQ1wpMeoYYksbo82VBEad5xFi1kop9ox9NbQlEVCglwTWZc8ngLgG41Qc12kHAaaf9vmrOSqBPAko0Hnm1agkIIEMCCjQGSTREMZNQO8kMC8BBXpecj4nAQlIYMkEFOglA3Z5CUhAAvMSUKDnJedz/RBwFQlIYCoBBXoqGgckIAEJrJaAAr1a/u4uAQlIYCoBBXoqmjEM6IMEJFAyAQW65OwbuwQkMGoCCvSo06NzEpBAyQRSFuiS82bsEpBAAQQU6AKSbIgSkECaBBToNPOm1xKQQMoEZvRdgZ4RlNMkIAEJDE3gfwAAAP//s6+/WAAAAAZJREFUAwBVeSictXW25AAAAABJRU5ErkJggg==(String), 75(Long), 16(Long), 1(Long)
2025-12-17T16:14:46.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-17T16:14:46.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204]
2025-12-17T16:14:46.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204] from current transaction
2025-12-17T16:14:46.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:46.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:46.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:46.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204]
2025-12-17T16:14:46.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204]
2025-12-17T16:14:46.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204]
2025-12-17T16:14:46.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cfb204]
2025-12-17T16:14:46.806+09:00  INFO 44840 --- [http-nio-8080-exec-7] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 75
2025-12-17T16:14:46.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:46.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-17T16:14:46.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:47.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:47.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:14:47.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:47.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:47.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:47.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/companies
2025-12-17T16:14:47.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:47.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:14:47.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:47.812+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c4a3fe] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:47.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:14:47.814+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:14:47.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1118721207 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:47.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:47.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:47.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:47.872+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:47.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:47.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db74e8c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:47.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891599827 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:47.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:47.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c4a3fe]
2025-12-17T16:14:47.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:14:47.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:47.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 16(Long)
2025-12-17T16:14:47.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d7d7d56] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:47.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823964565 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:47.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:14:47.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:47.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db74e8c]
2025-12-17T16:14:47.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:47.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:47.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:47.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:47.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:14:47.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/companies
2025-12-17T16:14:47.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:14:47.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:14:47.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:14:47.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:47.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:14:47.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:47.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e394333] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:47.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:47.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d7d7d56]
2025-12-17T16:14:47.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:47.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d64c4a] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:47.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1680283275 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:47.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:47.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:48.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1568931005 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:48.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:14:48.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 16(Long)
2025-12-17T16:14:48.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:14:48.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:48.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d64c4a]
2025-12-17T16:14:48.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:48.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e394333]
2025-12-17T16:14:48.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ee80a6] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:48.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:48.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@134806008 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:48.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:48.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:48.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:48.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:48.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:48.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ee80a6]
2025-12-17T16:14:48.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:48.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd08970] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:48.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245944796 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:48.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:48.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:48.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:48.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd08970]
2025-12-17T16:14:48.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:48.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:48.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:48.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:14:48.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/75
2025-12-17T16:14:48.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:14:48.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:14:48.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:14:48.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:48.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@479aded3] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:48.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27161605 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:48.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:14:48.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:48.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:14:48.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@479aded3]
2025-12-17T16:14:48.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:48.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a03d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:48.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@102197439 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:48.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:14:48.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:48.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:14:48.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a03d7]
2025-12-17T16:14:48.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:48.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbff2d4] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:48.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203040271 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:48.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:14:48.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:48.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:14:48.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbff2d4]
2025-12-17T16:14:48.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:48.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd35393] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:48.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1071131567 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:48.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:14:48.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:14:48.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:14:48.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd35393]
2025-12-17T16:14:48.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:48.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ce9e11e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:48.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065787611 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:14:48.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:48.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:48.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:48.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ce9e11e]
2025-12-17T16:14:48.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:48.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:14:48.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:52.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:52.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:52.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:52.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses
2025-12-17T16:14:52.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:52.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:52.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:52.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:52.781+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:52.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:52.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:52.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=16", parameters={masked}
2025-12-17T16:14:52.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:52.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:52.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:52.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:52.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd2a8a2] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:52.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:52.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c14341] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:52.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:52.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:52.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@73348606 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:52.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:52.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:52.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a17e2e8] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:52.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1573666466 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:52.847+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:14:52.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:52.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:52.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:14:52.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd2a8a2]
2025-12-17T16:14:52.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:52.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136840608 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:52.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:52.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c14341]
2025-12-17T16:14:52.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:52.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a31fbdc] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:52.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:52.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a0a23c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:52.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:52.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008815243 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:52.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1854315963 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:52.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:52.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:52.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:52.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:52.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:53.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a17e2e8]
2025-12-17T16:14:53.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:53.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a0a23c]
2025-12-17T16:14:53.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:53.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:53.028+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e474cd6] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2032249440 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:53.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:53.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:14:53.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:53.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a31fbdc]
2025-12-17T16:14:53.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4796ccb2] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-17T16:14:53.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572268679 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:53.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:53.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:14:53.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:14:53.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:14:53.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:14:53.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:53.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:14:53.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:14:53.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4796ccb2]
2025-12-17T16:14:53.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:53.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e474cd6]
2025-12-17T16:14:53.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36dbbae3] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6de20c80] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b086c1e] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197016022 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:53.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035797014 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:53.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558534690 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:14:53.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:53.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:53.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:53.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:53.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:14:53.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:14:53.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:14:53.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:53.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b086c1e]
2025-12-17T16:14:53.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6de20c80]
2025-12-17T16:14:53.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:53.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36dbbae3]
2025-12-17T16:14:53.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:14:53.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2abb0cbd] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:53.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:53.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1472238438 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:53.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:14:53.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:53.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:53.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:53.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:53.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:14:53.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2abb0cbd]
2025-12-17T16:14:53.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:14:53.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153be5af] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=16", parameters={masked}
2025-12-17T16:14:53.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1738005841 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:53.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:53.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:14:53.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:53.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f24f8b] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:53.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167654486 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:53.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153be5af]
2025-12-17T16:14:53.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:14:53.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222efa73] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1760720132 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:53.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:14:53.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:53.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:53.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:14:53.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222efa73]
2025-12-17T16:14:53.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f24f8b]
2025-12-17T16:14:53.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:53.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:53.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac394e5] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:53.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1507722273 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:53.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:53.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:14:53.629+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:53.645+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses
2025-12-17T16:14:53.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:14:53.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:14:53.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:14:53.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.743+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.743+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9728b8] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac394e5]
2025-12-17T16:14:53.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2017760076 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:53.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@af6ef44] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:53.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1556358723 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:53.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:53.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:53.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:14:53.820+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:53.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:14:53.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9728b8]
2025-12-17T16:14:53.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@af6ef44]
2025-12-17T16:14:53.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62312582] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f16957d] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778241702 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:53.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@581420308 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:14:53.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:53.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:53.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:53.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:53.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:53.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f16957d]
2025-12-17T16:14:53.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62312582]
2025-12-17T16:14:53.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:53.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:14:53.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15798a64] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:53.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2123341948 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:53.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:53.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:53.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:53.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15798a64]
2025-12-17T16:14:53.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3383d773] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1785745869 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:53.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:14:53.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:14:53.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:14:53.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3383d773]
2025-12-17T16:14:53.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:53.985+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdf2c9a] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:53.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1925861469 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:53.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:53.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:54.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:54.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdf2c9a]
2025-12-17T16:14:54.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:54.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb3987c] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:54.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699322092 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:54.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:14:54.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:14:54.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:14:54.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb3987c]
2025-12-17T16:14:54.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:54.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77abb0ed] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:54.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1690871324 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:14:54.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:14:54.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:14:54.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:14:54.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77abb0ed]
2025-12-17T16:14:54.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:54.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:14:54.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:54.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:14:54.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/logout
2025-12-17T16:14:54.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:14:54.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:14:54.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:14:54.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNiIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:14:54.523+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=16
2025-12-17T16:14:54.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:54.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:14:54.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:14:59.679+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:14:59.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:14:59.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:14:59.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:14:59.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:14:59.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ahn_accountant, password=1234)]
2025-12-17T16:14:59.684+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: ahn_accountant
2025-12-17T16:14:59.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:14:59.685+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@505a4f21] was not registered for synchronization because synchronization is not active
2025-12-17T16:14:59.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@157441750 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:14:59.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:14:59.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ahn_accountant(String)
2025-12-17T16:14:59.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:14:59.691+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@505a4f21]
2025-12-17T16:14:59.773+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 17, role: ACCOUNTANT, companyId: 1
2025-12-17T16:14:59.775+09:00  INFO 44840 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=17 username=ahn_accountant role=ACCOUNTANT
2025-12-17T16:14:59.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:14:59.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=17, username=ahn_accountant, pas (truncated)...]
2025-12-17T16:14:59.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:00.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:00.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:00.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:00.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:15:00.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:00.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:00.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:00.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:00.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:00.664+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:00.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:15:00.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:00.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:00.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:00.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a0e7fc] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:00.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d57ce90] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:00.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1626963634 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:00.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853600877 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:00.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:00.738+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:00.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:15:00.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:00.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 3
2025-12-17T16:15:00.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:00.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d57ce90]
2025-12-17T16:15:01.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a0e7fc]
2025-12-17T16:15:01.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698b8fe] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1d0122] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598209294 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:01.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1909168094 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:01.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1d0122]
2025-12-17T16:15:01.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698b8fe]
2025-12-17T16:15:01.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f8d9132] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@418ce355] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@170689520 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:01.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:01.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310439122 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:01.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:01.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:01.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 65(Long)
2025-12-17T16:15:01.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 4
2025-12-17T16:15:01.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f8d9132]
2025-12-17T16:15:01.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:01.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efc86fa] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294696470 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:01.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@418ce355]
2025-12-17T16:15:01.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7986aabb] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efc86fa]
2025-12-17T16:15:01.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605789845 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:01.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:01.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:01.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:01.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=75, drafterId= (truncated)...]
2025-12-17T16:15:01.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:01.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:01.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:01.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:01.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7986aabb]
2025-12-17T16:15:01.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:01.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:15:01.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee2e9a0] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:01.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318591925 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:01.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3fe259] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.529+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1096304991 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:01.530+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:01.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:15:01.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 3
2025-12-17T16:15:01.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3fe259]
2025-12-17T16:15:01.553+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee2e9a0]
2025-12-17T16:15:01.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5b687a] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0de63f] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@262370370 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:01.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1382785815 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:01.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:01.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:01.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:01.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5b687a]
2025-12-17T16:15:01.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0de63f]
2025-12-17T16:15:01.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@474142f2] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe8426e] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1180232408 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:01.580+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1000372658 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:01.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:01.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 65(Long)
2025-12-17T16:15:01.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 4
2025-12-17T16:15:01.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe8426e]
2025-12-17T16:15:01.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@474142f2]
2025-12-17T16:15:01.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:01.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:01.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d71b32] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:01.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@97293832 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:01.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.606+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:01.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d71b32]
2025-12-17T16:15:01.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:15:01.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:01.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:01.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=75, drafterId= (truncated)...]
2025-12-17T16:15:01.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:01.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:01.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:01.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c4f8b4b] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1388712382 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:01.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:01.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:01.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:01.812+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c4f8b4b]
2025-12-17T16:15:01.813+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518621f2] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.820+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085149570 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:01.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518621f2]
2025-12-17T16:15:01.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb0736d] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@215566008 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:01.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:01.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:01.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:01.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb0736d]
2025-12-17T16:15:01.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23cd0902] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275673869 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:01.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:01.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:01.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:01.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23cd0902]
2025-12-17T16:15:01.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d2a4532] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@652530828 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:01.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d2a4532]
2025-12-17T16:15:01.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c67814] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217753739 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:01.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:01.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:01.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:01.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c67814]
2025-12-17T16:15:01.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:01.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cbad897] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:01.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@750523340 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:01.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:01.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:01.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:01.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cbad897]
2025-12-17T16:15:01.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:01.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:02.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:04.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:04.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:04.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:04.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:04.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:04.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3caa0940] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@187639363 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:04.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:04.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:04.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3caa0940]
2025-12-17T16:15:04.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f95c2d] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@692218753 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:04.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:04.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:04.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f95c2d]
2025-12-17T16:15:04.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42decfb8] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1356135418 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:04.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:04.922+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:04.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42decfb8]
2025-12-17T16:15:04.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18692591] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981266450 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:04.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:04.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:04.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18692591]
2025-12-17T16:15:04.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f37859c] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774074950 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:04.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:04.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:04.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:04.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f37859c]
2025-12-17T16:15:04.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:04.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:04.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:04.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:04.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:04.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:04.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:04.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:04.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3691e49] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146162038 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:04.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:04.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:04.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3691e49]
2025-12-17T16:15:04.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0b40e6] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1482824772 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:04.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:04.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:04.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0b40e6]
2025-12-17T16:15:04.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0d33d4] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@802504739 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:04.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:04.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:04.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0d33d4]
2025-12-17T16:15:04.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fee6dae] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030715412 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:04.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:04.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:04.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:04.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fee6dae]
2025-12-17T16:15:04.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:04.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e6c595] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:04.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1824087354 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:04.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:04.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:04.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:04.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e6c595]
2025-12-17T16:15:04.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:04.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:04.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:08.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/75/approve
2025-12-17T16:15:08.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75/approve
2025-12-17T16:15:08.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/75/approve
2025-12-17T16:15:08.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/75/approve", parameters={}
2025-12-17T16:15:08.013+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-17T16:15:08.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=17, stepOrder=null, status=nul (truncated)...]
2025-12-17T16:15:08.016+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 75, approverId: 17
2025-12-17T16:15:08.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:08.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127238058 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will be managed by Spring
2025-12-17T16:15:08.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:08.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:08.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:08.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e] from current transaction
2025-12-17T16:15:08.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-17T16:15:08.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAQAElEQVR4AeydP4gexf+A1y9yWAS8QrSwMCJHOlOJKOJZJFaSInW4KmBlpYIgqYKVaKGWB8KlkRCw0SaxyJ2VWEnKU4hIBEXhkCByze+X583NZu/9d/vuu+/uzM4TMrezs/PnM8/cPe+8+7733v8ODw//zyQDvwf8HvB7IL7vgf8V/pOABCQggSgJKOgol8WgJCCBEwlkUEFBZ7DITlECEkiTgIJOc92MWgISyICAgs5gkZ1ijgSc8xAIKOghrKJzkIAEBklAQQ9yWZ2UBCQwBAIKegir6BwWJWB9CSRBQEEnsUwGKQEJ5EhAQee46s5ZAhJIgoCCTmKZug3S0SQggTgIKOg41sEoJCABCUwQUNATSCyQgAQkEAcBBb3oOlhfAhKQQEcEFHRHoB1GAhKQwKIEFPSixKwvAQlIoCMCLQu6o6gdRgISkEAGBBR0BovsFCUggTQJKOg0182oJSCBlgnE2J2CjnFVjEkCEpDAAwIK+gEE/0tAAhKIkYCCjnFVjEkCsREwnl4IKOhesDuoBCQggZMJKOiTGVlDAhKQQC8EFHQv2B10WAScjQRWQ0BBr4arvUpAAhJYmoCCXhqhHUhAAhJYDQEFvRqu9vqIgDkJSKAhAQXdEJzNJCABCayagIJeNWH7l4AEJNCQgIJuCK6tZvYjAQlIYBYBBT2LjOUSkIAEeiagoHteAIeXgAQkMItA3IKeFbXlEpCABDIgoKAzWGSnKAEJpElAQae5bkYtAQnETaCV6BR0KxjtRAISkED7BBR0+0ztUQISkEArBBR0KxjtRAISWISAdesRUND1OFlLAhKQQOcEFHTnyB1QAhKQQD0CCroeJ2tJoDsCjiSBIwIK+giEBwlIQAKxEVDQsa2I8UhAAhI4IqCgj0B4SIWAcUogHwIKOp+1dqY9Efj11197GtlhUyegoFNfQeOPlgBi3tjYKC5fvlyQjzZQA4uWgIKOdmkaBWajiAjs7u6OxMyRFFFohpIIAQWdyEIZpgQkkB8BBZ3fmjtjCUggEQJZCTqRNTHMgRCo3nfe29sbyKycRpcEFHSXtB0rKwI//PBDOd9vv/22zJuRQF0CCrouKetJYAEC7J5v3rxZtvj7779HLxiWBWYkUIPAI0HXqGwVCUigHoFp79qYVlavN2vlSkBB57ryznulBNhBjw+wubk5XuS5BOYSUNBz8XhRAhJIgMBgQ1TQg13aOCbGTpKn9ufPny/4rbrnn39+dFxbWysoI1HOOUfqxhH5clEw7/EennvuufEizyUwl4CCnovHi8sQuHr16kjGSBjxIq179+6VL5ZRRqKccTiSyA8tKeehrWg381HQ3XDObhSkjKDrThyBcY+WVLdNzPVieqCJmZOxzSegoOfz8WoDAm+//XbBznha08cff7y4cuVKcevWrWJ/f784PDwcJfKUIepp7VIrG5//UB54UluH1ONV0KmvYETxIyV2zl9++eVEVIgXMf/7778jQSMsyiYqDrQgp7kOdAl7mZaC7gX78AblIzWRM5Ienx1iZofMcfxa7+crCMDbGyuAmmmXCjrThW9r2js7O6MXAjmO93nhwoXR7YtcxBzmf/fu3ZAtj6+//nqZNyOBugQUdF1S1jtGgF0iO2Z2zuSrF3k6z/3kGzduVIuzznNLJ2sATr4RAQXdCFsujabPk3dnzHrPMrtlbmcopEfseMB6dGZOAvUJKOj6rKz5gAC7ZgT9IHvsP0JGzAj62IUMT8afUWxtbWVIwSm3QUBBt0Exgz6QzrRdM7tDbmeQyGeAYuEpev95YWQ2OCKgoI9ANDhk0wQ5nzt3rvwNwDDx7e3t0XuZ2T2HMo+TBOQzycSSegQUdD1O2daaJmeEw+0Mn7pP/7aoPpOo5qfXtlQCswko6Nlssr+CnF955ZVjO2duZZAUz+xvjz/++KO8yFsNyxMzEliQwMoEvWAcVo+MAHLmtsZff/01iuzMmTPezhiROPnLf//9V1Y6e/ZsmTcjgUUJKOhFiWVQHznzgiBHpsstjTt37hTumqFxcgrcqAk7jiYJNCGgoJtQG3gbfvkkTBHBcEsjnHuUwPAJxDNDBR3PWkQRCbu/8Hka7JiV8+LLAkNawY9E3iSBJgQUdBNqA25T/UwN36XRbKHDA1yz1raSwCMCCvoRC3MPCBwcHDz4+vB/9cWuhyV+XYTA6dOnF6neaV12+fxGaIMHk07jzH0wBZ37d8DY/B977LGy5IknnijzZuoTQH71a3dbk9h4jYEXgRE0+W4jcLRFCCjoRWhlUPfFF18sZ7m3t1fmzdQjgABDzZh+xZu4+BwVxFy9jUV5iNdjfAQUdHxr0mtE1Re1ePrrD/BiyzHts6AX66G92qwdu+S1tbXRZ3azntXe+WArfiO0WmY+LgIKOq716D0a3lZXlXR1t9V7cAkEUH3W0dUOGhGTWCuE/NJLLxVBypxXsbG2iJm/BcmR8+p183ERUNBxrUcU0VTfvcEPOD/4bQeGUNruM7b+2nqREFYhsQtmTcLtiiBibl1wP5lrP/300wQKRIyQ2TFznKhgQZQEFHSUy9JvUPwA8wMdouAHHzGE88bHo4bIJKSjosEcEGmYTJVhKJt3pC0JyQYBB07hSDnXWQ/qzuqPF3gZn7Vkt6yYZ5GKu1xBx70+vUXHR4nyAx4CQAwffvhhOG18ZDcexMIR0TTuLMKGzImwquw4n5euX79ewDdIuCrg0N+89uEaY/LsByn/888/o89OIR+ue0yPgIJOb806iZh70fxw80MfBvz4448LdtPhvMnx2rVrx5oxzrGCgZzUub2BfOF56dKlou4D1TPPPDP6TJQgYh5I+W3PsEvmnHUbCMbsp6Ggo/kWiC8QJEDi6XKIjh0wuz3kEsoWOVZFNESR1HkXB+zYJbNjhudJ/HiQhNXt27eL3377bbQzDiJmfYb6IHcSlxyuK+gcVnmJOSKGL7744lgPSJaPIkUy5I9dnHMyLiPkMqd60pemvYMDMYcX9WA3a4IImQR77h2TyL/66quzmlg+UAIKeqAL2+a0EClPo5FG6BfZIBl20+wE33333WMf7B/qhSP1eTofzumz2l8oH/Jx2oMZDC5evFiwC0bCcEbIJM65PmQmzm0+gVQEPX8WXl05AQTy3XffjUQyPhjy/fzzz4vXXntt9AsR4ztlxMSOu9oO+VTPh5afJlYY8sDEkfmH+8ZfffVVgZgp49rQWDif5gQUdHN22bVEOoiE+5/TRMKfekLW7JTZVXN86623Ru9QoDwAoz19hfOhHJkjadZ8mDNzhyEynlXPcgkEAgo6kPBYmwC7QCTD03CE8+abbxbr6+vH2iMqdtI3b948Vk5b0rHCgZwg4DCVaQ9g4ZrHzAgsMV0FvQS83JsiJGT7zTffFH/++efo3QWcT+Py1FNPFcicNO36UMpOnTo1mgpsRhm/SGAJAgp6CXg2PU4AKSHgsLNG1jyVf+edd4rff/+94Px4i+Gd3b9/f3iTcka9EVDQvaEf7sCIGhkjawT9ySefDHeylZlxW6dyarYWASvNI6Cg59HxmgQaEOABqkEzm0hggoCCnkBigQSaEajzW4TNerZVrgQUdK4r77xTIGCMmRNQ0Jl/Azh9CUggXgIKOt61MTIJSCBzAgo682+AlKdv7BIYOgEFPfQVdn6dE/Dtdp0jH+yACnqwS+vEuiYQxOzb7LomP9zxFPRQ19Z5dU4giDmIuvMAHHBwBBT04JbUCfVFoM6fueorNsdNk4CCTnPdjFoCEsiAQKaCzmBlnaIEJJA8AQWd/BI6AQlIYKgEFPRQV9Z5SUACyROYJujkJ+UEJNAHgfAuDsb2nRxQMC1LQEEvS9D2EqgQ4C+q8Oe/qrKuXDYrgYUIKOiFcFlZAvMJ8BdVDg4O5lfy6uoIDKxnBT2wBXU6/RGo3tao5vuLyJFTJ6CgU19B44+OALc3SNEFZkDJEVDQyS2ZAcdKIP6/qBIrOeOaRUBBzyJjuQQkIIGeCSjonhfA4YdDwPvOw1nLWGaioGNZCePom4DjSyA6Ago6uiUxoFQJuINOdeXijVtBx7s2RtaAAJJcW1srNjY2it3d3QY9NG/C2LQOR/ImCSxDQEEvQy+jtqlMdWdnZxQqkiSNTjr64lvrOgKd0TAKOqPFzmGqVSlvbm52OuWtra0CSXPsdGAHGywBBT3Ypc1zYmEHzeyRJceuEuPt7+8X29vbXQ3pOAMnoKDbWGD7iIJAVc7uYqNYEoNYkoCCXhKgzeMhsLe3Vwbzyy+/lHkzEkiVgIJOdeWMe4IAnyQXCl944YWQ9SiBZAl0IOhk2Rh4YgT4LObEQjZcCcwloKDn4vFiSgSq7+BIKW5jlcAsAgp6FhnLkybAOyqSnoDBR0Gg7yAUdN8r4PgSkIAEZhBQ0DPAWJw2AXfQaa+f0T8koKAfcvDrwAh4P7qDBXWIlRNQ0CtH7ABdEajumhV0V9QdZ5UEFPQq6dq3BCQggSUIKOgl4Nk0XgLV3XQ/UTqqBJYnoKCXZ2gPkRB48skny0gODg7KvBkJpEpAQae6csY9QeDs2bNl2fr6epk3I4FUCSjoVFcu7bhXEn31hUFvcawEsZ12TEBBdwzc4SQgAQnUJaCg65KyXvQEqjvo6IM1QAnUIKCga0DquorjNSNQFbS3OJoxtFVcBBR0XOthNC0ROH36dEs92Y0E+iOgoPtj78gtE7h7927ZozvoEoWZhAmkJ+iEYRv6aglUb3FU86sd1d4lsDoCCnp1bO25YwLumjsG7nArJ6CgV47YAboisLm52dVQjiOBJgQWbqOgF0Zmg1gJ3L9/vwzt3r17Zd6MBFIloKBTXTnjniDw8ssvl2U///xzmTcjgVQJKOhUV864JwhcvHixLLt27VqZN3MyAV5UJe3u7hY7OzsnN1hBDbucJKCgJ5lYkigBXiQkET6iQTjkTQ8JwAMuV69eLUiXL18uzp8/X6ytrRUbGxujxDnlXH/Yyq99ElDQfdJ37NYJbG1tlX2+8cYbxfXr18vzXDJVESNbpBskTB75ktgpI2y48MB25cqVgrS9vT06Um7ql4CC7pe/o7dMAEEjG7rlhcJLly6NdotIi7Jk01jgzIeEYJEtImYXPC7icQnDBkaI+NatW8Xh4eEo7e/vj6RMOdfHhvO0JwIKuifwDrsaAggIyZw6daocAIGdO3du9HT+008/LZBaeTHiTBAwkmUO7733XhFEjIxJYUdMHeozHRiQEC0sgoiRMCnskH1bIrTiTgo67vUxugYEENPXX39dPPvss2Vr5IWYP/jgg5GokRuyo6ys1HGGmEjIFQETD8IltupOmHKuf/bZZ6MX8GhDqEiYhIRJiBgBh6SIoZR2UtBpr5/RjwhMfmF3ePv27YLj5NWiQHKIMQgRCXLOPWuuhTStbZ2y0J4HAPpFsIzBeKQgYGRMOdepR33ahjEQMIl5vP/++wXSRcTcmggiRs4k6lA3tPWYPgEFnf4aqSlcBQAAAx1JREFUOoMZBJAVMiMhsDNnzkytiRCRI6LknjXSrCaESqKMY0icV9PTTz89eidEVb7Upd+qgJHwtECIF8kSaxBxkDBz+OijjwqeHVBnWnvLhkdAQQ9vTZ3RGAGEhvTu3LlTIDzkh+jGqk09Rd4IlVTNh3PKQuIP1ZKf2tFRIRImhZiIC/mGHTF5yoiPOkfNPGRKQEEPf+GdYYUAckR+SLoq6yDD9fX1gjqVJrWy/BbjhQsXRu+EoH8SY5CQLilImHE5R8SkMHatgayUFQEFndVyO9kqAUQcRIowEeiPP/442mWTpwzBVhNCDedcR7bU/f7774sbN26MBB2u0zcJAZOqY5uXQB0CCroOJetkQwBph8kiVQRbTQg6nHO9Wj+08yiBtghkL+i2QNqPBCQggbYJKOi2idqfBCQggZYIKOiWQNqNBCQggbYJzBd026PZnwQkIAEJ1CagoGujsqIEJCCBbgko6G55O5oEJNANgUGMoqAHsYxOQgISGCIBBT3EVXVOEpDAIAgo6EEso5OQwGIErJ0GAQWdxjoZpQQkkCEBBZ3hojtlCUggDQIKOo11MsouCTiWBCIhoKAjWQjDkIAEJDBOQEGPE/FcAhKQQCQEFHQkC5FOGEYqAQl0RUBBd0XacSQgAQksSEBBLwjM6hKQgAS6IqCg2yVtbxKQgARaI6CgW0NpRxKQgATaJaCg2+VpbxKQgARaI9CpoFuL2o4kIAEJZEBAQWewyE5RAhJIk4CCTnPdjFoCEuiUQD+DKeh+uDuqBCQggRMJKOgTEVlBAhKQQD8EFHQ/3B1VAkMi4FxWREBBrwis3UpAAhJYloCCXpag7SUgAQmsiICCXhFYu5VAIOBRAk0JKOim5GwnAQlIYMUEFPSKAdu9BCQggaYEFHRTcrZrh4C9SEACMwko6JlovCABCUigXwIKul/+ji4BCUhgJgEFPRNNDBeMQQISyJmAgs559Z27BCQQNQEFHfXyGJwEJJAzgZQFnfO6OXcJSCADAgo6g0V2ihKQQJoEFHSa62bUEpBAygRqxq6ga4KymgQkIIGuCfw/AAAA//8zTVe1AAAABklEQVQDAA61rG9Kl6+KAAAAAElFTkSuQmCC(String), 75(Long), 17(Long), 1(Long)
2025-12-17T16:15:08.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-17T16:15:08.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e] from current transaction
2025-12-17T16:15:08.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:08.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:08.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:08.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e] from current transaction
2025-12-17T16:15:08.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:08.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: APPROVED(String), 75(Long), 1(Long)
2025-12-17T16:15:08.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-17T16:15:08.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250989e]
2025-12-17T16:15:08.109+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 75
2025-12-17T16:15:08.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:08.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-17T16:15:08.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:09.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:09.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:09.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:09.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:09.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:09.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3e6c17] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463858279 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:09.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:09.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:09.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3e6c17]
2025-12-17T16:15:09.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125643c5] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177200901 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:09.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:09.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:09.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125643c5]
2025-12-17T16:15:09.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67afa324] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1195871359 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:09.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:09.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:09.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67afa324]
2025-12-17T16:15:09.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62c303cd] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2020555314 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:09.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:09.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:09.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62c303cd]
2025-12-17T16:15:09.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645914be] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520011411 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:09.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:09.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:09.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:09.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645914be]
2025-12-17T16:15:09.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:09.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:09.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:09.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:09.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:09.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:09.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:09.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:09.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69647ddc] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@948497256 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:09.297+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:09.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:09.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69647ddc]
2025-12-17T16:15:09.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@325edc9d] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1978335989 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:09.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:09.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:09.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@325edc9d]
2025-12-17T16:15:09.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47171b0] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074790295 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:09.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:09.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:09.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47171b0]
2025-12-17T16:15:09.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ce3d5] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1409283333 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:09.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:09.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:09.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:09.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8ce3d5]
2025-12-17T16:15:09.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:09.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fb7f0c] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:09.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339205645 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:09.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:09.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:09.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:09.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fb7f0c]
2025-12-17T16:15:09.379+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:09.380+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:09.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:10.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:10.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:10.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:15:10.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:10.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:10.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:10.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:10.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:15:10.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:10.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:10.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@200139d2] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2d3c9d] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1584926593 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:15:10.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267376158 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:10.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:10.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:10.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:15:10.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:15:10.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:10.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@200139d2]
2025-12-17T16:15:10.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2d3c9d]
2025-12-17T16:15:10.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad5f322] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c65149] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@713268520 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:15:10.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732605679 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c65149]
2025-12-17T16:15:10.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a6bdf9] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad5f322]
2025-12-17T16:15:10.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@799864221 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:10.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc5d784] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:15:10.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@677148669 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:15:10.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:10.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:10.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:15:10.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a6bdf9]
2025-12-17T16:15:10.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f99077] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1265417732 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:10.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc5d784]
2025-12-17T16:15:10.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66be6b56] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@898955762 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:15:10.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:10.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f99077]
2025-12-17T16:15:10.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:10.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:10.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:15:10.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:10.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:10.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66be6b56]
2025-12-17T16:15:10.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:10.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660ce92b] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:10.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1946016359 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:15:10.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:10.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:15:10.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:10.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.130+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c61d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660ce92b]
2025-12-17T16:15:10.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@850345342 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:10.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0bcc14] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:10.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2052012015 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:15:10.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:15:10.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:10.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:10.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:15:10.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c61d7]
2025-12-17T16:15:10.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7c07b] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:10.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1569816999 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:10.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0bcc14]
2025-12-17T16:15:10.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ba96a1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@83138030 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:15:10.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7c07b]
2025-12-17T16:15:10.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785c127d] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150611733 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:10.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:10.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ba96a1]
2025-12-17T16:15:10.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:15:10.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:10.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:10.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:10.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:15:10.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785c127d]
2025-12-17T16:15:10.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:10.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73bcfeb7] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1810617671 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:10.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:15:10.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:10.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:10.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:10.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a09f9d1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257728809 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73bcfeb7]
2025-12-17T16:15:10.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:10.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:10.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:10.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:15:10.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:10.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:10.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a09f9d1]
2025-12-17T16:15:10.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a2b63d] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1200625353 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a2b63d]
2025-12-17T16:15:10.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1daac1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823080129 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:10.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:10.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:10.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1daac1]
2025-12-17T16:15:10.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d4d380] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203320537 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:10.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:10.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:10.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d4d380]
2025-12-17T16:15:10.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3c1ed1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1286837477 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3c1ed1]
2025-12-17T16:15:10.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a075654] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1638275923 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:10.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:10.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:10.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a075654]
2025-12-17T16:15:10.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:10.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6063358a] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:10.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348893220 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:10.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:10.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:10.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:10.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6063358a]
2025-12-17T16:15:10.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:10.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:10.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:13.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:13.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:13.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:13.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:13.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:13.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b56288a] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@490498178 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:14.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:14.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:14.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b56288a]
2025-12-17T16:15:14.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2801c5fe] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745555826 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:14.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:14.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:14.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2801c5fe]
2025-12-17T16:15:14.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69319cc4] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329170985 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:14.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:14.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:14.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69319cc4]
2025-12-17T16:15:14.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e3011] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1680628554 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:14.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:14.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:14.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e3011]
2025-12-17T16:15:14.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@546c138b] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@604127151 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:14.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:14.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:14.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:14.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@546c138b]
2025-12-17T16:15:14.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:14.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:14.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:14.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:14.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:14.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:14.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:14.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:14.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be02d77] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.554+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@767338721 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:14.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:14.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.560+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:14.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be02d77]
2025-12-17T16:15:14.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0e95cf] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@883638068 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:14.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:14.563+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:14.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0e95cf]
2025-12-17T16:15:14.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@346272f8] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@777533782 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:14.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:14.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:14.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@346272f8]
2025-12-17T16:15:14.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd794d8] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527110664 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:14.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:14.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:14.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:14.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd794d8]
2025-12-17T16:15:14.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:14.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486af54f] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:14.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148621774 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:14.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:14.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:14.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:14.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486af54f]
2025-12-17T16:15:14.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:14.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:14.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:18.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/75/status
2025-12-17T16:15:18.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/expenses/75/status
2025-12-17T16:15:18.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75/status
2025-12-17T16:15:18.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/expenses/75/status
2025-12-17T16:15:18.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/expenses/75/status", parameters={}
2025-12-17T16:15:18.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#updateExpenseStatus(Long, StatusUpdateRequest)
2025-12-17T16:15:18.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.StatusUpdateRequest(status=PAID)]
2025-12-17T16:15:18.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.updateExpenseStatus(java.lang.Long,com.innersignature.backend.controller.ExpenseController$StatusUpdateRequest); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:15:18.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.updateExpenseStatus(java.lang.Long,com.innersignature.backend.controller.ExpenseController$StatusUpdateRequest); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:15:18.493+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 지출결의서 상태 변경 요청 - expenseId: 75, userId: 17, status: PAID
2025-12-17T16:15:18.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:18.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9]
2025-12-17T16:15:18.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@763682446 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will be managed by Spring
2025-12-17T16:15:18.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:18.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:18.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:18.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9]
2025-12-17T16:15:18.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9] from current transaction
2025-12-17T16:15:18.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:18.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:18.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:18.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9]
2025-12-17T16:15:18.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9] from current transaction
2025-12-17T16:15:18.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:18.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: PAID(String), 75(Long), 1(Long)
2025-12-17T16:15:18.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-17T16:15:18.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9]
2025-12-17T16:15:18.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9]
2025-12-17T16:15:18.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9]
2025-12-17T16:15:18.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dd57e9]
2025-12-17T16:15:18.540+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 지출결의서 상태 변경 완료 - expenseId: 75, status: PAID
2025-12-17T16:15:18.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:18.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태 변경 완료, data=null)]
2025-12-17T16:15:18.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:19.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:19.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:19.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:19.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:19.738+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:19.738+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd8f6cd] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1483327416 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:19.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:19.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:19.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd8f6cd]
2025-12-17T16:15:19.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1242b365] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1716899804 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:19.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:19.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:19.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1242b365]
2025-12-17T16:15:19.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18582349] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528904892 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:19.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:19.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:19.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18582349]
2025-12-17T16:15:19.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bbb2522] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.806+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117785975 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:19.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:19.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:19.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bbb2522]
2025-12-17T16:15:19.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122bceec] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1350265790 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:19.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:19.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:19.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:19.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122bceec]
2025-12-17T16:15:19.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:19.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:19.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:19.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:19.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:19.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:19.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:19.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:19.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b1c2fb] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1624611280 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:19.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:19.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:19.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b1c2fb]
2025-12-17T16:15:19.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51329306] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93932114 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:19.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:19.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:19.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51329306]
2025-12-17T16:15:19.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac7fdb1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068034892 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:19.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:19.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:19.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac7fdb1]
2025-12-17T16:15:19.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b186404] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.930+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251077283 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:19.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:19.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:19.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:15:19.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b186404]
2025-12-17T16:15:19.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:19.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61af6431] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:19.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772028996 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:19.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:19.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:19.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:19.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61af6431]
2025-12-17T16:15:19.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:19.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:19.963+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:28.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/75/receipt
2025-12-17T16:15:28.745+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/75/receipt
2025-12-17T16:15:28.761+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75/receipt
2025-12-17T16:15:28.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/75/receipt
2025-12-17T16:15:28.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/75/receipt", parameters={multipart}
2025-12-17T16:15:29.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#uploadReceipt(Long, MultipartFile)
2025-12-17T16:15:29.109+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.b.controller.ExpenseController       : 영수증 업로드 요청 - expenseId: 75, userId: 17, filename: 테스트이미지 (1).jpg
2025-12-17T16:15:29.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:29.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af]
2025-12-17T16:15:29.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853662539 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will be managed by Spring
2025-12-17T16:15:29.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:29.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:29.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:29.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af]
2025-12-17T16:15:29.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af] from current transaction
2025-12-17T16:15:29.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:29.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:29.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:29.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af]
2025-12-17T16:15:29.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af] from current transaction
2025-12-17T16:15:29.691+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.insertReceipt      : ==>  Preparing: INSERT INTO receipt_tb ( expense_report_id, file_path, original_filename, file_size, uploaded_by, uploaded_at, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:15:29.781+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.insertReceipt      : ==> Parameters: 75(Long), uploads/receipts/75/febd9991-3289-4a71-9f46-dcb57561ba01/receipt_20251217161529_테스트이미지 (1).jpg(String), 테스트이미지 (1).jpg(String), 2191873(Long), 17(Long), 2025-12-17T16:15:29.595125100(LocalDateTime), 1(Long)
2025-12-17T16:15:29.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.insertReceipt      : <==    Updates: 1
2025-12-17T16:15:29.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af]
2025-12-17T16:15:29.829+09:00  INFO 44840 --- [http-nio-8080-exec-1] SECURITY                                 : FILE_UPLOAD userId=17 expenseId=75 detail=테스트이미지 (1).jpg
2025-12-17T16:15:29.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af]
2025-12-17T16:15:29.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af]
2025-12-17T16:15:29.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe06af]
2025-12-17T16:15:29.946+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.b.controller.ExpenseController       : 영수증 업로드 완료 - expenseId: 75
2025-12-17T16:15:29.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:29.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=영수증 업로드 완료, data=null)]
2025-12-17T16:15:29.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:31.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:31.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:31.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:31.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:31.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:31.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:31.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5372a5f9] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:31.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918567465 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:31.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:31.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:31.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:31.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5372a5f9]
2025-12-17T16:15:31.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:31.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1893e37c] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:31.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@579198088 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:31.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:31.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:31.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:31.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1893e37c]
2025-12-17T16:15:31.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:31.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1084269e] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:31.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386646001 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:31.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:31.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:31.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:31.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1084269e]
2025-12-17T16:15:31.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:31.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c61e5d3] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:31.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224429079 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:31.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:31.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:31.330+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:15:31.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c61e5d3]
2025-12-17T16:15:31.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:31.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e11c8e2] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:31.346+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567483790 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:31.347+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:31.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:31.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:31.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e11c8e2]
2025-12-17T16:15:31.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:31.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:31.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:31.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/75/febd9991-3289-4a71-9f46-dcb57561ba01/receipt_20251217161529_테스트이미지 (1).jpg
2025-12-17T16:15:31.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:15:33.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/receipts/16/download
2025-12-17T16:15:33.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/receipts/16/download
2025-12-17T16:15:33.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/receipts/16/download
2025-12-17T16:15:33.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/receipts/16/download
2025-12-17T16:15:33.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/receipts/16/download", parameters={}
2025-12-17T16:15:33.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#downloadReceipt(Long)
2025-12-17T16:15:33.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:33.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653f610a] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:33.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166351260 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:33.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectReceiptById  : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.receipt_id = ? AND r.company_id = ?
2025-12-17T16:15:33.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectReceiptById  : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:15:33.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectReceiptById  : <==      Total: 1
2025-12-17T16:15:33.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653f610a]
2025-12-17T16:15:33.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:33.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ec5c81] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:33.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229675435 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:33.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:33.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:33.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:33.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ec5c81]
2025-12-17T16:15:33.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:33.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@243e97cf] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:33.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@908382109 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:33.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:33.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:33.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:33.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@243e97cf]
2025-12-17T16:15:33.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:33.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e465f51] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:33.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773205945 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:33.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:33.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:33.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:33.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e465f51]
2025-12-17T16:15:33.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:33.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194ed4] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:33.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1281963345 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:33.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:33.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:33.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:33.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194ed4]
2025-12-17T16:15:33.329+09:00  INFO 44840 --- [http-nio-8080-exec-7] SECURITY                                 : FILE_DOWNLOAD userId=17 expenseId=75 detail=테스트이미지 (1).jpg
2025-12-17T16:15:33.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/jpeg' in response
2025-12-17T16:15:33.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\InnerSignature\backend\uploads\receipts\75\febd9991-3289-4a71-9f46-dcb57561ba01\receipt_202 (truncated)...]
2025-12-17T16:15:33.343+09:00  WARN 44840 --- [http-nio-8080-exec-7] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="테스트이미지 (1).jpg"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [테] at code point [53,580] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-17T16:15:33.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:36.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:36.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:36.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:15:36.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:36.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:36.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:36.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:15:36.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:36.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:36.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:36.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9e3209] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.642+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.643+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfcece] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981343603 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:36.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:36.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1206028331 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:36.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:36.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:15:36.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:36.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9e3209]
2025-12-17T16:15:36.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:15:36.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfcece]
2025-12-17T16:15:36.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2302130c] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1597481787 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:36.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbe13ee] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245377946 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.712+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2302130c]
2025-12-17T16:15:36.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbe13ee]
2025-12-17T16:15:36.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b6d150] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1520383257 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:36.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d5dea8] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:36.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457152063 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:36.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:36.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:15:36.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:36.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b6d150]
2025-12-17T16:15:36.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:15:36.745+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.745+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d5dea8]
2025-12-17T16:15:36.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799183ad] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645063070 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:36.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0efce4] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:36.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@902847411 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:36.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.761+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:36.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@799183ad]
2025-12-17T16:15:36.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264e8f39] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1396174006 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:36.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0efce4]
2025-12-17T16:15:36.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.779+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:36.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:15:36.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:36.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264e8f39]
2025-12-17T16:15:36.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:36.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:36.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5657813b] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:15:36.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@70450063 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:36.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:36.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:15:36.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:36.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:36.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.820+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42fee807] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:36.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1229324536 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:36.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5657813b]
2025-12-17T16:15:36.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:36.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:15:36.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e982bdc] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.829+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606872941 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:36.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.835+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:15:36.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42fee807]
2025-12-17T16:15:36.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e982bdc]
2025-12-17T16:15:36.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74001b69] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:36.844+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2020790742 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:36.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:36.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:36.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:36.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74001b69]
2025-12-17T16:15:36.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:15:36.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b373d43] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:36.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872279071 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:36.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:36.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:36.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:15:36.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:36.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5f8eaf] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:15:36.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1988024667 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b373d43]
2025-12-17T16:15:36.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:36.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526cdcd5] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:36.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880309502 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:36.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:36.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526cdcd5]
2025-12-17T16:15:36.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5f8eaf]
2025-12-17T16:15:36.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:36.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:15:36.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e99cf1c] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:36.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794954902 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:36.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:36.946+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:36.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e99cf1c]
2025-12-17T16:15:36.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110c6861] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@568177779 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:36.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:36.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:36.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110c6861]
2025-12-17T16:15:36.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:36.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4490222] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:36.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995718058 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:36.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:36.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:37.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:37.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4490222]
2025-12-17T16:15:37.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:37.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f5b1b] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:37.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1222312354 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:37.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:37.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:37.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:37.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f5b1b]
2025-12-17T16:15:37.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:37.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d3998e] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:37.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1757061068 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:37.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:37.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:37.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:37.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d3998e]
2025-12-17T16:15:37.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:37.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3e3085] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:37.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1177280357 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:37.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:37.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:15:37.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:37.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3e3085]
2025-12-17T16:15:37.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:37.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:37.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:37.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:15:37.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-17T16:15:37.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:15:37.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:15:37.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:15:37.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNyIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:15:37.444+09:00  INFO 44840 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=17
2025-12-17T16:15:37.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:37.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:15:37.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:40.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:15:40.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:15:40.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:15:40.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:15:40.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:15:40.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2025-12-17T16:15:40.038+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2025-12-17T16:15:40.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167ea8c3] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@19866624 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:40.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:15:40.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ksu14044(String)
2025-12-17T16:15:40.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:15:40.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167ea8c3]
2025-12-17T16:15:40.157+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 14, role: USER, companyId: 1
2025-12-17T16:15:40.158+09:00  INFO 44840 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=14 username=ksu14044 role=USER
2025-12-17T16:15:40.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:40.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=14, username=ksu14044, password= (truncated)...]
2025-12-17T16:15:40.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:40.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:40.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:15:40.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:15:40.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:40.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:40.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:15:40.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:15:40.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:40.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:40.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:40.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3026df42] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a84b1c9] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064299129 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:40.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650272274 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:40.728+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:40.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:40.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:15:40.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:40.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:15:40.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a84b1c9]
2025-12-17T16:15:40.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:40.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:15:40.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:40.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:40.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3026df42]
2025-12-17T16:15:40.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.760+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43447313] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:15:40.761+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330005004 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:40.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:40.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:40.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:40.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:15:40.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:15:40.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:15:40.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f24572b] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276499213 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:40.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:15:40.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:40.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:15:40.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43447313]
2025-12-17T16:15:40.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c44ffd] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912105533 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:40.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:40.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:40.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:15:40.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f24572b]
2025-12-17T16:15:40.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:40.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:15:40.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:40.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:40.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c44ffd]
2025-12-17T16:15:40.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72882624] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098916911 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:40.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:40.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:40.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:40.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72882624]
2025-12-17T16:15:40.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1219df62] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554918403 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:40.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:40.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:40.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:40.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1219df62]
2025-12-17T16:15:40.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a7f36cb] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@373359145 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:40.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:40.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:40.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:40.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a7f36cb]
2025-12-17T16:15:40.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a5cf5e] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1784636367 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:40.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:40.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:40.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:40.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a5cf5e]
2025-12-17T16:15:40.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:40.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:40.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:40.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:40.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:15:40.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:40.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:40.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:15:40.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:40.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37898f28] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:40.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@641564171 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:40.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:40.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:41.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:41.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37898f28]
2025-12-17T16:15:41.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ffb5b1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1813183454 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:41.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:41.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:41.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:41.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ffb5b1]
2025-12-17T16:15:41.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46902e29] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@50809207 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:41.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:41.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:41.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:41.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46902e29]
2025-12-17T16:15:41.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49f8fd20] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@249459536 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:41.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:15:41.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:15:41.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:15:41.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49f8fd20]
2025-12-17T16:15:41.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1191a4] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166959643 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:41.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:41.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:41.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:41.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1191a4]
2025-12-17T16:15:41.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@510db8a5] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383164305 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:41.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:15:41.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:15:41.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:15:41.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@510db8a5]
2025-12-17T16:15:41.279+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26a7777f] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@441662366 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:15:41.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:41.296+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:41.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:41.312+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26a7777f]
2025-12-17T16:15:41.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:41.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:15:41.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:41.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:41.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:41.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:41.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:41.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:41.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2214a06c] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@704335022 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:41.880+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:41.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:41.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2214a06c]
2025-12-17T16:15:41.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@312726ce] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@595380445 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:41.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:41.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:41.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@312726ce]
2025-12-17T16:15:41.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.904+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5992b9d1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1368126843 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:41.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:41.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:41.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5992b9d1]
2025-12-17T16:15:41.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcf7977] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56561006 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:41.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:41.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:15:41.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcf7977]
2025-12-17T16:15:41.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1b8517] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179001186 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:15:41.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:41.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:41.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:41.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1b8517]
2025-12-17T16:15:41.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:41.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:41.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:41.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:15:41.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/75
2025-12-17T16:15:41.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:15:41.945+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/75/febd9991-3289-4a71-9f46-dcb57561ba01/receipt_20251217161529_테스트이미지 (1).jpg
2025-12-17T16:15:41.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:15:41.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:15:41.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:15:41.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@af90b5a] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1472907596 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:41.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:41.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:41.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@af90b5a]
2025-12-17T16:15:41.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45dfa150] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1144786843 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:41.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:15:41.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.977+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:15:41.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45dfa150]
2025-12-17T16:15:41.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343bb881] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@215374455 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:41.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:41.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:41.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343bb881]
2025-12-17T16:15:41.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@454f5b8] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841474051 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:41.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:15:41.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:41.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:15:41.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@454f5b8]
2025-12-17T16:15:41.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:41.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d904924] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:41.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1313507355 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:15:42.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:42.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:42.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:42.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d904924]
2025-12-17T16:15:42.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:15:42.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:15:42.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:42.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/receipts/16/download
2025-12-17T16:15:42.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/receipts/16/download
2025-12-17T16:15:42.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/receipts/16/download
2025-12-17T16:15:42.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/receipts/16/download", parameters={}
2025-12-17T16:15:42.843+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#downloadReceipt(Long)
2025-12-17T16:15:42.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:42.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@471609a] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:42.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696986580 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:42.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.receipt_id = ? AND r.company_id = ?
2025-12-17T16:15:42.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:15:42.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : <==      Total: 1
2025-12-17T16:15:42.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@471609a]
2025-12-17T16:15:42.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:42.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6538e1] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:42.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1373017706 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:42.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:15:42.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:42.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:15:42.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6538e1]
2025-12-17T16:15:42.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:42.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311942ec] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:42.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112069662 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:42.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:15:42.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:15:42.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:15:42.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311942ec]
2025-12-17T16:15:42.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:15:42.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6682219] was not registered for synchronization because synchronization is not active
2025-12-17T16:15:42.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2107444762 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:15:42.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:15:42.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:15:42.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:15:42.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6682219]
2025-12-17T16:15:42.922+09:00  INFO 44840 --- [http-nio-8080-exec-10] SECURITY                                 : FILE_DOWNLOAD userId=14 expenseId=75 detail=테스트이미지 (1).jpg
2025-12-17T16:15:42.923+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/jpeg' in response
2025-12-17T16:15:42.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\InnerSignature\backend\uploads\receipts\75\febd9991-3289-4a71-9f46-dcb57561ba01\receipt_202 (truncated)...]
2025-12-17T16:15:42.926+09:00  WARN 44840 --- [http-nio-8080-exec-10] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="테스트이미지 (1).jpg"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [테] at code point [53,580] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-17T16:15:43.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:15:59.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:15:59.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:15:59.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:15:59.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:15:59.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:15:59.996+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:15:59.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:15:59.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:15:59.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:00.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:00.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102a360f] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d9454a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1879657818 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:00.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@50496166 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:00.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:00.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:00.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:00.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:16:00.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:00.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:00.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d9454a]
2025-12-17T16:16:00.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102a360f]
2025-12-17T16:16:00.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:00.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:00.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7adab2] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:00.046+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@717368128 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:00.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:00.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:16:00.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:00.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:00.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:16:00.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:16:00.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:00.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4a7744] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:00.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7adab2]
2025-12-17T16:16:00.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1826784332 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:00.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59c56b25] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:00.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264017381 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:00.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:16:00.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:00.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:00.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:00.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:00.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4a7744]
2025-12-17T16:16:00.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59c56b25]
2025-12-17T16:16:00.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:00.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:00.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7acc940d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:00.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144852018 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:00.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:00.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:00.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:00.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7acc940d]
2025-12-17T16:16:00.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb33c83] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@818002340 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:00.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:00.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:00.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:00.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb33c83]
2025-12-17T16:16:00.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eed7774] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697112334 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:00.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:00.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:00.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:00.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eed7774]
2025-12-17T16:16:00.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79cba7f7] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208157037 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:00.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:00.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:00.262+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:00.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79cba7f7]
2025-12-17T16:16:00.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:00.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:00.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:00.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:00.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:16:00.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:00.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:00.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:00.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbecc4a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924335711 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:00.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:00.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:00.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:00.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbecc4a]
2025-12-17T16:16:00.386+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@864a04c] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@62989655 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:00.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:00.388+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:00.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:00.395+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@864a04c]
2025-12-17T16:16:00.396+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6b0f67] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1101050982 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:00.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:00.410+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:00.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:00.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6b0f67]
2025-12-17T16:16:00.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73071954] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1201872996 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:00.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:00.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:00.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:00.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73071954]
2025-12-17T16:16:00.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b4309c] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229792935 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:00.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:00.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:00.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:00.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b4309c]
2025-12-17T16:16:00.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f55751] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@312654243 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:00.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:00.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:00.479+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:00.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f55751]
2025-12-17T16:16:00.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:00.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f96bb9] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:00.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1718217736 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:00.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:00.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:00.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:00.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f96bb9]
2025-12-17T16:16:00.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:00.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:00.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:03.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2025-12-17T16:16:03.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2025-12-17T16:16:03.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2025-12-17T16:16:03.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/38
2025-12-17T16:16:03.610+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2025-12-17T16:16:03.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2025-12-17T16:16:03.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:16:03.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609e31b4] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1162982155 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:03.628+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:03.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:03.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609e31b4]
2025-12-17T16:16:03.640+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3505fe63] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@611600310 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:03.643+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:16:03.643+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:16:03.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3505fe63]
2025-12-17T16:16:03.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73abe558] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1774713768 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:03.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:03.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:16:03.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73abe558]
2025-12-17T16:16:03.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28340f49] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.661+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@77184562 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:03.661+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:16:03.661+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:16:03.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28340f49]
2025-12-17T16:16:03.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb61bf9] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2012224769 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:03.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:03.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:03.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:03.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb61bf9]
2025-12-17T16:16:03.678+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:03.682+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=18,  (truncated)...]
2025-12-17T16:16:03.684+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:03.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2025-12-17T16:16:03.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/38
2025-12-17T16:16:03.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2025-12-17T16:16:03.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/38/bb704376-f997-403a-bd5c-c139fe58b6da/receipt_20251210172229_테스트이미지 (1).jpg
2025-12-17T16:16:03.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2025-12-17T16:16:03.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:16:03.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:16:03.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8c030c] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1284279534 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:03.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:03.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:03.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8c030c]
2025-12-17T16:16:03.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4856efac] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1013787422 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:03.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:16:03.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:16:03.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4856efac]
2025-12-17T16:16:03.812+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29df353e] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1443599398 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:03.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:03.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:16:03.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29df353e]
2025-12-17T16:16:03.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667cb1fd] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@920260297 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:03.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:16:03.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2025-12-17T16:16:03.845+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:16:03.846+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667cb1fd]
2025-12-17T16:16:03.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:03.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64480b5d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:03.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731771760 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:03.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:03.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:03.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:03.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64480b5d]
2025-12-17T16:16:03.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:03.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=18,  (truncated)...]
2025-12-17T16:16:03.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:05.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:16:05.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:05.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:05.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:16:05.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:16:05.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:16:05.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:05.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:05.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:05.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b3609] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:05.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c9fae3] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@846965941 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:05.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:05.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@989366423 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:05.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:16:05.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:05.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:05.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:05.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b3609]
2025-12-17T16:16:05.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:05.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:05.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c9fae3]
2025-12-17T16:16:05.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:05.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:05.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6942f9dc] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93783424 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:05.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:05.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:16:05.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:05.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:05.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=14
2025-12-17T16:16:05.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=14", parameters={masked}
2025-12-17T16:16:05.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:05.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:05.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6942f9dc]
2025-12-17T16:16:05.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de870bf] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431529194 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:05.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d9859b1] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:05.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1407900103 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:05.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 14(Long), 1(Long)
2025-12-17T16:16:05.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:05.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:05.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:05.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de870bf]
2025-12-17T16:16:05.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:05.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:05.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:05.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d9859b1]
2025-12-17T16:16:05.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:05.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a24856] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452858114 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:05.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:05.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:05.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:05.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a24856]
2025-12-17T16:16:05.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb18e2a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1979354450 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:05.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:05.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:05.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:05.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb18e2a]
2025-12-17T16:16:05.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e2f26da] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@750598123 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:05.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:05.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:05.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:05.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e2f26da]
2025-12-17T16:16:05.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38526d8e] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061983656 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:05.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:05.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:05.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:05.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38526d8e]
2025-12-17T16:16:05.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:05.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:05.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:05.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:05.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:16:05.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:05.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:05.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:05.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f321fb] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1661308191 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:05.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:05.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:05.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:05.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f321fb]
2025-12-17T16:16:05.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac7e4cf] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234080417 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:05.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:05.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:05.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:05.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac7e4cf]
2025-12-17T16:16:05.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aef8c11] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335618079 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:05.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:05.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:05.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:05.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aef8c11]
2025-12-17T16:16:05.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@106c0c29] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.228+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@910529841 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:05.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:05.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:05.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:05.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@106c0c29]
2025-12-17T16:16:05.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f2c2f3a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339122098 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:05.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:05.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:05.245+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:05.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f2c2f3a]
2025-12-17T16:16:05.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a30de] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1597082172 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:05.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:05.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:05.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:05.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a30de]
2025-12-17T16:16:05.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:05.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@722c6a21] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:05.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@583014522 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:05.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:05.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 14(Long)
2025-12-17T16:16:05.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:05.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@722c6a21]
2025-12-17T16:16:05.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:05.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:05.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:05.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:16:05.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 14, role: USER, companyId: 1, uri: /api/logout
2025-12-17T16:16:05.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:16:05.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:16:05.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:16:05.861+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:16:05.862+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=14
2025-12-17T16:16:05.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:05.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:16:05.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:08.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:16:08.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:16:08.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:16:08.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:16:08.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:16:08.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=park, password=1234)]
2025-12-17T16:16:08.756+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: park
2025-12-17T16:16:08.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:08.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7492eac3] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:08.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1183039366 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:08.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:16:08.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: park(String)
2025-12-17T16:16:08.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:16:08.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7492eac3]
2025-12-17T16:16:08.848+09:00  INFO 44840 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 18, role: USER, companyId: 1
2025-12-17T16:16:08.848+09:00  INFO 44840 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=18 username=park role=USER
2025-12-17T16:16:08.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:08.849+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=18, username=park, password=null (truncated)...]
2025-12-17T16:16:08.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:09.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:09.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:09.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:09.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:16:09.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:09.473+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:09.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:09.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:09.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:09.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:09.485+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f41efa9] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=18", parameters={masked}
2025-12-17T16:16:09.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:09.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d508320] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1805092933 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:09.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1516705865 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:09.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:09.500+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:09.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 18(Long), 1(Long)
2025-12-17T16:16:09.501+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:09.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:09.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:09.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d508320]
2025-12-17T16:16:09.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f41efa9]
2025-12-17T16:16:09.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:09.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:09.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@496307ee] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:09.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@868090852 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:09.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:09.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:09.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:09.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:09.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:09.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=18", parameters={masked}
2025-12-17T16:16:09.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:09.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:09.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@496307ee]
2025-12-17T16:16:09.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22acd5d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449d7203] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1412803940 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:09.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:09.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 18(Long), 1(Long)
2025-12-17T16:16:09.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450365308 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:09.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:09.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:09.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22acd5d]
2025-12-17T16:16:09.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:09.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:09.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:09.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:09.525+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449d7203]
2025-12-17T16:16:09.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673378e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1891431685 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:09.528+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:09.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:09.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@673378e3]
2025-12-17T16:16:09.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70605691] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216587294 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:09.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:09.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:09.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70605691]
2025-12-17T16:16:09.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26dd3a2] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884019104 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:09.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:09.545+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:09.545+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26dd3a2]
2025-12-17T16:16:09.546+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7983f14d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354409756 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:09.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:09.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:09.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7983f14d]
2025-12-17T16:16:09.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:09.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:09.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:09.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:09.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:16:09.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:09.576+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:09.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:09.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ab08dc0] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@77821857 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:09.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:09.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:09.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ab08dc0]
2025-12-17T16:16:09.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7f23b3] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1088382769 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:09.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:09.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:09.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7f23b3]
2025-12-17T16:16:09.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9897860] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.593+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319940185 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:09.595+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:09.599+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:09.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9897860]
2025-12-17T16:16:09.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a77a9b6] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@419401952 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:09.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:09.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:09.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a77a9b6]
2025-12-17T16:16:09.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.607+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7190d3] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749517330 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:09.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:09.611+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:09.611+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7190d3]
2025-12-17T16:16:09.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d81af1a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.613+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790006641 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.616+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:09.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:09.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:09.622+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d81af1a]
2025-12-17T16:16:09.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:09.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c16a77] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:09.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1226367274 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:09.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:09.627+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:09.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:09.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c16a77]
2025-12-17T16:16:09.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:09.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:09.639+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:12.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:16:12.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/75
2025-12-17T16:16:12.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:16:12.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:16:12.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:16:12.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1216b280] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647943692 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:12.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:12.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:12.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1216b280]
2025-12-17T16:16:12.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604ca686] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1173403861 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:12.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:16:12.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:16:12.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604ca686]
2025-12-17T16:16:12.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61769974] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678474058 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:12.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:12.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:16:12.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61769974]
2025-12-17T16:16:12.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8e9f47] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702944411 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:12.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:16:12.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:16:12.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8e9f47]
2025-12-17T16:16:12.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58333d28] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347413454 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:12.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:12.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:12.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:12.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58333d28]
2025-12-17T16:16:12.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:12.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:16:12.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:12.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:16:12.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/75
2025-12-17T16:16:12.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:16:12.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:16:12.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:16:12.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276821a7] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338032507 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:12.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:12.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/75/febd9991-3289-4a71-9f46-dcb57561ba01/receipt_20251217161529_테스트이미지 (1).jpg
2025-12-17T16:16:12.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:16:12.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:12.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276821a7]
2025-12-17T16:16:12.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0f6032] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.143+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@214713656 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:12.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:16:12.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:16:12.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0f6032]
2025-12-17T16:16:12.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae10dce] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1242555984 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:12.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:12.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:16:12.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae10dce]
2025-12-17T16:16:12.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3a9094] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115467680 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:12.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:16:12.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:12.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:16:12.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3a9094]
2025-12-17T16:16:12.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:12.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be63274] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:12.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1129362860 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:12.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:12.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:12.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:12.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be63274]
2025-12-17T16:16:12.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:12.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:16:12.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:15.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/receipts/16/download
2025-12-17T16:16:15.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/receipts/16/download
2025-12-17T16:16:15.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/receipts/16/download
2025-12-17T16:16:15.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/receipts/16/download", parameters={}
2025-12-17T16:16:15.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#downloadReceipt(Long)
2025-12-17T16:16:15.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:15.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4403e514] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:15.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2085243870 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:15.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectReceiptById  : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.receipt_id = ? AND r.company_id = ?
2025-12-17T16:16:15.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectReceiptById  : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:16:15.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectReceiptById  : <==      Total: 1
2025-12-17T16:16:15.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4403e514]
2025-12-17T16:16:15.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:15.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@137000b8] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:15.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@852049375 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:15.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:15.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:15.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:15.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@137000b8]
2025-12-17T16:16:15.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:15.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5787973b] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:15.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1155606707 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:15.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:15.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:15.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:16:15.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5787973b]
2025-12-17T16:16:15.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:15.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe91dad] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:15.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1421634340 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:15.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:15.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:15.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:15.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe91dad]
2025-12-17T16:16:15.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:15.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482830c5] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:15.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062946840 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:15.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:15.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:15.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:15.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482830c5]
2025-12-17T16:16:15.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:15.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a43fdd8] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:15.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@870599757 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:15.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:15.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:15.079+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:15.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a43fdd8]
2025-12-17T16:16:15.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-17T16:16:15.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=영수증 조회 권한이 없습니다., data=null)]
2025-12-17T16:16:15.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-17T16:16:18.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/receipts/16/download
2025-12-17T16:16:18.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/receipts/16/download
2025-12-17T16:16:18.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/receipts/16/download
2025-12-17T16:16:18.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/receipts/16/download", parameters={}
2025-12-17T16:16:18.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#downloadReceipt(Long)
2025-12-17T16:16:18.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:18.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1d43b4] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:18.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940550169 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:18.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.receipt_id = ? AND r.company_id = ?
2025-12-17T16:16:18.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:16:18.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectReceiptById  : <==      Total: 1
2025-12-17T16:16:18.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1d43b4]
2025-12-17T16:16:18.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:18.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3013510] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:18.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1733950112 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:18.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:18.760+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:18.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:18.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3013510]
2025-12-17T16:16:18.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:18.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fdeb511] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:18.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368945743 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:18.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:18.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:16:18.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:16:18.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fdeb511]
2025-12-17T16:16:18.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:18.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f9a6a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:18.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1810088297 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:18.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:18.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:18.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:18.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f9a6a]
2025-12-17T16:16:18.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:18.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606b01da] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:18.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498756471 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:18.779+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:18.779+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:18.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:18.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606b01da]
2025-12-17T16:16:18.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:18.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e294d5d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:18.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1718936211 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:18.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:18.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:18.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:18.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e294d5d]
2025-12-17T16:16:18.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-17T16:16:18.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=영수증 조회 권한이 없습니다., data=null)]
2025-12-17T16:16:18.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-17T16:16:22.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:22.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:22.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:16:22.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:22.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:22.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:22.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:22.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=18", parameters={masked}
2025-12-17T16:16:22.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:22.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:22.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ee112] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ec03bd] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1013566288 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:22.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@476037038 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:22.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:22.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:22.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 18(Long), 1(Long)
2025-12-17T16:16:22.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:22.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:22.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ec03bd]
2025-12-17T16:16:22.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:22.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:22.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:22.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ee112]
2025-12-17T16:16:22.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:22.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530b3223] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:22.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1699266169 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:22.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:22.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:22.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=18
2025-12-17T16:16:22.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:22.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=18", parameters={masked}
2025-12-17T16:16:22.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:22.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:22.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530b3223]
2025-12-17T16:16:22.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed73900] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781297ec] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1921132775 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:22.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134853928 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:22.743+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:22.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:22.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 18(Long), 1(Long)
2025-12-17T16:16:22.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:16:22.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:22.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed73900]
2025-12-17T16:16:22.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781297ec]
2025-12-17T16:16:22.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:22.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:16:22.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1f2ca2] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:22.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734244314 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:22.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:22.760+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:22.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:22.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1f2ca2]
2025-12-17T16:16:22.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1921c1ca] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1806271600 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:22.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:22.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:22.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:22.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1921c1ca]
2025-12-17T16:16:22.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1241db] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690677826 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:22.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:22.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:22.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:22.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1241db]
2025-12-17T16:16:22.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb8c2b5] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@864568320 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:22.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:22.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:22.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:22.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb8c2b5]
2025-12-17T16:16:22.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:22.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:22.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:22.795+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:22.801+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/expenses
2025-12-17T16:16:22.801+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:22.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:22.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:22.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a953870] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1214610823 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:22.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:22.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:22.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a953870]
2025-12-17T16:16:22.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eddd46d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097685886 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:22.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:22.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:22.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eddd46d]
2025-12-17T16:16:22.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea8eb85] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516302977 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:22.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:22.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:22.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea8eb85]
2025-12-17T16:16:22.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0205ba] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1656698780 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:22.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:22.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:22.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0205ba]
2025-12-17T16:16:22.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c8eb77] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@450626849 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:22.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:22.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:22.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c8eb77]
2025-12-17T16:16:22.862+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5844d2ba] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1043401110 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:22.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:22.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:22.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5844d2ba]
2025-12-17T16:16:22.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:22.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63cce190] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:22.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@501431889 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:22.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:22.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 18(Long)
2025-12-17T16:16:22.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:22.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63cce190]
2025-12-17T16:16:22.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:22.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:22.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:26.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:16:26.761+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 18, role: USER, companyId: 1, uri: /api/logout
2025-12-17T16:16:26.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:16:26.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:16:26.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:16:26.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxOCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:16:26.774+09:00  INFO 44840 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=18
2025-12-17T16:16:26.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:26.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:16:26.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:29.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:16:29.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:16:29.673+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:16:29.673+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:16:29.673+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:16:29.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ha_exec, password=1234)]
2025-12-17T16:16:29.674+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: ha_exec
2025-12-17T16:16:29.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:29.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fd1400] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:29.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1920352990 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:29.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:16:29.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ha_exec(String)
2025-12-17T16:16:29.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:16:29.681+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fd1400]
2025-12-17T16:16:29.765+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 15, role: ADMIN, companyId: 1
2025-12-17T16:16:29.765+09:00  INFO 44840 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=15 username=ha_exec role=ADMIN
2025-12-17T16:16:29.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:29.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=15, username=ha_exec, password=n (truncated)...]
2025-12-17T16:16:29.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:30.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:16:30.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:30.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:30.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-17T16:16:30.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:16:30.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:30.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:16:30.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:30.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:16:30.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:16:30.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:16:30.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:16:30.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:30.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:16:30.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:30.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:16:30.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e83185] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:30.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:16:30.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:16:30.278+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:30.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.277+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:16:30.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:16:30.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@643130102 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:30.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3488f60f] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:30.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34505521] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:16:30.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:30.293+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 15(Long)
2025-12-17T16:16:30.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621867786 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:30.295+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:30.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:16:30.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.294+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146552529 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:30.304+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:16:30.304+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7865aedb] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:30.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e83185]
2025-12-17T16:16:30.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:30.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:16:30.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:30.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:16:30.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764624976 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:30.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:16:30.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:16:30.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34505521]
2025-12-17T16:16:30.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:30.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:30.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3488f60f]
2025-12-17T16:16:30.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446f9550] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6c661] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1945906552 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:30.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581004286 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:30.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:16:30.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7865aedb]
2025-12-17T16:16:30.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.329+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:30.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:16:30.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6c661]
2025-12-17T16:16:30.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:30.338+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e1e82] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@876103116 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:30.342+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446f9550]
2025-12-17T16:16:30.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:30.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.343+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:16:30.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:30.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fbe3e15] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.345+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:16:30.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@927199143 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:30.351+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:16:30.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:30.356+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:16:30.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:16:30.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:30.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:16:30.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e1e82]
2025-12-17T16:16:30.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:30.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:16:30.358+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fbe3e15]
2025-12-17T16:16:30.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:30.359+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ffdea6] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4499817c] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938615349 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:30.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:30.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53cf2d58] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.361+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975782252 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:30.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:30.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1972828265 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:30.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:16:30.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:16:30.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:30.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ffdea6]
2025-12-17T16:16:30.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.375+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4499817c]
2025-12-17T16:16:30.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:16:30.376+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eae3517] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:30.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53cf2d58]
2025-12-17T16:16:30.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@807063690 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:30.377+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:16:30.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:30.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.385+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:30.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:16:30.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.389+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:30.392+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:30.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:30.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eae3517]
2025-12-17T16:16:30.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:30.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:16:30.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472581d8] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:30.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@945554086 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:30.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:30.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@337a5891] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:30.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1580181024 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:30.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:30.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:16:30.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:30.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472581d8]
2025-12-17T16:16:30.411+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.412+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:16:30.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@337a5891]
2025-12-17T16:16:30.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69665dbc] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146353873 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:30.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.420+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3569a95a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.422+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1579795822 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:30.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69665dbc]
2025-12-17T16:16:30.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3569a95a]
2025-12-17T16:16:30.426+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1a09d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:30.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1485932260 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:30.427+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:30.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:30.429+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:16:30.430+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:30.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:30.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:16:30.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:30.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:30.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:30.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b4bf90] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:16:30.475+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1a09d]
2025-12-17T16:16:30.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162e5e65] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@409325941 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:30.477+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.478+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1343852325 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:30.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:30.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.489+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:30.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162e5e65]
2025-12-17T16:16:30.492+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:30.493+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:16:30.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:30.494+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:30.495+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b4bf90]
2025-12-17T16:16:30.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bffdbd] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@342339228 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:30.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bffdbd]
2025-12-17T16:16:30.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37355459] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.510+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125333783 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:30.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:30.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:30.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:30.524+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37355459]
2025-12-17T16:16:30.526+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.527+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400618b] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428501710 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:30.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:30.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:30.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:30.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400618b]
2025-12-17T16:16:30.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dbab72] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1708163739 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:30.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.543+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.547+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dbab72]
2025-12-17T16:16:30.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad327b2] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359434657 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:30.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:30.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:30.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:30.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad327b2]
2025-12-17T16:16:30.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:30.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d56a51] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:30.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510489710 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:30.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:30.558+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:30.561+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:30.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d56a51]
2025-12-17T16:16:30.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:30.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:30.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:32.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:16:32.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/admins
2025-12-17T16:16:32.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:16:32.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:16:32.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:16:32.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:32.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1896f7cd] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:32.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415756611 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:32.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:16:32.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-17T16:16:32.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 2
2025-12-17T16:16:32.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1896f7cd]
2025-12-17T16:16:32.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:32.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=15, username=ha_exec, password= (truncated)...]
2025-12-17T16:16:32.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:32.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:16:32.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/admins
2025-12-17T16:16:32.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:16:32.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:16:32.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:16:32.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:32.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189365af] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:32.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1992699522 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:32.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:16:32.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-17T16:16:32.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 2
2025-12-17T16:16:32.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189365af]
2025-12-17T16:16:32.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:32.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=15, username=ha_exec, password= (truncated)...]
2025-12-17T16:16:32.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:33.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:33.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:33.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:16:33.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:16:33.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:33.806+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:16:33.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:33.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:33.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:16:33.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:33.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:16:33.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:16:33.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:33.815+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:33.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:16:33.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.820+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:33.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff0d6f3] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:33.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8e1aab] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:33.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:33.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1208163363 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:33.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e1f03d9] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:33.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:33.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2824934 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:33.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:33.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1196222855 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:33.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:33.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:16:33.844+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:16:33.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:16:33.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:33.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff0d6f3]
2025-12-17T16:16:33.872+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:16:33.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:16:33.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b39a3d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:33.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e1f03d9]
2025-12-17T16:16:33.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8e1aab]
2025-12-17T16:16:33.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1685871143 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:33.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:33.878+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:33.881+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:16:33.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ee1345e] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:33.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:33.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:33.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@393738119 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:33.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:33.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:33.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:16:33.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:16:33.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:33.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b39a3d]
2025-12-17T16:16:33.905+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:16:33.902+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:33.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d35a0d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:33.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:16:33.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ee1345e]
2025-12-17T16:16:33.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1566526520 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:33.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:16:33.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:33.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:33.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:33.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb9600d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:33.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:33.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2077097472 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:33.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:33.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:33.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@675e2675] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:34.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:16:34.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1875167619 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:34.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d35a0d]
2025-12-17T16:16:34.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:16:34.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:16:34.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb9600d]
2025-12-17T16:16:34.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:16:34.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7f91ff] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869643151 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:34.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6aaea] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:34.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@34085721 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:34.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:34.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:16:34.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@675e2675]
2025-12-17T16:16:34.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:34.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:16:34.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:34.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:34.109+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6aaea]
2025-12-17T16:16:34.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7f91ff]
2025-12-17T16:16:34.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:34.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:16:34.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b819f26] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:34.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219618240 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:34.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:34.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:34.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:34.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:16:34.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:34.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffb73dc] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b819f26]
2025-12-17T16:16:34.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1173632662 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:34.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:34.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67427310] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:16:34.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@14526577 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:34.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:34.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:34.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:16:34.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffb73dc]
2025-12-17T16:16:34.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd308ec] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@184744281 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:34.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.261+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:34.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.272+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67427310]
2025-12-17T16:16:34.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd308ec]
2025-12-17T16:16:34.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b7458b] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7603cc7f] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444509758 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:34.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1362116155 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:34.320+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:34.322+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:16:34.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.325+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:16:34.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b7458b]
2025-12-17T16:16:34.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7603cc7f]
2025-12-17T16:16:34.327+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:34.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.328+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:34.332+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ede596] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:34.334+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2078647200 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:34.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.344+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:34.350+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:16:34.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:34.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:34.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:34.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.368+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78bfff6c] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ede596]
2025-12-17T16:16:34.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:34.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:16:34.373+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:34.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@284564895 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:34.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:34.384+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:34.387+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:34.390+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78bfff6c]
2025-12-17T16:16:34.391+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.392+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e79274] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1903477962 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:34.393+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.394+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e79274]
2025-12-17T16:16:34.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2084cf8f] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.407+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1209572825 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:34.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:34.409+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:34.428+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:34.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2084cf8f]
2025-12-17T16:16:34.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f5f662c] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.441+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@958480127 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:34.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:34.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:34.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:34.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f5f662c]
2025-12-17T16:16:34.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.458+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4027f70a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@67995428 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:34.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.459+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4027f70a]
2025-12-17T16:16:34.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.467+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d0b3a74] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.468+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@577444216 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:34.469+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:34.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:34.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:34.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d0b3a74]
2025-12-17T16:16:34.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2288271b] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@651452836 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:34.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2288271b]
2025-12-17T16:16:34.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:34.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:34.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:34.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-17T16:16:34.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-17T16:16:34.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-17T16:16:34.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-17T16:16:34.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-17T16:16:34.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-17T16:16:34.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-17T16:16:34.944+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 15
2025-12-17T16:16:34.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:34.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bcad4ab] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:34.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1926578132 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:34.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:34.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:34.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:34.961+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bcad4ab]
2025-12-17T16:16:34.966+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 15
2025-12-17T16:16:34.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:34.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=15, username=ha_exec, passwor (truncated)...]
2025-12-17T16:16:34.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:34.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-17T16:16:34.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/me
2025-12-17T16:16:34.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-17T16:16:35.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-17T16:16:35.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-17T16:16:35.004+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 15
2025-12-17T16:16:35.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:35.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f09f91f] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:35.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197760553 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:35.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:35.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:35.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:35.015+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f09f91f]
2025-12-17T16:16:35.017+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 15
2025-12-17T16:16:35.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:35.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=15, username=ha_exec, passwor (truncated)...]
2025-12-17T16:16:35.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:37.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:37.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:37.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:16:37.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:16:37.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:37.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:16:37.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:37.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:37.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:16:37.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:37.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:16:37.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:16:37.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:37.912+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:37.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:16:37.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:37.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211a950b] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@703ce6fa] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.919+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:37.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3202206e] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@788946588 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:37.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608566302 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:37.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:37.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:37.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1086532862 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:37.928+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:16:37.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:16:37.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:37.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:16:37.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:16:37.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:16:37.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:37.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3202206e]
2025-12-17T16:16:37.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@703ce6fa]
2025-12-17T16:16:37.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211a950b]
2025-12-17T16:16:37.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:37.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:16:37.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119c2e21] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7d33f6] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:37.943+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339885615 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:37.944+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1096497328 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:37.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:37.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:37.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:16:37.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:37.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:37.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:16:37.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:16:37.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:16:37.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:37.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:37.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:16:37.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119c2e21]
2025-12-17T16:16:37.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7d33f6]
2025-12-17T16:16:37.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:37.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.962+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17cb527] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:16:37.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542d25e6] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68932733 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:37.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:37.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:37.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607183972 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:37.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:37.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5205d82] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:37.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:37.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@497277872 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:37.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:16:37.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:16:37.995+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:16:38.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:16:38.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:38.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542d25e6]
2025-12-17T16:16:38.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17cb527]
2025-12-17T16:16:38.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:16:38.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43963cd7] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.012+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac2092d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5205d82]
2025-12-17T16:16:38.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125013846 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:38.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@519261919 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:38.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:38.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:38.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:16:38.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:38.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:38.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:38.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43963cd7]
2025-12-17T16:16:38.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac2092d]
2025-12-17T16:16:38.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:38.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:16:38.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e89966] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:38.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1569285591 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:38.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:38.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:16:38.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e89966]
2025-12-17T16:16:38.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:16:38.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1319d4b7] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.047+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:16:38.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623809051 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:38.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:16:38.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:38.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:38.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4090746f] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1018034366 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:38.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:16:38.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:38.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1319d4b7]
2025-12-17T16:16:38.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:16:38.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8361ed] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:16:38.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@820165766 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:16:38.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4090746f]
2025-12-17T16:16:38.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652086ea] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@642819373 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:38.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8361ed]
2025-12-17T16:16:38.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:38.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:38.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652086ea]
2025-12-17T16:16:38.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:38.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e8930] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1674070091 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:38.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:38.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:16:38.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:16:38.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:16:38.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:16:38.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:16:38.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:16:38.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:16:38.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2abaebd6] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e8930]
2025-12-17T16:16:38.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd840c8] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@492385162 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:38.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.187+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1286942893 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:38.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:38.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:38.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd840c8]
2025-12-17T16:16:38.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:38.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:16:38.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:38.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:38.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2abaebd6]
2025-12-17T16:16:38.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1de80693] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428768978 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:38.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.211+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1de80693]
2025-12-17T16:16:38.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11eff6a8] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282324120 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:38.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:38.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:38.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:38.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11eff6a8]
2025-12-17T16:16:38.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b7b55] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814005518 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:38.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:16:38.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:16:38.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 38
2025-12-17T16:16:38.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b7b55]
2025-12-17T16:16:38.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@120ef894] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1260832851 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:38.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.274+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.275+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@120ef894]
2025-12-17T16:16:38.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f6a7be1] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172352704 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:38.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:16:38.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:16:38.291+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 45
2025-12-17T16:16:38.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f6a7be1]
2025-12-17T16:16:38.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:38.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241021cf] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:38.295+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@412738527 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:16:38.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:38.303+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:38.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:38.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241021cf]
2025-12-17T16:16:38.310+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:38.311+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:16:38.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:39.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:16:39.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/admins
2025-12-17T16:16:39.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:16:39.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:16:39.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:16:39.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:39.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aca1cd4] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:39.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016095324 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:39.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:16:39.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-17T16:16:39.110+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 2
2025-12-17T16:16:39.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aca1cd4]
2025-12-17T16:16:39.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:39.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=15, username=ha_exec, password= (truncated)...]
2025-12-17T16:16:39.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:39.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-17T16:16:39.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/admins
2025-12-17T16:16:39.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-17T16:16:39.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-17T16:16:39.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-17T16:16:39.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:39.127+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e26c20f] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:39.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@786640240 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:16:39.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-17T16:16:39.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-17T16:16:39.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 2
2025-12-17T16:16:39.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e26c20f]
2025-12-17T16:16:39.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:39.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=15, username=ha_exec, password= (truncated)...]
2025-12-17T16:16:39.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:55.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/create
2025-12-17T16:16:55.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/create
2025-12-17T16:16:55.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/create
2025-12-17T16:16:55.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/create", parameters={}
2025-12-17T16:16:55.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#createExpense(ExpenseReportDto)
2025-12-17T16:16:55.673+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseReportDto(expenseReportId=null, drafterId=15, reportDate=2025-12-17, title=분대사대금, totalAmount (truncated)...]
2025-12-17T16:16:55.674+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.b.controller.ExpenseController       : 지출결의서 생성 요청 - drafterId: 15, currentUserId: 15, title: 분대사대금, totalAmount: 2100000
2025-12-17T16:16:55.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:55.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@416548172 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will be managed by Spring
2025-12-17T16:16:55.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:55.695+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:55.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:55.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018] from current transaction
2025-12-17T16:16:55.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018] from current transaction
2025-12-17T16:16:55.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.insertExpenseReport            : ==>  Preparing: INSERT INTO expense_report_tb ( drafter_id, report_date, title, total_amount, status, payment_req_date, is_secret, company_id ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? )
2025-12-17T16:16:55.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.insertExpenseReport            : ==> Parameters: 15(Long), 2025-12-17(LocalDate), 분대사대금(String), 2100000(Long), PAID(String), 2025-12-17(LocalDate), true(Boolean), 1(Long)
2025-12-17T16:16:55.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.insertExpenseReport            : <==    Updates: 1
2025-12-17T16:16:55.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.backend.service.ExpenseService       : 상세 항목 저장 시작 - 항목 수: 1
2025-12-17T16:16:55.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018] from current transaction
2025-12-17T16:16:55.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.insertExpenseDetail            : ==>  Preparing: INSERT INTO expense_detail_tb ( expense_report_id, category, description, amount, note, company_id ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-17T16:16:55.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.insertExpenseDetail            : ==> Parameters: 76(Long), 기타(String), 분대사(String), 2100000(Long), (String), 1(Long)
2025-12-17T16:16:55.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.insertExpenseDetail            : <==    Updates: 1
2025-12-17T16:16:55.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.backend.service.ExpenseService       : 상세 항목 저장 완료
2025-12-17T16:16:55.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.backend.service.ExpenseService       : 급여 또는 비밀글 문서는 결재 라인이 생성되지 않습니다.
2025-12-17T16:16:55.718+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.service.ExpenseService       : 지출결의서 생성 완료 - expenseReportId: 76
2025-12-17T16:16:55.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996f018]
2025-12-17T16:16:55.738+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.b.controller.ExpenseController       : 지출결의서 생성 완료 - expenseId: 76
2025-12-17T16:16:55.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:55.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=기안서 저장 성공, data=76)]
2025-12-17T16:16:55.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:56.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/76
2025-12-17T16:16:56.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/76
2025-12-17T16:16:56.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/76
2025-12-17T16:16:56.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/76
2025-12-17T16:16:56.964+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/76
2025-12-17T16:16:56.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/76", parameters={}
2025-12-17T16:16:56.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:16:56.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:56.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d843bae] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:56.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764925299 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:56.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:56.978+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:56.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:56.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d843bae]
2025-12-17T16:16:56.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:56.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b0b0be] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:56.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@106359926 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:56.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:16:56.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:56.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:16:56.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b0b0be]
2025-12-17T16:16:56.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:56.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf8860a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:56.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@525988491 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:56.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:56.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:57.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:57.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf8860a]
2025-12-17T16:16:57.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c39b3b] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197430655 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:57.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:57.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:57.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 0
2025-12-17T16:16:57.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c39b3b]
2025-12-17T16:16:57.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@190427df] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1095134599 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:57.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:16:57.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:57.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:16:57.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@190427df]
2025-12-17T16:16:57.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad2e980] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112540122 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:16:57.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:57.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:57.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:57.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad2e980]
2025-12-17T16:16:57.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:57.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=76, drafterId=15,  (truncated)...]
2025-12-17T16:16:57.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:16:57.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/76
2025-12-17T16:16:57.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/76
2025-12-17T16:16:57.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/76
2025-12-17T16:16:57.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/76", parameters={}
2025-12-17T16:16:57.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:16:57.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cead9] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1126834207 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:57.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:16:57.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:57.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:16:57.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cead9]
2025-12-17T16:16:57.044+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e3c97e] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@876344651 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:57.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:16:57.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:57.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-17T16:16:57.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e3c97e]
2025-12-17T16:16:57.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33337b2a] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.061+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498465803 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:57.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:57.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:57.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:57.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33337b2a]
2025-12-17T16:16:57.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487a8fd0] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1622693854 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:57.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:16:57.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:57.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 0
2025-12-17T16:16:57.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487a8fd0]
2025-12-17T16:16:57.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a827e6d] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184530146 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:57.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:16:57.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 76(Long), 1(Long)
2025-12-17T16:16:57.077+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-17T16:16:57.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a827e6d]
2025-12-17T16:16:57.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:16:57.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9d5d33] was not registered for synchronization because synchronization is not active
2025-12-17T16:16:57.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44380987 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:16:57.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:16:57.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:16:57.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:16:57.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9d5d33]
2025-12-17T16:16:57.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:16:57.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=76, drafterId=15,  (truncated)...]
2025-12-17T16:16:57.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:03.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:03.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:17:03.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:03.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:17:03.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:03.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:03.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:17:03.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:03.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3061c24e] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:17:03.710+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:17:03.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:17:03.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:03.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:17:03.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815997656 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:03.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:17:03.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:03.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317caf1c] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:03.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:17:03.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:03.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:03.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2133380993 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:03.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:03.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3061c24e]
2025-12-17T16:17:03.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b6cbc5] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:17:03.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60528ca9] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755956540 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:03.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112356584 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:03.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:17:03.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:17:03.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317caf1c]
2025-12-17T16:17:03.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:17:03.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9923c45] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60528ca9]
2025-12-17T16:17:03.743+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727382768 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:17:03.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad94143] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b6cbc5]
2025-12-17T16:17:03.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:03.745+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2124067701 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:03.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:17:03.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:03.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:03.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:03.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:17:03.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9923c45]
2025-12-17T16:17:03.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:17:03.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:17:03.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11716b29] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:17:03.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161025366 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:03.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:17:03.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:03.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:17:03.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:03.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad94143]
2025-12-17T16:17:03.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:03.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9028ab] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9fe0d1] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122556771 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:03.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:17:03.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:03.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11716b29]
2025-12-17T16:17:03.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:03.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cddda92] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@969108580 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:03.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181735427 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:17:03.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:03.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:17:03.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9028ab]
2025-12-17T16:17:03.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a254181] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:17:03.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968176414 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:03.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9fe0d1]
2025-12-17T16:17:03.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cddda92]
2025-12-17T16:17:03.777+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:03.778+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:03.781+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:17:03.782+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:17:03.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:03.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:03.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a254181]
2025-12-17T16:17:03.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:17:03.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e33933c] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:03.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1861935666 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:03.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:17:03.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:03.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:17:03.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:03.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:03.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.792+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be8de71] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110863461 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:03.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:03.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e33933c]
2025-12-17T16:17:03.801+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d1d0b3] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198068550 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:03.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:03.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:17:03.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.806+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:17:03.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55d1d0b3]
2025-12-17T16:17:03.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be8de71]
2025-12-17T16:17:03.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:03.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:03.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374eef1b] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444118229 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:03.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:03.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:03.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374eef1b]
2025-12-17T16:17:03.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:17:03.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3c802e] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093651589 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:03.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:03.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:03.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:17:03.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:03.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:03.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:17:03.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb1d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.828+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3c802e]
2025-12-17T16:17:03.830+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605946008 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5654c4] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:03.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1714659024 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:03.835+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:03.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5654c4]
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb1d7]
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:17:03.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ad20e1] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:03.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699429386 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.844+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.844+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ad20e1]
2025-12-17T16:17:03.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.850+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c282e8b] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605727687 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:03.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:03.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:03.854+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c282e8b]
2025-12-17T16:17:03.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d2457] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2066488939 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:03.857+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:03.860+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:03.865+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d2457]
2025-12-17T16:17:03.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9e1a8] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.868+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1848197726 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.868+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9e1a8]
2025-12-17T16:17:03.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.875+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31826547] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2141730430 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.877+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:03.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:03.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:03.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31826547]
2025-12-17T16:17:03.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:03.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f405c1] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:03.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1660872901 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:03.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:03.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:17:03.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:03.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f405c1]
2025-12-17T16:17:03.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:03.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:03.892+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:09.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:17:09.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-17T16:17:09.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:17:09.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:17:09.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:17:09.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:17:09.285+09:00  INFO 44840 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=15
2025-12-17T16:17:09.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:09.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:17:09.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:15.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:17:15.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:17:15.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:17:15.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:17:15.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:17:15.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ahn_accountant, password=1234)]
2025-12-17T16:17:15.172+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: ahn_accountant
2025-12-17T16:17:15.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb15956] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.174+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@374813785 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:17:15.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ahn_accountant(String)
2025-12-17T16:17:15.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:17:15.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb15956]
2025-12-17T16:17:15.261+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 17, role: ACCOUNTANT, companyId: 1
2025-12-17T16:17:15.262+09:00  INFO 44840 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=17 username=ahn_accountant role=ACCOUNTANT
2025-12-17T16:17:15.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:15.263+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=17, username=ahn_accountant, pas (truncated)...]
2025-12-17T16:17:15.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:15.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:15.609+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:17:15.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:15.625+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:17:15.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:17:15.618+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:17:15.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:15.643+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:15.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:15.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dfed63b] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:15.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7009be4b] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2124928778 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@591234438 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:15.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:15.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:17:15.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:15.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:17:15.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:15.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dfed63b]
2025-12-17T16:17:15.658+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7009be4b]
2025-12-17T16:17:15.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3778e25c] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7102dfbc] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.664+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1287965745 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320551813 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.669+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7102dfbc]
2025-12-17T16:17:15.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3778e25c]
2025-12-17T16:17:15.673+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c68b04] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.674+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb80f9] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1314803391 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2002905176 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:15.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:15.676+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:15.676+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:17:15.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:17:15.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:15.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb80f9]
2025-12-17T16:17:15.686+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c68b04]
2025-12-17T16:17:15.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.687+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b08eb86] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d705b8] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@271533654 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767128717 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:15.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:15.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:15.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b08eb86]
2025-12-17T16:17:15.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d705b8]
2025-12-17T16:17:15.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:15.694+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:17:15.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ccbbbb9] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:15.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@821922653 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:17:15.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=17
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=17", parameters={masked}
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ccbbbb9]
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eb0cfb] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7bc9e5] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@299663148 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:15.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1502285877 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:15.707+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:15.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 17(Long), 1(Long)
2025-12-17T16:17:15.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:15.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eb0cfb]
2025-12-17T16:17:15.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:17:15.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3ddab7] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7bc9e5]
2025-12-17T16:17:15.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1985577311 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:15.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172652a1] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1431344449 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3ddab7]
2025-12-17T16:17:15.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:15.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:15.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:15.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172652a1]
2025-12-17T16:17:15.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:15.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729b0630] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:17:15.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1468916120 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:15.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:17:15.741+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:15.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:15.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:15.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:17:15.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729b0630]
2025-12-17T16:17:15.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8811b74] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9bb11a] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@563846367 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:15.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@988776720 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:15.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:15.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:15.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:15.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9bb11a]
2025-12-17T16:17:15.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8811b74]
2025-12-17T16:17:15.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:15.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:17:15.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@519828ef] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:15.772+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@574070967 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:15.774+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@519828ef]
2025-12-17T16:17:15.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23cb5f69] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855950511 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:15.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:15.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:15.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:15.791+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23cb5f69]
2025-12-17T16:17:15.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@787c3657] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.794+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28646950 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:15.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:15.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:15.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:15.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@787c3657]
2025-12-17T16:17:15.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.802+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7708831b] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851776291 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:15.803+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.804+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.806+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.807+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7708831b]
2025-12-17T16:17:15.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fb3a08e] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.810+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1813045304 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:15.811+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:15.817+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:15.820+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:15.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fb3a08e]
2025-12-17T16:17:15.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:15.824+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e01de80] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:15.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819585566 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:15.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:15.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 17(Long)
2025-12-17T16:17:15.837+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:15.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e01de80]
2025-12-17T16:17:15.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:15.841+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:15.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:19.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:17:19.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 17, role: ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-17T16:17:19.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:17:19.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:17:19.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:17:19.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNyIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:17:19.720+09:00  INFO 44840 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=17
2025-12-17T16:17:19.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:19.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:17:19.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:24.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:17:24.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:17:24.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:17:24.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:17:24.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:17:24.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=son_ceo, password=1234)]
2025-12-17T16:17:24.240+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: son_ceo
2025-12-17T16:17:24.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209d5067] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961793432 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:17:24.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:17:24.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: son_ceo(String)
2025-12-17T16:17:24.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:17:24.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209d5067]
2025-12-17T16:17:24.355+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 16, role: CEO, companyId: 1
2025-12-17T16:17:24.362+09:00  INFO 44840 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=16 username=son_ceo role=CEO
2025-12-17T16:17:24.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:24.367+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=16, username=son_ceo, password=n (truncated)...]
2025-12-17T16:17:24.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:24.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:17:24.821+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:24.822+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:17:24.823+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:17:24.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/companies
2025-12-17T16:17:24.825+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses
2025-12-17T16:17:24.826+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:24.832+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:17:24.833+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=16", parameters={masked}
2025-12-17T16:17:24.827+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-17T16:17:24.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:17:24.831+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:24.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:24.840+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:24.834+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:24.835+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:17:24.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:17:24.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.842+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.847+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:17:24.848+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:17:24.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:17:24.851+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a098e56] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1eb951] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.852+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:17:24.853+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:17:24.856+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.855+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:24.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37893dc7] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593145012 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:24.858+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335766408 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:24.867+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:24.859+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:24.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:24.868+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:24.870+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103786806 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:17:24.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:17:24.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 16(Long)
2025-12-17T16:17:24.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:17:24.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:17:24.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37893dc7]
2025-12-17T16:17:24.873+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec578d7] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:24.874+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:24.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a098e56]
2025-12-17T16:17:24.879+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c844359] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:17:24.876+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:17:24.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2080446340 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:24.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1eb951]
2025-12-17T16:17:24.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@125318300 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:24.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:24.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:24.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.887+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:17:24.890+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:24.891+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415edcdf] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:17:24.894+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736962171 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:24.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:24.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:24.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:17:24.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:24.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:24.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec578d7]
2025-12-17T16:17:24.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415edcdf]
2025-12-17T16:17:24.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c844359]
2025-12-17T16:17:24.907+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:24.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1335ec18] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:17:24.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403df247] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@616194693 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:24.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:24.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589505938 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:24.918+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:24.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:24.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:17:24.921+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:24.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:17:24.924+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:17:24.926+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1335ec18]
2025-12-17T16:17:24.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-17T16:17:24.927+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d020216] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.931+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:17:24.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1097561218 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:24.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:17:24.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:24.933+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:24.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:17:24.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403df247]
2025-12-17T16:17:24.934+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:24.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:24.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a896d6] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:17:24.936+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:24.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732488654 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:24.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d020216]
2025-12-17T16:17:24.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:24.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bdafe80] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:24.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:24.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1191340198 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:24.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:17:24.940+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:17:24.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:24.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:17:24.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:17:24.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:17:24.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:24.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:24.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bdafe80]
2025-12-17T16:17:24.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=16
2025-12-17T16:17:24.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a896d6]
2025-12-17T16:17:24.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:24.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=16", parameters={masked}
2025-12-17T16:17:24.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.954+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:17:24.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:24.955+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13529625] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:24.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401728191 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:24.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:24.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74903aee] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:24.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@76070569 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:24.960+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:24.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:17:24.965+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:24.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13529625]
2025-12-17T16:17:24.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.966+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@671476c7] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617967038 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:24.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-17T16:17:24.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:24.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74903aee]
2025-12-17T16:17:24.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:24.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f332df8] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@981543354 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:24.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:24.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:24.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:24.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@671476c7]
2025-12-17T16:17:24.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:24.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dee5d06] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f332df8]
2025-12-17T16:17:24.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@419998258 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:24.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:24.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494e0fb8] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:24.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532981636 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:24.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:24.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long), 65(Long)
2025-12-17T16:17:24.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:24.976+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dee5d06]
2025-12-17T16:17:24.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:24.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-17T16:17:24.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:24.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494e0fb8]
2025-12-17T16:17:24.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:24.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:24.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3abd0900] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:24.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53998112 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:24.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:24.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:24.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:24.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/expenses
2025-12-17T16:17:24.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:24.992+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:24.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:24.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:24.993+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3abd0900]
2025-12-17T16:17:24.997+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:25.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:25.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd3dce0] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:25.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:17:25.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098641889 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:25.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:25.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:25.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:25.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:25.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd3dce0]
2025-12-17T16:17:25.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:25.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8fecd2f] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:25.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040131084 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:25.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:25.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:25.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:25.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8fecd2f]
2025-12-17T16:17:25.025+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:25.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403253cb] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:25.027+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046182231 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:25.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:25.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:25.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:25.045+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403253cb]
2025-12-17T16:17:25.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:25.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d769a2c] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:25.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789066306 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:25.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:25.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:25.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:25.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d769a2c]
2025-12-17T16:17:25.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:25.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376fd5eb] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:25.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2114035408 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:25.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:25.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:25.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:25.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376fd5eb]
2025-12-17T16:17:25.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:25.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3919a194] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:25.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880161233 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:25.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:17:25.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:17:25.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:17:25.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3919a194]
2025-12-17T16:17:25.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:25.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b928b96] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:25.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1341364337 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:25.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:25.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 16(Long)
2025-12-17T16:17:25.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:25.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b928b96]
2025-12-17T16:17:25.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:25.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:25.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:27.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:17:27.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 16, role: CEO, companyId: 1, uri: /api/logout
2025-12-17T16:17:27.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:17:27.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:17:27.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:17:27.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNiIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:17:27.543+09:00  INFO 44840 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=16
2025-12-17T16:17:27.544+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:27.547+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:17:27.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:32.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:17:32.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:17:32.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:17:32.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:17:32.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:17:32.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=hsw_tax, password=1234)]
2025-12-17T16:17:32.689+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: hsw_tax
2025-12-17T16:17:32.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:32.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a55cb0d] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:32.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1357505347 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:32.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:17:32.693+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: hsw_tax(String)
2025-12-17T16:17:32.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:17:32.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a55cb0d]
2025-12-17T16:17:32.783+09:00  INFO 44840 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1
2025-12-17T16:17:32.784+09:00  INFO 44840 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=20 username=hsw_tax role=TAX_ACCOUNTANT
2025-12-17T16:17:32.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:32.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=20, username=hsw_tax, password=n (truncated)...]
2025-12-17T16:17:32.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:33.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=20
2025-12-17T16:17:33.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=20
2025-12-17T16:17:33.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:33.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:17:33.176+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:17:33.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:33.191+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:33.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:33.192+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:33.193+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:17:33.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:17:33.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:33.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@327d29e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784878a5] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295848957 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:33.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@266501704 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:33.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:33.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:33.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:33.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:17:33.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:17:33.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:33.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784878a5]
2025-12-17T16:17:33.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@327d29e3]
2025-12-17T16:17:33.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:33.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:17:33.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e57c4e0] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:33.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1034256495 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:33.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:33.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:33.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:17:33.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:17:33.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:33.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:17:33.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e57c4e0]
2025-12-17T16:17:33.225+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:17:33.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b63dcb9] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.226+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:17:33.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186871793 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:33.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:33.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:33.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67b2543c] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:33.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798201914 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:33.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b63dcb9]
2025-12-17T16:17:33.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:17:33.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:17:33.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15cfd7bb] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@812406703 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:33.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:33.244+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:33.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:17:33.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67b2543c]
2025-12-17T16:17:33.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:33.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:33.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15cfd7bb]
2025-12-17T16:17:33.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:17:33.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8f5a92] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:33.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880503383 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:33.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:33.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:33.265+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:33.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8f5a92]
2025-12-17T16:17:33.268+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:33.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:33.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:33.273+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:17:33.276+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:17:33.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:17:33.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:17:33.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:17:33.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5293ff6b] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2100989522 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:33.286+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:33.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:33.292+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:33.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5293ff6b]
2025-12-17T16:17:33.299+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.300+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c5daa43] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829979140 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:33.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:33.302+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:33.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:33.306+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c5daa43]
2025-12-17T16:17:33.307+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466f9b83] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.308+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1467035327 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:33.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:17:33.309+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:17:33.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:17:33.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466f9b83]
2025-12-17T16:17:33.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74309adf] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320793177 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:33.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:33.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:33.323+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:33.324+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74309adf]
2025-12-17T16:17:33.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:33.326+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b03c84a] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:33.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462766487 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:33.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:33.333+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:33.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:33.339+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b03c84a]
2025-12-17T16:17:33.340+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:33.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:17:33.341+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:52.365+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:17:52.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:17:52.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:17:52.370+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:17:52.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:17:52.371+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.372+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b7d12d] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.374+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@654992306 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.381+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:17:52.382+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:17:52.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b7d12d]
2025-12-17T16:17:52.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45494c77] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.424+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1608765544 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:17:52.425+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:17:52.442+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45494c77]
2025-12-17T16:17:52.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd982d3] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@284970923 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:17:52.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:17:52.476+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd982d3]
2025-12-17T16:17:52.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.484+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b09de35] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.487+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680858781 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:17:52.490+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:17:52.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b09de35]
2025-12-17T16:17:52.509+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ed76fe] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.517+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403057248 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:52.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:52.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:52.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ed76fe]
2025-12-17T16:17:52.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:52.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:17:52.575+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:52.624+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:17:52.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/75/febd9991-3289-4a71-9f46-dcb57561ba01/receipt_20251217161529_테스트이미지 (1).jpg
2025-12-17T16:17:52.630+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:17:52.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:17:52.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:17:52.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:17:52.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:17:52.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1215badd] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.723+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1031032114 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.724+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:17:52.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:17:52.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1215badd]
2025-12-17T16:17:52.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d59846] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@950606131 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:17:52.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.764+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:17:52.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d59846]
2025-12-17T16:17:52.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723e0853] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493346810 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:17:52.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:17:52.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723e0853]
2025-12-17T16:17:52.818+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.819+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50368d15] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.836+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380482000 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.838+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:17:52.839+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:52.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:17:52.866+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50368d15]
2025-12-17T16:17:52.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:52.869+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257bccb8] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:52.871+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1094824743 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:52.882+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:52.884+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:52.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:52.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257bccb8]
2025-12-17T16:17:52.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:52.903+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:17:52.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:57.742+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/75/tax-processing/complete
2025-12-17T16:17:57.750+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/expenses/75/tax-processing/complete
2025-12-17T16:17:57.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/75/tax-processing/complete
2025-12-17T16:17:57.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/expenses/75/tax-processing/complete
2025-12-17T16:17:57.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/expenses/75/tax-processing/complete", parameters={}
2025-12-17T16:17:57.754+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#completeTaxProcessing(Long)
2025-12-17T16:17:57.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.completeTaxProcessing(java.lang.Long); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:17:57.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.completeTaxProcessing(java.lang.Long); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:17:57.767+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 세무처리 완료 요청 - expenseId: 75, userId: 20
2025-12-17T16:17:57.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:57.775+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10]
2025-12-17T16:17:57.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790580160 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will be managed by Spring
2025-12-17T16:17:57.776+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:17:57.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:57.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:17:57.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10]
2025-12-17T16:17:57.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10] from current transaction
2025-12-17T16:17:57.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:57.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:57.787+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:57.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10]
2025-12-17T16:17:57.788+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10] from current transaction
2025-12-17T16:17:57.789+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateTaxProcessed             : ==>  Preparing: UPDATE expense_report_tb SET tax_processed = ?, tax_processed_at = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:17:57.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateTaxProcessed             : ==> Parameters: true(Boolean), 2025-12-17T16:17:57.788540(LocalDateTime), 75(Long), 1(Long)
2025-12-17T16:17:57.793+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.updateTaxProcessed             : <==    Updates: 1
2025-12-17T16:17:57.796+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10]
2025-12-17T16:17:57.797+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10]
2025-12-17T16:17:57.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10]
2025-12-17T16:17:57.798+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5c5e10]
2025-12-17T16:17:57.807+09:00  INFO 44840 --- [http-nio-8080-exec-8] c.i.b.controller.ExpenseController       : 세무처리 완료 완료 - expenseId: 75
2025-12-17T16:17:57.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:57.808+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 완료, data=null)]
2025-12-17T16:17:57.809+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:58.932+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:17:58.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:17:58.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:17:58.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:17:58.938+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:17:58.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:58.939+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16875e1f] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:58.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565149074 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:58.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:17:58.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:58.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:17:58.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16875e1f]
2025-12-17T16:17:58.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:58.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd6dda5] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:58.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@200285627 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:58.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:17:58.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:58.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:17:58.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd6dda5]
2025-12-17T16:17:58.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:58.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ec317e] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:58.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@600696851 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:58.958+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:17:58.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:58.967+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:17:58.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ec317e]
2025-12-17T16:17:58.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:58.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34bbbfc7] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:58.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812209647 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:58.970+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:17:58.971+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:58.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:17:58.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34bbbfc7]
2025-12-17T16:17:58.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:58.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cf8494] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:58.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946031853 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:17:58.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:58.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:58.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:58.980+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cf8494]
2025-12-17T16:17:58.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:58.981+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:17:58.982+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:58.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/75
2025-12-17T16:17:58.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/75
2025-12-17T16:17:58.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/75
2025-12-17T16:17:58.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/75", parameters={}
2025-12-17T16:17:58.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-17T16:17:58.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:58.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bdebeda] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@394610371 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:59.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:17:59.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:59.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /uploads/receipts/75/febd9991-3289-4a71-9f46-dcb57561ba01/receipt_20251217161529_테스트이미지 (1).jpg
2025-12-17T16:17:59.018+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:17:59.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:17:59.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bdebeda]
2025-12-17T16:17:59.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5731f580] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1368582891 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:59.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-17T16:17:59.022+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:59.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 2
2025-12-17T16:17:59.026+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5731f580]
2025-12-17T16:17:59.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@280f7b69] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.033+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1883899421 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:59.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:17:59.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:59.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:17:59.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@280f7b69]
2025-12-17T16:17:59.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab3b2ed] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1773421281 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:59.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-17T16:17:59.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:59.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-17T16:17:59.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab3b2ed]
2025-12-17T16:17:59.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58cb653f] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1740874489 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:17:59.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:59.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:59.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:59.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58cb653f]
2025-12-17T16:17:59.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:17:59.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=75, drafterId=14,  (truncated)...]
2025-12-17T16:17:59.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:17:59.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/receipts/16/download
2025-12-17T16:17:59.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/receipts/16/download
2025-12-17T16:17:59.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/receipts/16/download
2025-12-17T16:17:59.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/receipts/16/download", parameters={}
2025-12-17T16:17:59.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#downloadReceipt(Long)
2025-12-17T16:17:59.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da0e93b] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1679868797 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:59.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectReceiptById  : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.receipt_id = ? AND r.company_id = ?
2025-12-17T16:17:59.705+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectReceiptById  : ==> Parameters: 16(Long), 1(Long)
2025-12-17T16:17:59.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectReceiptById  : <==      Total: 1
2025-12-17T16:17:59.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da0e93b]
2025-12-17T16:17:59.709+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.712+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7426ffe5] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.713+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1576022881 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:59.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-17T16:17:59.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:59.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-17T16:17:59.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7426ffe5]
2025-12-17T16:17:59.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246898aa] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1735561749 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:59.719+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, u.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-17T16:17:59.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 75(Long), 1(Long)
2025-12-17T16:17:59.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-17T16:17:59.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246898aa]
2025-12-17T16:17:59.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:17:59.759+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd1ba1c] was not registered for synchronization because synchronization is not active
2025-12-17T16:17:59.760+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1813831396 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:17:59.761+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:17:59.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:17:59.801+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:17:59.805+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd1ba1c]
2025-12-17T16:17:59.815+09:00  INFO 44840 --- [http-nio-8080-exec-2] SECURITY                                 : FILE_DOWNLOAD userId=20 expenseId=75 detail=테스트이미지 (1).jpg
2025-12-17T16:17:59.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/jpeg' in response
2025-12-17T16:17:59.816+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\InnerSignature\backend\uploads\receipts\75\febd9991-3289-4a71-9f46-dcb57561ba01\receipt_202 (truncated)...]
2025-12-17T16:17:59.818+09:00  WARN 44840 --- [http-nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="테스트이미지 (1).jpg"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [테] at code point [53,580] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-17T16:17:59.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:02.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:18:02.906+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:02.908+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:18:02.911+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:18:02.909+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:18:02.913+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:18:02.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:02.914+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:18:02.915+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:18:02.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:02.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:18:02.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f82ba5b] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:02.916+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:02.917+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc75816] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:02.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1279642311 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:02.920+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@638242125 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:02.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:02.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:18:02.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:18:02.925+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:02.941+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:18:02.942+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:02.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc75816]
2025-12-17T16:18:02.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f82ba5b]
2025-12-17T16:18:02.950+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:02.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:02.951+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:18:02.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f79ab53] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:02.952+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:02.953+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1547311721 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:02.956+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:02.957+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:02.959+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:02.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:18:02.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:02.968+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:02.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f79ab53]
2025-12-17T16:18:02.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:18:02.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:02.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:18:02.972+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650e0f64] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:02.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:02.973+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@669979557 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:02.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47328b3] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:02.974+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:02.975+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:02.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855799511 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:18:02.983+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:18:02.984+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:18:02.985+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:02.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650e0f64]
2025-12-17T16:18:02.986+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:02.987+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51fad7f0] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:02.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150982020 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:02.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:18:02.988+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:02.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47328b3]
2025-12-17T16:18:02.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:02.989+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:02.990+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:18:02.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:02.991+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:02.994+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51fad7f0]
2025-12-17T16:18:02.998+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:02.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65208828] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:02.999+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1650624043 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:03.000+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:03.001+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:03.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:03.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65208828]
2025-12-17T16:18:03.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:03.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:18:03.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:03.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:18:03.008+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:18:03.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:18:03.009+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:18:03.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:18:03.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:03.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cb493f7] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:03.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1977216432 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:03.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:03.024+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:03.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:03.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cb493f7]
2025-12-17T16:18:03.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:03.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0231ae] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:03.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915769702 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:03.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:03.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:03.041+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:03.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0231ae]
2025-12-17T16:18:03.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:03.042+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21085caf] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:03.043+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747279969 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:03.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:03.052+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:03.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:03.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21085caf]
2025-12-17T16:18:03.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:03.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6030d481] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:03.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@62787852 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:03.059+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:03.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:03.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:03.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6030d481]
2025-12-17T16:18:03.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:03.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a51da58] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:03.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545835855 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:03.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:03.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:03.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:03.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a51da58]
2025-12-17T16:18:03.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:03.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:18:03.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2025-12-17T16:18:04.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2025-12-17T16:18:04.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2025-12-17T16:18:04.092+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2025-12-17T16:18:04.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2025-12-17T16:18:04.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2025-12-17T16:18:04.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2025-12-17T16:18:04.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2025-12-17T16:18:04.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2025-12-17T16:18:04.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2025-12-17T16:18:04.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2025-12-17T16:18:04.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2025-12-17T16:18:04.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2025-12-17T16:18:04.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2025-12-17T16:18:04.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2025-12-17T16:18:04.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2025-12-17T16:18:04.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2025-12-17T16:18:04.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2025-12-17T16:18:04.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2025-12-17T16:18:04.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4838edc4] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.124+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f29819] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.126+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1c9d3f] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b2824dd] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648031991 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:18:04.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(total_amount), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN total_amount ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN total_amount ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2025-12-17T16:18:04.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1156002651 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:04.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995029640 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:04.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(total_amount), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN total_amount ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:18:04.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087873084 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:04.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2025-12-17T16:18:04.142+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:04.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2025-12-17T16:18:04.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2025-12-17T16:18:04.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:04.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2025-12-17T16:18:04.157+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 1
2025-12-17T16:18:04.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b2824dd]
2025-12-17T16:18:04.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.158+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:04.160+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2025-12-17T16:18:04.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 19
2025-12-17T16:18:04.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 세무처리 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, co (truncated)...]
2025-12-17T16:18:04.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1c9d3f]
2025-12-17T16:18:04.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cbbcda2] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4838edc4]
2025-12-17T16:18:04.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f29819]
2025-12-17T16:18:04.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.172+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 현황 통계 조회 성공, data=TaxStatusDto(totalCount=28, pendingCount=19 (truncated)...]
2025-12-17T16:18:04.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=76, drafte (truncated)...]
2025-12-17T16:18:04.175+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.177+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2025-12-17T16:18:04.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.195+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1039947477 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:04.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2025-12-17T16:18:04.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2025-12-17T16:18:04.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2025-12-17T16:18:04.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2025-12-17T16:18:04.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2025-12-17T16:18:04.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2025-12-17T16:18:04.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2025-12-17T16:18:04.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2025-12-17T16:18:04.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2025-12-17T16:18:04.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2025-12-17T16:18:04.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2025-12-17T16:18:04.209+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2025-12-17T16:18:04.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2025-12-17T16:18:04.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5477f79] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694363273 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:18:04.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131afd71] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(total_amount), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN total_amount ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:18:04.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cb8560] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1714300608 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:04.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : <==      Total: 5
2025-12-17T16:18:04.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2025-12-17T16:18:04.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749023307 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:04.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(total_amount), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN total_amount ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN total_amount ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2025-12-17T16:18:04.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cbbcda2]
2025-12-17T16:18:04.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2025-12-17T16:18:04.227+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2025-12-17T16:18:04.229+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 1
2025-12-17T16:18:04.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2025-12-17T16:18:04.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=기타, totalAmount= (truncated)...]
2025-12-17T16:18:04.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5477f79]
2025-12-17T16:18:04.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2025-12-17T16:18:04.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.236+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131afd71]
2025-12-17T16:18:04.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 세무처리 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, co (truncated)...]
2025-12-17T16:18:04.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 19
2025-12-17T16:18:04.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 현황 통계 조회 성공, data=TaxStatusDto(totalCount=28, pendingCount=19 (truncated)...]
2025-12-17T16:18:04.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cb8560]
2025-12-17T16:18:04.242+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2025-12-17T16:18:04.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.243+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.246+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=76, drafte (truncated)...]
2025-12-17T16:18:04.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2025-12-17T16:18:04.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2025-12-17T16:18:04.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.251+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fbd025e] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.253+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1549563403 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:04.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:04.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:04.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:04.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fbd025e]
2025-12-17T16:18:04.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e38253] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.258+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2012989411 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:04.259+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2025-12-17T16:18:04.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2025-12-17T16:18:04.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : <==      Total: 5
2025-12-17T16:18:04.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e38253]
2025-12-17T16:18:04.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=기타, totalAmount= (truncated)...]
2025-12-17T16:18:04.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2025-12-17T16:18:04.590+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2025-12-17T16:18:04.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2025-12-17T16:18:04.592+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2025-12-17T16:18:04.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2025-12-17T16:18:04.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2025-12-17T16:18:04.614+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2025-12-17T16:18:04.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2025-12-17T16:18:04.601+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2025-12-17T16:18:04.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2025-12-17T16:18:04.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2025-12-17T16:18:04.605+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2025-12-17T16:18:04.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.620+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2025-12-17T16:18:04.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2025-12-17T16:18:04.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2025-12-17T16:18:04.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2025-12-17T16:18:04.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.626+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2025-12-17T16:18:04.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75baa76b] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.641+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:18:04.644+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64eea9c3] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.647+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1035879774 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:04.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@991922258 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:18:04.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(total_amount), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN total_amount ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:18:04.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c8c144] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1489262841 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:04.667+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2025-12-17T16:18:04.655+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:04.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be6eb70] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2025-12-17T16:18:04.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2025-12-17T16:18:04.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:04.689+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:04.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 1
2025-12-17T16:18:04.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954939313 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:18:04.690+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 19
2025-12-17T16:18:04.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75baa76b]
2025-12-17T16:18:04.692+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64eea9c3]
2025-12-17T16:18:04.708+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(total_amount), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN total_amount ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN total_amount ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2025-12-17T16:18:04.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c8c144]
2025-12-17T16:18:04.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:04.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.726+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2025-12-17T16:18:04.727+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2e0393] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:04.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 세무처리 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, co (truncated)...]
2025-12-17T16:18:04.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=76, drafte (truncated)...]
2025-12-17T16:18:04.736+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1779393602 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:04.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2025-12-17T16:18:04.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be6eb70]
2025-12-17T16:18:04.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.739+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2025-12-17T16:18:04.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2025-12-17T16:18:04.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 현황 통계 조회 성공, data=TaxStatusDto(totalCount=28, pendingCount=19 (truncated)...]
2025-12-17T16:18:04.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:04.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategorySummary          : <==      Total: 5
2025-12-17T16:18:04.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2e0393]
2025-12-17T16:18:04.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:04.757+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=기타, totalAmount= (truncated)...]
2025-12-17T16:18:04.758+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:47.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:47.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:18:47.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:18:47.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:18:47.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:47.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:18:47.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:18:47.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:18:47.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:18:47.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:18:47.058+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.060+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae133b0] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@517a6dc1] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.064+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@287643311 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:18:47.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@198989384 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:47.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:18:47.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:47.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:18:47.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:47.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:18:47.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:47.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae133b0]
2025-12-17T16:18:47.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@517a6dc1]
2025-12-17T16:18:47.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:47.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43650ea5] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@187533485 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:47.072+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:18:47.074+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:47.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:47.075+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:47.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:47.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:18:47.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:18:47.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:47.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:18:47.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43650ea5]
2025-12-17T16:18:47.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:18:47.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ba28e3] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b791c5] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1405163895 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:47.091+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:47.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@481800948 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:18:47.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:47.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:18:47.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:18:47.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:47.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ba28e3]
2025-12-17T16:18:47.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:18:47.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b791c5]
2025-12-17T16:18:47.101+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15dfa0c] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.102+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:47.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749624820 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:47.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:18:47.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:47.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:47.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:47.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:47.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15dfa0c]
2025-12-17T16:18:47.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.107+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734c1881] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498008446 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:18:47.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:47.108+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:47.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:47.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734c1881]
2025-12-17T16:18:47.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:47.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:18:47.115+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:47.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:18:47.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:18:47.118+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:18:47.119+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:18:47.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:18:47.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d4d66e] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1978561546 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:47.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:47.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:47.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:47.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d4d66e]
2025-12-17T16:18:47.134+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1039ee0d] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2022043260 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:47.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:47.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:47.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:47.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1039ee0d]
2025-12-17T16:18:47.140+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1c7918] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.141+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074439536 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:47.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:18:47.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:18:47.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:18:47.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f1c7918]
2025-12-17T16:18:47.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aedb2f] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030478907 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:47.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:47.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:47.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:47.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aedb2f]
2025-12-17T16:18:47.197+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:18:47.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fcee86] was not registered for synchronization because synchronization is not active
2025-12-17T16:18:47.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1383611957 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:18:47.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:18:47.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:18:47.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:18:47.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fcee86]
2025-12-17T16:18:47.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:47.203+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:18:47.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:18:56.237+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:18:56.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-17T16:18:56.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:18:56.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:18:56.241+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:18:56.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyMCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:18:56.253+09:00  INFO 44840 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=20
2025-12-17T16:18:56.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:18:56.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:18:56.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:06.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=testceo6
2025-12-17T16:19:06.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:19:06.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=testceo6
2025-12-17T16:19:06.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=testceo6", parameters={masked}
2025-12-17T16:19:06.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-17T16:19:06.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:06.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66831384] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:06.711+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295512811 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:06.714+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:19:06.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testceo6(String)
2025-12-17T16:19:06.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:19:06.721+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66831384]
2025-12-17T16:19:06.725+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:06.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-17T16:19:06.733+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:12.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-17T16:19:12.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:19:12.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-17T16:19:12.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-17T16:19:12.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-17T16:19:12.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=testceo6, password=1234, koreanName=testceo, email=, positio (truncated)...]
2025-12-17T16:19:12.088+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회원가입 시도 - username: testceo6, koreanName: testceo, role: CEO
2025-12-17T16:19:12.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:12.090+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e014a86] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:12.094+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812560970 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:19:12.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-17T16:19:12.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: testceo6(String)
2025-12-17T16:19:12.098+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-17T16:19:12.099+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e014a86]
2025-12-17T16:19:12.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:12.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116e576e] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:12.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1079952540 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:19:12.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-17T16:19:12.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : ==> Parameters: testceo6(String), $2a$10$P0jTSDVCZZqx866SFEBAL.SXoC0WKz.cxSSQkm.Bpzbhooo.7HCxS(String), testceo(String), null, 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2025-12-17T16:19:12.212+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-17T16:19:12.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116e576e]
2025-12-17T16:19:12.213+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회원가입 완료 - username: testceo6, role: CEO
2025-12-17T16:19:12.213+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:12.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2025-12-17T16:19:12.222+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:18.353+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:19:18.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:19:18.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:19:18.354+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:19:18.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:19:18.355+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=testceo6, password=1234)]
2025-12-17T16:19:18.356+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: testceo6
2025-12-17T16:19:18.357+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:18.360+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa64290] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:18.362+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884347474 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:18.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:19:18.363+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: testceo6(String)
2025-12-17T16:19:18.366+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:19:18.369+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa64290]
2025-12-17T16:19:18.458+09:00  INFO 44840 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 41, role: CEO, companyId: null
2025-12-17T16:19:18.459+09:00  INFO 44840 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=41 username=testceo6 role=CEO
2025-12-17T16:19:18.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:18.460+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=41, username=testceo6, password= (truncated)...]
2025-12-17T16:19:18.463+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:19.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:19.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:19.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:19:19.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:19:19.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:19:19.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:19:19.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:19.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/companies
2025-12-17T16:19:19.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:19:19.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:19:19.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:19:19.198+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:19:19.186+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:19:19.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:19:19.190+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:19:19.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:19:19.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:19.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:19:19.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13689155] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:19:19.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=41", parameters={masked}
2025-12-17T16:19:19.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:19:19.202+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:19:19.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:19.207+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1170462539 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:19.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:19.208+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:19:19.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:19.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.214+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aca2d1b] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:19:19.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:19.215+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f2a364] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.216+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e8481b] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2041549745 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:19:19.218+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:19:19.217+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:19.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 41(Long), null
2025-12-17T16:19:19.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13689155]
2025-12-17T16:19:19.219+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2136696622 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:19:19.220+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229787796 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:19.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.221+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:19:19.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:19:19.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:19:19.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121e31eb] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.223+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 41(Long)
2025-12-17T16:19:19.224+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aca2d1b]
2025-12-17T16:19:19.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 41(Long)
2025-12-17T16:19:19.230+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545316912 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:19.231+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:19.232+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:19.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:19:19.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:19:19.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:19:19.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:19.233+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e8481b]
2025-12-17T16:19:19.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:19.234+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f2a364]
2025-12-17T16:19:19.235+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:19.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:19.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:19:19.238+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:19.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:19:19.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:19.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:19.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:19.239+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:19:19.240+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121e31eb]
2025-12-17T16:19:19.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:19:19.247+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:19.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:19.248+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=41", parameters={masked}
2025-12-17T16:19:19.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:19:19.250+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:19.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:19:19.249+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:19:19.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13448f47] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.255+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087745674 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:19:19.256+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:19:19.252+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:19:19.260+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:19:19.264+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:19:19.254+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:19:19.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:19:19.267+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:19:19.271+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:19.257+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 41(Long), null
2025-12-17T16:19:19.266+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:19:19.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:19.280+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:19:19.281+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.282+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3442535e] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.283+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1902a964] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.284+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897235676 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:19.285+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:19:19.287+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:19:19.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13448f47]
2025-12-17T16:19:19.288+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282935267 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:19:19.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 41(Long)
2025-12-17T16:19:19.289+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:19.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:19:19.290+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:19.298+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:19.301+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:19.305+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:19:19.313+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3442535e]
2025-12-17T16:19:19.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:19.316+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:19.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:19:19.317+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1902a964]
2025-12-17T16:19:19.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:19.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3707099b] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:19.318+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:19.319+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1873500998 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:19:19.321+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:19.331+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:19.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:19.335+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3707099b]
2025-12-17T16:19:19.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:19.336+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:19:19.337+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:19:21.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:21.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:19:21.503+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:19:21.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:19:21.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:19:21.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:21.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:19:21.505+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:19:21.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:19:21.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:21.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:19:21.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:19:21.507+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:19:21.508+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:19:21.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:19:21.512+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:19:21.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:19:21.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:19:21.513+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:19:21.515+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.514+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.516+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.518+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.519+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.520+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0ad978] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1e3cd5] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.522+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1716e81] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.523+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6722fb6c] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@131438836 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:19:21.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855026270 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:21.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698280512 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:21.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1027929016 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:19:21.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:19:21.531+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:19:21.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:19:21.532+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:19:21.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:19:21.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:19:21.533+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:19:21.534+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:19:21.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:19:21.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6722fb6c]
2025-12-17T16:19:21.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:19:21.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:19:21.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:19:21.536+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0ad978]
2025-12-17T16:19:21.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1e3cd5]
2025-12-17T16:19:21.537+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1716e81]
2025-12-17T16:19:21.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:19:21.538+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:19:21.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.539+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:19:21.540+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:19:21.541+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.544+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:21.546+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:19:21.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:19:21.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:21.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:21.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:19:21.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:19:21.554+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:19:21.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:19:21.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:19:21.556+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:19:21.557+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:19:21.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:19:21.563+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:19:21.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:19:21.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:19:21.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:19:21.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:19:21.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:19:21.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:19:21.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6777352] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1729712482 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:19:21.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:21.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cf0186] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:19:21.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d999fd0] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:21.572+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@913782131 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:21.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:19:21.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129356001 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:21.574+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:19:21.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13891ebc] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:21.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:19:21.580+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:19:21.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@612402493 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:19:21.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:19:21.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:19:21.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:19:21.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6777352]
2025-12-17T16:19:21.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:19:21.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:19:21.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:19:21.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d999fd0]
2025-12-17T16:19:21.586+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cf0186]
2025-12-17T16:19:21.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:19:21.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:19:21.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:19:21.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13891ebc]
2025-12-17T16:19:21.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:19:21.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:21.591+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:21.594+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:19:21.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:22.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-17T16:19:22.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:22.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-17T16:19:22.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-17T16:19:22.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/stats
2025-12-17T16:19:22.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:22.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/status-stats
2025-12-17T16:19:22.004+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2025-12-17T16:19:22.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-17T16:19:22.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-17T16:19:22.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-17T16:19:22.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-17T16:19:22.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-17T16:19:22.006+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-17T16:19:22.014+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-17T16:19:22.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-17T16:19:22.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-17T16:19:22.007+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-17T16:19:22.016+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.017+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-17T16:19:22.019+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-17T16:19:22.031+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.034+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.035+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.036+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.037+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:22.038+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.048+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:22.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:19:22.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:22.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8fe003] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:22.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4710b7be] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:22.049+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:22.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@165f0074] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:22.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@62291133 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:22.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1947169180 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:19:22.050+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76021a30] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:22.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815884610 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:22.051+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-17T16:19:22.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-17T16:19:22.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644158915 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:19:22.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-17T16:19:22.053+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: null
2025-12-17T16:19:22.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2025-12-17T16:19:22.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-17T16:19:22.054+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==> Parameters: null
2025-12-17T16:19:22.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null
2025-12-17T16:19:22.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 0
2025-12-17T16:19:22.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2025-12-17T16:19:22.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-17T16:19:22.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2025-12-17T16:19:22.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4710b7be]
2025-12-17T16:19:22.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8fe003]
2025-12-17T16:19:22.057+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@165f0074]
2025-12-17T16:19:22.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76021a30]
2025-12-17T16:19:22.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:22.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:22.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:22.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:22.065+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[])]
2025-12-17T16:19:22.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2025-12-17T16:19:22.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=0, totalCount=0, (truncated)...]
2025-12-17T16:19:22.066+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2025-12-17T16:19:22.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:22.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:22.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:22.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:58.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:19:58.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:19:58.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:58.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:19:58.569+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:19:58.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:19:58.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:58.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=41", parameters={masked}
2025-12-17T16:19:58.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:19:58.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:19:58.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:19:58.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:19:58.580+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:19:58.577+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:19:58.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:19:58.582+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:58.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:58.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:58.668+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c18d601] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:58.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222438f4] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:58.688+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:58.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:58.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@243f6cfa] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:58.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1939775401 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:58.701+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@331533211 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:19:58.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:19:58.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@877704914 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:58.706+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:58.715+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 41(Long), null
2025-12-17T16:19:58.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:19:58.717+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:58.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 41(Long)
2025-12-17T16:19:58.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:19:58.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:58.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:19:58.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@243f6cfa]
2025-12-17T16:19:58.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c18d601]
2025-12-17T16:19:58.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222438f4]
2025-12-17T16:19:58.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:58.765+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:58.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:58.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:19:58.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0d8bce] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:58.773+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:19:58.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@982367391 wrapping com.mysql.cj.jdbc.ConnectionImpl@46361fc7] will not be managed by Spring
2025-12-17T16:19:58.780+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:58.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:58.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:58.790+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:58.883+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:19:58.885+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:58.888+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-17T16:19:58.886+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/users/pending
2025-12-17T16:19:58.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:19:58.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:19:58.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:19:58.897+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:58.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=41
2025-12-17T16:19:58.899+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=41", parameters={masked}
2025-12-17T16:19:58.898+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:19:58.900+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:19:58.969+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:58.979+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:59.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326f795a] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:59.002+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:59.003+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0d8bce]
2025-12-17T16:19:59.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675171800 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:19:59.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:19:59.005+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77d59681] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:59.010+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:59.011+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 41(Long)
2025-12-17T16:19:59.020+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728473804 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:19:59.021+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:19:59.023+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:19:59.029+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:59.032+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 41(Long), null
2025-12-17T16:19:59.039+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:19:59.040+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:19:59.055+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:19:59.056+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77d59681]
2025-12-17T16:19:59.062+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@326f795a]
2025-12-17T16:19:59.063+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/expenses
2025-12-17T16:19:59.068+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:59.069+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:59.070+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:19:59.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:19:59.073+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:19:59.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:19:59.080+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:59.082+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:19:59.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:19:59.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:59.097+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129439e4] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:59.129+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1765434498 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:19:59.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:59.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:59.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:59.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129439e4]
2025-12-17T16:19:59.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:19:59.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75479f52] was not registered for synchronization because synchronization is not active
2025-12-17T16:19:59.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569336855 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:19:59.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:19:59.154+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-17T16:19:59.159+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-17T16:19:59.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75479f52]
2025-12-17T16:19:59.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:19:59.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-17T16:19:59.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:02.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:20:02.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 41, role: CEO, companyId: null, uri: /api/logout
2025-12-17T16:20:02.652+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:20:02.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:20:02.653+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:20:02.654+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI0MSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:20:02.655+09:00  INFO 44840 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=41
2025-12-17T16:20:02.656+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:02.660+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:20:02.661+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:05.496+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:20:05.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:20:05.497+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:20:05.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:20:05.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:20:05.498+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=hsw_tax, password=1234)]
2025-12-17T16:20:05.499+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: hsw_tax
2025-12-17T16:20:05.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:05.499+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c37040] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:05.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@805475647 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:20:05.502+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:20:05.504+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: hsw_tax(String)
2025-12-17T16:20:05.506+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:20:05.511+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c37040]
2025-12-17T16:20:05.595+09:00  INFO 44840 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1
2025-12-17T16:20:05.595+09:00  INFO 44840 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=20 username=hsw_tax role=TAX_ACCOUNTANT
2025-12-17T16:20:05.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:05.596+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=20, username=hsw_tax, password=n (truncated)...]
2025-12-17T16:20:05.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:06.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:20:06.078+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:20:06.081+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:20:06.084+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:20:06.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:20:06.085+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:20:06.083+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:20:06.086+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:20:06.087+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5377bad9] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.088+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:20:06.089+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:20:06.093+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270cb6ad] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.095+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@102095344 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.096+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:06.100+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:06.103+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1579627989 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:06.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:06.104+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:20:06.105+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5377bad9]
2025-12-17T16:20:06.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:20:06.106+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.111+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54453711] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:20:06.112+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1131728830 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.113+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270cb6ad]
2025-12-17T16:20:06.114+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:06.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:06.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:20:06.116+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:20:06.117+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:06.120+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:20:06.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:20:06.121+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:06.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54453711]
2025-12-17T16:20:06.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=20
2025-12-17T16:20:06.122+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=20", parameters={masked}
2025-12-17T16:20:06.123+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fee759] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.128+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2080285992 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:06.125+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:20:06.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:06.132+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.133+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51f73780] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:06.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43754745 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:06.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fee759]
2025-12-17T16:20:06.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:20:06.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 20(Long), 1(Long)
2025-12-17T16:20:06.139+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47ee26e1] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@920376682 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.144+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:06.145+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-17T16:20:06.146+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:20:06.147+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51f73780]
2025-12-17T16:20:06.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:06.148+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-17T16:20:06.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:06.149+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:06.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47ee26e1]
2025-12-17T16:20:06.152+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32fcae96] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@76762886 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:06.153+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:20:06.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:06.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32fcae96]
2025-12-17T16:20:06.161+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:06.162+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:20:06.163+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:06.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:20:06.167+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-17T16:20:06.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:20:06.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:20:06.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:20:06.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2575ff8] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257638588 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:06.171+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:06.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:06.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2575ff8]
2025-12-17T16:20:06.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753898b8] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302897016 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:06.181+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:20:06.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:06.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@753898b8]
2025-12-17T16:20:06.183+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f878eae] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1590376126 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.184+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:06.185+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:06.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:06.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f878eae]
2025-12-17T16:20:06.188+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.189+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ea5b110] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1032102036 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.194+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:06.196+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:20:06.199+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:06.200+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ea5b110]
2025-12-17T16:20:06.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:06.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b378c72] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:06.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685350197 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:06.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:06.201+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 20(Long)
2025-12-17T16:20:06.204+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:06.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b378c72]
2025-12-17T16:20:06.205+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:06.206+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:20:06.210+09:00 DEBUG 44840 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:12.378+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-17T16:20:12.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 20, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-17T16:20:12.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-17T16:20:12.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-17T16:20:12.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-17T16:20:12.436+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyMCIsInVzZXJuYW1lIjo (truncated)...]
2025-12-17T16:20:12.447+09:00  INFO 44840 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=20
2025-12-17T16:20:12.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:12.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-17T16:20:12.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:15.889+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-17T16:20:15.893+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-17T16:20:15.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-17T16:20:15.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-17T16:20:15.895+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-17T16:20:15.896+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ha_exec, password=1234)]
2025-12-17T16:20:15.897+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: ha_exec
2025-12-17T16:20:15.901+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:15.910+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307d5f1c] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:15.929+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1069801906 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:15.935+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-17T16:20:15.937+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ha_exec(String)
2025-12-17T16:20:15.948+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-17T16:20:15.949+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307d5f1c]
2025-12-17T16:20:16.042+09:00  INFO 44840 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 15, role: ADMIN, companyId: 1
2025-12-17T16:20:16.056+09:00  INFO 44840 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=15 username=ha_exec role=ADMIN
2025-12-17T16:20:16.067+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.071+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=15, username=ha_exec, password=n (truncated)...]
2025-12-17T16:20:16.076+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:16.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-17T16:20:16.398+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:20:16.400+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:20:16.401+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:20:16.404+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:20:16.406+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:20:16.417+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:20:16.402+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-17T16:20:16.403+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:20:16.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:20:16.405+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:20:16.418+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:20:16.419+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-17T16:20:16.421+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:20:16.423+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:20:16.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de89574] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.431+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-17T16:20:16.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:20:16.432+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:20:16.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.433+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057447984 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-17T16:20:16.434+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:20:16.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237718ca] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:20:16.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:20:16.435+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:20:16.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:20:16.437+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getMyCompanies(); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-17T16:20:16.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:20:16.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@806789234 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:16.438+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.439+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:16.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393671f5] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.443+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:20:16.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de89574]
2025-12-17T16:20:16.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.445+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cf4830] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7255ca9b] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.444+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:16.446+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1536611364 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.447+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@506804872 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.449+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==>  Preparing: SELECT * FROM company_tb WHERE created_by = ? AND is_active = 1 ORDER BY created_at DESC
2025-12-17T16:20:16.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : ==> Parameters: 15(Long)
2025-12-17T16:20:16.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488183274 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e9eb478] will not be managed by Spring
2025-12-17T16:20:16.450+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:16.451+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.452+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:20:16.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237718ca]
2025-12-17T16:20:16.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.CompanyMapper.findByCreatedBy    : <==      Total: 0
2025-12-17T16:20:16.453+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:20:16.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.454+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393671f5]
2025-12-17T16:20:16.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cf4830]
2025-12-17T16:20:16.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:20:16.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e236ad] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.455+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:20:16.456+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.457+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7255ca9b]
2025-12-17T16:20:16.461+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@526465326 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:16.462+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:16.464+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fe5749] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.465+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.470+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1831667630 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:20:16.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.471+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:16.472+09:00 DEBUG 44840 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:16.480+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:20:16.482+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-17T16:20:16.486+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-17T16:20:16.488+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.521+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:20:16.547+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fe5749]
2025-12-17T16:20:16.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e946e07] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.548+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1016216195 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.549+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.535+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-17T16:20:16.550+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-17T16:20:16.551+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-17T16:20:16.542+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e236ad]
2025-12-17T16:20:16.552+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:20:16.555+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.562+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f06bff9] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.559+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-17T16:20:16.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453892586 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:16.564+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:16.565+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61ae2b41] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:20:16.566+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866898009 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.567+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status FROM user_tb WHERE company_id = ? AND approval_status = 'PENDING' ORDER BY user_id DESC
2025-12-17T16:20:16.568+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-17T16:20:16.570+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.571+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e946e07]
2025-12-17T16:20:16.573+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-17T16:20:16.579+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61ae2b41]
2025-12-17T16:20:16.578+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:20:16.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.581+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:20:16.583+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f06bff9]
2025-12-17T16:20:16.584+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-17T16:20:16.585+09:00 DEBUG 44840 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:16.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.587+09:00 DEBUG 44840 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:16.588+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520952c5] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1214961162 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:16.589+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:16.597+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:20:16.598+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:16.600+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-17T16:20:16.602+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=15
2025-12-17T16:20:16.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=15", parameters={masked}
2025-12-17T16:20:16.603+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-17T16:20:16.604+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.612+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62503b49] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.613+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845097509 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.614+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:16.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520952c5]
2025-12-17T16:20:16.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.617+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29684cb7] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.619+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@837790757 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:16.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.621+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.615+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-17T16:20:16.623+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 15(Long), 1(Long)
2025-12-17T16:20:16.631+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.633+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29684cb7]
2025-12-17T16:20:16.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.634+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-17T16:20:16.635+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@920e04] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62503b49]
2025-12-17T16:20:16.636+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1811216213 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:16.637+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.638+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:16.643+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dea612a] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.649+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:20:16.649+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@511940525 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.650+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.651+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.657+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.659+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:20:16.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dea612a]
2025-12-17T16:20:16.662+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@920e04]
2025-12-17T16:20:16.663+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.663+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.663+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f977d2d] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.663+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57d9bdae] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.664+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1901765828 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1202416511 wrapping com.mysql.cj.jdbc.ConnectionImpl@364f8fa1] will not be managed by Spring
2025-12-17T16:20:16.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:16.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.665+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 68(Long)
2025-12-17T16:20:16.666+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-17T16:20:16.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f977d2d]
2025-12-17T16:20:16.670+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57d9bdae]
2025-12-17T16:20:16.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.671+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.672+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128329c3] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.675+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:20:16.677+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981370539 wrapping com.mysql.cj.jdbc.ConnectionImpl@d3b250c] will not be managed by Spring
2025-12-17T16:20:16.678+09:00 DEBUG 44840 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:16.678+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.680+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-17T16:20:16.683+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-17T16:20:16.696+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-17T16:20:16.697+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-17T16:20:16.698+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-17T16:20:16.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.699+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432daf87] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.700+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351412586 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.702+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:16.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:16.703+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.704+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128329c3]
2025-12-17T16:20:16.716+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.718+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=68, drafterId= (truncated)...]
2025-12-17T16:20:16.720+09:00 DEBUG 44840 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:16.722+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:16.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432daf87]
2025-12-17T16:20:16.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.729+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bee1cc4] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@353488297 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.730+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.732+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bee1cc4]
2025-12-17T16:20:16.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.734+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2761314f] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1822556507 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.735+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:16.737+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:20:16.740+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:20:16.744+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2761314f]
2025-12-17T16:20:16.746+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.747+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@deaf9dc] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@590305895 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.748+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:16.749+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:16.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 39
2025-12-17T16:20:16.751+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@deaf9dc]
2025-12-17T16:20:16.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@749a371] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.752+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1563922013 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.753+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.755+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@749a371]
2025-12-17T16:20:16.756+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.760+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29333c3] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1208703691 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.762+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:16.763+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long), 57(Long), 56(Long), 55(Long), 54(Long), 53(Long), 52(Long), 51(Long), 50(Long), 49(Long), 48(Long), 47(Long), 39(Long), 38(Long), 37(Long), 36(Long), 35(Long), 34(Long), 33(Long), 32(Long), 31(Long), 30(Long), 29(Long), 28(Long), 27(Long), 26(Long), 25(Long), 23(Long), 22(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long)
2025-12-17T16:20:16.766+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 46
2025-12-17T16:20:16.767+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29333c3]
2025-12-17T16:20:16.768+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:16.769+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df643d1] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:16.770+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@652239495 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:16.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:16.771+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:16.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:16.783+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df643d1]
2025-12-17T16:20:16.784+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-17T16:20:16.785+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-17T16:20:16.786+09:00 DEBUG 44840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-17T16:20:27.131+09:00 DEBUG 44840 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/excel?startDate=2025-12-15&endDate=2025-12-17
2025-12-17T16:20:27.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/excel?startDate=2025-12-15&endDate=2025-12-17
2025-12-17T16:20:27.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 15, role: ADMIN, companyId: 1, uri: /api/expenses/export/excel
2025-12-17T16:20:27.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/excel?startDate=2025-12-15&endDate=2025-12-17
2025-12-17T16:20:27.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/excel?startDate=2025-12-15&endDate=2025-12-17", parameters={masked}
2025-12-17T16:20:27.135+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportExpensesToExcel(String, String)
2025-12-17T16:20:27.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:20:27.136+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportExpensesToExcel(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-17T16:20:27.137+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:27.138+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@120f1e88] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:27.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560127591 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:27.150+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-17T16:20:27.151+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2025-12-15(LocalDate), 2025-12-17(LocalDate), 2147483647(Integer), 0(Integer)
2025-12-17T16:20:27.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 6
2025-12-17T16:20:27.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@120f1e88]
2025-12-17T16:20:27.155+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:27.156+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7688b7db] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:27.164+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836688579 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:27.165+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-17T16:20:27.166+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 15(Long)
2025-12-17T16:20:27.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-17T16:20:27.168+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7688b7db]
2025-12-17T16:20:27.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:27.169+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a85175b] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:27.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501582271 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:27.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:27.170+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long)
2025-12-17T16:20:27.173+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-17T16:20:27.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a85175b]
2025-12-17T16:20:27.178+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-17T16:20:27.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5748902a] was not registered for synchronization because synchronization is not active
2025-12-17T16:20:27.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@364210775 wrapping com.mysql.cj.jdbc.ConnectionImpl@7059417f] will not be managed by Spring
2025-12-17T16:20:27.179+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-17T16:20:27.180+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 76(Long), 75(Long), 68(Long), 67(Long), 66(Long), 65(Long)
2025-12-17T16:20:27.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-17T16:20:27.182+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5748902a]
2025-12-17T16:20:27.254+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 엑셀 파일 생성 완료 - 파일명: expense_export_1152638690321260872.xlsx, 건수: 6
2025-12-17T16:20:27.268+09:00  INFO 44840 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 엑셀 다운로드 요청 - userId: 15, startDate: 2025-12-15, endDate: 2025-12-17
2025-12-17T16:20:27.269+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2025-12-17T16:20:27.270+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\expense_export_1152638690321260872.xlsx]]
2025-12-17T16:20:27.295+09:00  WARN 44840 --- [http-nio-8080-exec-5] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="지출내역_2025-12-15_2025-12-17.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [지] at code point [51,648] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.commit(Response.java:454) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:284) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:264) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:130) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:161) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-17T16:20:27.364+09:00 DEBUG 44840 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
